webpackJsonp([27],{"/Bda":function(t,e){},"1tHw":function(t,e){},EtbM:function(t,e){},IH5v:function(t,e){},Imgx:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("a3Yh"),a=o.n(n),l=o("4YfN"),i=o.n(l),c=o("HVJf"),s=o("YV7O"),r=o("xd7I"),u=o("wSez"),d=o("0xDb");r.default.component(u.CellSwipe.name,u.CellSwipe);new d.a;var m={props:["articleId","artIndex"],data:function(){return{}},created:function(){var t=localStorage.getItem("ajaxData");this.account=JSON.parse(t).account},methods:{delete:function(){"/collectList"==this.$route.path&&(this.$store.commit("collect/setMessageBox",{showMessageBox:!0,tip:"是否从收藏夹中移除？",btnNum:2,type:!1}),this.$store.commit("collect/clearSingleArt",{articleId:this.articleId,index:this.artIndex}))}}},h={render:function(){var t=this,e=this.$createElement,o=this._self._c||e;return o("mt-cell-swipe",{attrs:{right:[{content:"删除",style:{background:"#FF3338",color:"#fff",width:".9rem",textAlign:"center",lineHeight:"1rem",fontSize:".16rem"},handler:function(){return t.delete()}}]}},[o("div",{staticClass:"list-swipe",attrs:{slot:"title"},slot:"title"},[o("div",[o("h1",[this._t("lititle")],2),this._v(" "),o("p",[this._t("button"),this._v(" "),o("span",[this._t("time")],2)],2)]),this._v(" "),this._t("img")],2)])},staticRenderFns:[]};var f=o("C7Lr")(m,h,!1,function(t){o("zd55")},null,null).exports,p=new d.a;r.default.use(u.InfiniteScroll),r.default.component(u.Loadmore.name,u.Loadmore);var v={components:{yanCellSwipe:f},data:function(){return{params:{type:1,account:"",page:1,limit:10},ajaxData:{},baseUrl:"",dataList:[],allLoaded:!1}},computed:i()({},Object(c.d)({list:function(t){return t.collect.articleData}})),watch:{},mounted:function(){},created:function(){var t=localStorage.getItem("ajaxData");this.params.account=JSON.parse(t).account,console.log(this.params.account),this.getCollect()},methods:{go:function(t){this.$router.push({name:"/articleDetails",query:{articleId:t}})},getCollect:function(){var t=this,e=this.params;p.getCollect(e).then(function(e){0===e.code&&(e.data.length<t.params.limit?t.allLoaded=!0:t.allLoaded=!1,t.baseUrl=e.baseUrl,t.$store.commit("collect/setArticleData",e.data),t.params.page++)})},loadBottom:function(){this.$refs.loadmore.onBottomLoaded(),this.getCollect()}},destroyed:function(){this.$store.commit("collect/clearArticleData",[])}},g={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[t.list.length>0?o("ul",{attrs:{id:"list"}},t._l(t.list,function(e,n){return o("li",{key:n,on:{click:function(o){return t.go(e.id)}}},[o("yan-cell-swipe",{ref:"item.id",refInFor:!0,attrs:{articleId:e.id,artIndex:n},scopedSlots:t._u([{key:"lititle",fn:function(){return[t._v("\n              "+t._s(e.title)+"\n            ")]},proxy:!0},{key:"button",fn:function(){return[e.top?o("button",{attrs:{type:"button"}},[t._v("置顶")]):t._e()]},proxy:!0},{key:"time",fn:function(){return[t._v("\n              "+t._s(e.collectTime)+"\n            ")]},proxy:!0},{key:"img",fn:function(){return[o("img",{attrs:{src:e.image,alt:""}})]},proxy:!0}],null,!0)})],1)}),0):o("div",{staticStyle:{"text-align":"center",color:"#000",background:"#fff"}},[t._v("暂无记录")])])],1)},staticRenderFns:[]};var x=o("C7Lr")(v,g,!1,function(t){o("/Bda")},"data-v-38b92344",null).exports;r.default.component(u.CellSwipe.name,u.CellSwipe);var _={render:function(){var t=this,e=this.$createElement,n=this._self._c||e;return n("mt-cell-swipe",{attrs:{right:[{content:"删除",style:{background:"red",color:"#fff",textAlign:"center",lineHeight:".4rem",fontSize:".14rem"},handler:function(){return t.del()}}]}},[n("router-link",{attrs:{slot:"title",to:this.path},slot:"title"},[n("div",{staticClass:"box"},[n("span",[this._v(this._s(this.title))]),this._v(" "),n("img",{attrs:{src:o("LnfO"),alt:""}})])])],1)},staticRenderFns:[]};var b=o("C7Lr")({props:["path","id","i","title"],data:function(){return{}},created:function(){},methods:{del:function(){this.$store.commit("collect/setMessageBox",{showMessageBox:!0,tip:"是否从收藏夹中移除？",btnNum:2,type:!1}),this.$store.commit("collect/clearSingleFaq",{id:this.id,index:this.i})}}},_,!1,function(t){o("IH5v")},null,null).exports,y=new d.a;r.default.use(u.InfiniteScroll),r.default.component(u.Loadmore.name,u.Loadmore);var C={components:{yanCellArrow:b},data:function(){return{params:{type:2,account:"",page:1,limit:10},ajaxData:{},baseUrl:"",allLoaded:!1}},computed:i()({},Object(c.d)({list:function(t){return t.collect.FaqList}})),created:function(){var t=localStorage.getItem("ajaxData");this.params.account=JSON.parse(t).account,this.getCollect()},methods:{getCollect:function(){var t=this,e=this.params;y.getCollect(e).then(function(e){0===e.code&&(e.data.length<t.params.limit?t.allLoaded=!0:t.allLoaded=!1,t.$store.commit("collect/setFaqList",e.data),t.params.page++)})},loadBottom:function(){this.$refs.loadmore.onBottomLoaded(),this.getCollect()}},destroyed:function(){this.$store.commit("collect/clearFaqList",[])}},S={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content"},[o("mt-loadmore",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[t.list.length>0?o("ul",{attrs:{id:"faq"}},t._l(t.list,function(e,n){return o("li",{key:n},[o("yan-cell-arrow",{attrs:{i:n,id:e.id,title:e.title,path:{name:"/questionDetail",query:{id:e.id}}}},[t._v(t._s(e.title))])],1)}),0):o("div",{staticStyle:{"text-align":"center",color:"#000",background:"#fff"}},[t._v("暂无记录")])])],1)},staticRenderFns:[]};var L=o("C7Lr")(C,S,!1,function(t){o("1tHw")},null,null).exports,w=o("fi7s"),D=o("Jear"),k=new d.a,B={components:{listStyle:D.a},props:["list","index","cancleCollect"],data:function(){return{startX:0,endX:0,isDelete:!0,makeSureDelete:!1}},methods:{skip:function(){this.checkSlide()?this.restSlide():this.toDetails()},toDetails:function(){this.$router.push({path:"/productDetails",query:{id:this.list.id}})},touchStart:function(t){this.startX=t.touches[0].clientX},touchEnd:function(t){var e=t.currentTarget.parentElement;this.endX=t.changedTouches[0].clientX,0==e.dataset.type&&this.startX-this.endX>30&&(this.restSlide(),e.dataset.type=1),1==e.dataset.type&&this.startX-this.endX<-30&&(this.restSlide(),e.dataset.type=0),this.startX=0,this.endX=0},checkSlide:function(){for(var t=document.querySelectorAll(".list-item"),e=0;e<t.length;e++)if(1==t[e].dataset.type)return!0;return!1},restSlide:function(){var t=document.querySelectorAll(".list-item");this.isDelete=!0,this.makeSureDelete=!1;for(var e=0;e<t.length;e++)t[e].dataset.type=0},deleteBtn:function(){this.isDelete=!1,this.makeSureDelete=!0},sureDelete:function(){this.makeSureDelete=!1,this.isDelete=!1,this.cancleData(),this.restSlide()},cancleData:function(){var t=this,e={type:3,id:this.list.id,account:this._localAjax().account};k.galleryCancelCollect(e).then(function(e){1===e.status&&t.cancleCollect(t.index)})}}},$={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"list-item",attrs:{"data-type":"0"}},[o("div",{staticClass:"list-box",on:{"!touchstart":function(e){return t.touchStart(e)},"!touchend":function(e){return t.touchEnd(e)},click:function(e){return e.preventDefault(),t.skip(e)}}},[o("listStyle",{staticClass:"list",attrs:{list:t.list,isChangeLike:"collect"}})],1),t._v(" "),o("div",{staticClass:"delete"},[o("p",{directives:[{name:"show",rawName:"v-show",value:t.isDelete,expression:"isDelete"}],staticClass:"delete-icon",on:{click:t.deleteBtn}},[t._v("删除")]),t._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:t.makeSureDelete,expression:"makeSureDelete"}],staticClass:"make_sure",on:{click:t.sureDelete}},[t._v("确认删除")])])])])},staticRenderFns:[]};var q=o("C7Lr")(B,$,!1,function(t){o("EtbM")},"data-v-78a91769",null).exports;r.default.component(u.Loadmore.name,u.Loadmore);var I=new d.a,F={components:{SwipeDelete:q},props:["name"],data:function(){return{list:[],newList:[],allLoaded:!1,showTips:!1}},computed:i()({},Object(c.d)({collectLimit:function(t,e){return t.collectLoadMore.collectLimit},collectScorll:function(t,e){return t.collectLoadMore.collectScorll}})),watch:{name:function(){this.name&&"/personalCenter"===this.name&&this.getData(10)}},mounted:function(){this.initData()},methods:i()({},Object(c.c)(["setCollectLimit","setCollectScorll"]),{recordScrollPosition:function(t){0!==t.target.scrollTop&&this.setCollectScorll(t.target.scrollTop)},listenScrollTop:function(){var t=this;this.$refs.collectScroll.addEventListener("scroll",this.recordScrollPosition,!1),this.$nextTick(function(){t.$refs.collectScroll.scrollTop=t.collectScorll})},initData:function(){this.collectLimit&&this.collectLimit>10?this.getData(this.collectLimit):this.getData(10)},getData:function(t){var e=this,o=this.getParmas(t);I.getCollect(o).then(function(t){if(t.data){e.list=t.data,e.setCollectLimit(e.list.length);var o=e.list.length/10+1;Math.floor(o)<o?(e.allLoaded=!0,e.showTips=!0):(e.allLoaded=!1,e.showTips=!1),e.listenScrollTop()}})},getParmas:function(t){return{type:3,account:this._localAjax().account,page:1,limit:t}},cancleCollect:function(t){this.list.splice(t,1),this.setCollectLimit(this.list.length)},loadBottom:function(){this.$refs.collectLoadMore.onBottomLoaded(),this.pullDownData()},pullDownData:function(){this.allLoaded=!0;var t=this.collectLimit+10;this.getData(t)}})},A={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"collectScroll",staticClass:"collect"},[o("mt-loadmore",{ref:"collectLoadMore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},t._l(t.list,function(e,n){return o("SwipeDelete",{key:n+e,attrs:{list:e,index:n,cancleCollect:t.cancleCollect}})}),1),t._v(" "),t.list.length?t._e():o("div",{staticStyle:{"text-align":"center",color:"#000",background:"#fff",marginTop:"-2vw"}},[t._v("暂无记录")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showTips,expression:"showTips"}],staticClass:"tips"},[t._v("已经到底了")])],1)},staticRenderFns:[]};var M=o("C7Lr")(F,A,!1,function(t){o("jqu0")},"data-v-666ab954",null).exports,T=new d.a,j=a()({components:{mybanner:s.a,collectArticle:x,collectFaq:L,messageBox:w.a,collectProduct:M},data:function(){return{account:"",name:""}},beforeRouteEnter:function(t,e,o){o(function(t){t.name=e.name})},computed:i()({},Object(c.d)({title:function(t){return t.collect.title},activeIndex:function(t){return t.collect.activeIndex},activeComponent:function(t){return t.collect.activeComponent},tabList:function(t){return t.collect.tabList},messageBox:function(t){return t.collect.messageBox},singleArt:function(t){return t.collect.singleArt},articleData:function(t){return t.collect.articleData},singleFaq:function(t){return t.collect.singleFaq},FaqList:function(t){return t.collect.FaqList}})),watch:{},created:function(){var t=localStorage.getItem("ajaxData");this.account=JSON.parse(t).account},methods:{changeTab:function(t){this.$store.commit("collect/setActiveIndex",t),this.$store.commit("collect/setActiveComponent",t)},remove:function(){var t=this;if("collectArticle"===this.activeComponent){var e=this.singleArt.articleId,o=this.account;T.remove(1,e,o).then(function(e){0===e.code&&(t.$store.commit("collect/setMessageBox",{showMessageBox:!0,tip:e.msg,btnNum:1,type:!0}),t.$store.commit("collect/removeArticle",t.singleArt.index))})}if("collectFaq"===this.activeComponent){var n=this.singleFaq.id,a=this.account;T.remove(2,n,a).then(function(e){0===e.code&&(t.$store.commit("collect/setMessageBox",{showMessageBox:!0,tip:e.msg,btnNum:1,type:!0}),t.$store.commit("collect/removeFaq",t.singleFaq.index))})}},cancel:function(){this.$store.commit("collect/setMessageBox",{showMessageBox:!1})}}},"beforeRouteEnter",function(t,e,o){"productDetails"===e.name&&o(function(t){t.changeTab(2)}),o()}),E={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"collect"},[o("mybanner",{attrs:{title:t.title}}),t._v(" "),o("ul",{staticClass:"list-tab"},t._l(t.tabList,function(e,n){return o("li",{key:n,class:t.activeIndex==n?"on":"",on:{click:function(e){return t.changeTab(n)}}},[t._v("\n        "+t._s(e.tabName)+"\n         "),o("p",{staticClass:"line"})])}),0),t._v(" "),o(t.activeComponent,{tag:"component",attrs:{name:t.name}}),t._v(" "),t.messageBox.showMessageBox?o("message-box",{attrs:{type:t.messageBox.type,btnNum:t.messageBox.btnNum},scopedSlots:t._u([{key:"btn-group",fn:function(){return[o("button",{attrs:{type:"button"},on:{click:t.remove}},[t._v("移除")]),t._v(" "),o("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v("取消")])]},proxy:!0},{key:"btn",fn:function(){return[o("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v("确定")])]},proxy:!0}],null,!1,1033094542)},[t._v("\n    "+t._s(t.messageBox.tip)+"\n    ")]):t._e()],1)},staticRenderFns:[]};var N=o("C7Lr")(j,E,!1,function(t){o("op9q")},"data-v-23ee70a0",null);e.default=N.exports},jqu0:function(t,e){},op9q:function(t,e){},zd55:function(t,e){}});
//# sourceMappingURL=27.8dfdac6e0f852fc40c58.js.map