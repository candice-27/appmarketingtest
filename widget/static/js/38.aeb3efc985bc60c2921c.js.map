{"version":3,"sources":["webpack:///src/components/select/mySelect.vue","webpack:///./src/components/select/mySelect.vue?c6f3","webpack:///./src/components/select/mySelect.vue","webpack:///src/components/customer/demandForm.vue","webpack:///./src/components/customer/demandForm.vue?3afc","webpack:///./src/components/customer/demandForm.vue","webpack:///src/components/customer/customerInfo/customerDemand.vue","webpack:///./src/components/customer/customerInfo/customerDemand.vue?f6bd","webpack:///./src/components/customer/customerInfo/customerDemand.vue","webpack:///src/pages/customer/changeDemand.vue","webpack:///./src/pages/customer/changeDemand.vue?41fd","webpack:///./src/pages/customer/changeDemand.vue"],"names":["vue_esm","component","mint_ui_common","name","mySelect","props","components","customerLi","data","slots","values","this","selectList","popupVisible","key","indexVal","mounted","val","methods","select","$refs","picker","setSlotValue","$emit","onValuesChange","select_mySelect","render","_vm","_h","$createElement","_c","_self","staticClass","tag","attrs","leftText","icon","nativeOn","click","$event","_v","_s","position","model","value","callback","$$v","expression","ref","on","change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","demandForm","bigBtn","shopSelect","demand","progressList","buyReasonList","roomNumList","colorPrefList","stylePrefList","shopNameList","proto","roomNum","shopName","shopId","shops","computed","extends_default","Object","vuex_esm","customerDemand","state","customer","shopVal","destroyed","setShopVal","created","ajaxData","localStorage","getItem","JSON","parse","defaultVal","_isRoomNum","tempId","_changeShopName","shopChange","getShopID","id","_this","forEach","item","index","_this2","$set","setOptions","dataList","Picker","selectProgress","selectBuyReason","selectRoomNum","_this3","setTimeout","selectColorPref","selectStylePref","console","log","emitEvent","customer_demandForm","directives","rawName","placeholder","type","domProps","input","target","composing","colorPref","stylePref","buyReason","progress","cols","rows","components_customer_demandForm","sexList","customerInfo","dealOrderInfoDetails","watch","getDemand","js","getAjax","account","tenantId","$route","params","then","res","catch","reject","sexChange","hasShopId","saveCustomerDemand","customerId","details.phone","phone","tip","customerInfo_customerDemand","_m","text","customerDemand_normalizeComponent","changeDemand","mybanner","saveDemand","status","alert","action","$router","go","msg","obj","setCustomerDemand","customer_changeDemand","title","changeDemand_Component","changeDemand_normalizeComponent"],"mappings":"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","file":"static/js/38.aeb3efc985bc60c2921c.js","sourcesContent":["<template>\r\n  <li class=\"mySelect\">\r\n    <ul>\r\n      <li is=\"customerLi\" :leftText=\"leftText\" :icon=\"true\" @click.native=\"select\">\r\n        <span>{{indexVal || `请选择${leftText}`}}</span>\r\n      </li>\r\n      <!-- 通用选择插件 -->\r\n      <li>\r\n        <mt-popup \r\n      position=\"bottom\"\r\n      v-model=\"popupVisible\">\r\n        <mt-picker\r\n        :slots=\"slots\"\r\n        @change=\"onValuesChange\"\r\n        ref=\"picker\"></mt-picker>\r\n      </mt-popup>\r\n      </li>\r\n    </ul>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { DatetimePicker, Picker, Popup } from 'mint-ui'\r\nVue.component(Picker.name, Picker)\r\nVue.component(Popup.name, Popup)\r\nimport customerLi from '../customer/customerLi'\r\n\r\nexport default {\r\n  name: 'mySelect',\r\n  props: ['leftText', 'val', 'selectList'],\r\n  components:{customerLi},\r\n  data() {\r\n    return {\r\n      slots: [{values: this.selectList}],\r\n      popupVisible: false,\r\n      key: false,\r\n      indexVal: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.indexVal = this.val\r\n  },\r\n  methods: {\r\n    select() {\r\n      if (this.indexVal) {\r\n        this.$refs.picker.setSlotValue(0, this.indexVal)\r\n        this.$emit('valChange', this.indexVal)\r\n      } else {\r\n        this.$refs.picker.setSlotValue(0, this.selectList[0])\r\n        this.indexVal = this.selectList[0]\r\n        this.$emit('valChange', this.selectList[0])\r\n      }\r\n      this.popupVisible = true\r\n    },\r\n    onValuesChange(picker, values) {\r\n      if(this.key) {\r\n        this.$emit('valChange', values[0])\r\n        this.indexVal = values[0]\r\n      }else {\r\n        this.key = true\r\n      }\r\n    }\r\n  }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .mySelect{\r\n    ul{\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/select/mySelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"mySelect\"},[_c('ul',[_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":_vm.leftText,\"icon\":true},nativeOn:{\"click\":function($event){return _vm.select($event)}}},[_c('span',[_vm._v(_vm._s(_vm.indexVal || (\"请选择\" + _vm.leftText)))])]),_vm._v(\" \"),_c('li',[_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('mt-picker',{ref:\"picker\",attrs:{\"slots\":_vm.slots},on:{\"change\":_vm.onValuesChange}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2c9e2e09\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/select/mySelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c9e2e09\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./mySelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mySelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mySelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c9e2e09\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./mySelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/select/mySelect.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"demandForm\">\r\n    <ul>\r\n      <li is=\"customerLi\" :leftText=\"'意向产品'\">\r\n        <input @change=\"emitEvent\" v-model=\"demand.intention\" placeholder=\"请填写意向产品\" type=\"text\">\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'颜色偏好'\" :icon=\"true\" @click.native=\"selectColorPref\">\r\n        <span >{{demand.colorPref || '请填写颜色偏好'}}</span>\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'风格偏好'\" :icon=\"true\" @click.native=\"selectStylePref\">\r\n        <span >{{demand.stylePref || '请填写风格偏好'}}</span>\r\n      </li>\r\n       <li is=\"customerLi\" :leftText=\"'购买原因'\" :icon=\"true\" @click.native=\"selectBuyReason\">\r\n        <span>{{demand.buyReason || '请选择购买原因'}}</span>\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'装修进度'\" :icon=\"true\" @click.native=\"selectProgress\">\r\n        <span>{{demand.progress || '请选择装修进度'}}</span>\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'房间数量'\" :icon=\"true\" @click.native=\"selectRoomNum\">\r\n        <span>{{roomNum || '请填写房间数量'}}</span>\r\n      </li>\r\n      <li is=\"shopSelect\" @shopChange=\"shopChange\"></li>\r\n      <!-- <li is=\"customerLi\" :leftText=\"'所属门店'\" :icon=\"true\" @click.native=\"selectShopId\">\r\n        <span>{{shopName || '请选择门店'}}</span>\r\n      </li> -->\r\n      <!-- <li is=\"customerLi\" :leftText=\"'房间数量'\">\r\n        <input @change=\"emitEvent\" v-model=\"demand.roomNum\" placeholder=\"请填写房间数量\" type=\"number\">\r\n      </li> -->\r\n      <li class=\"textarea\">\r\n        <h3>备注：</h3>\r\n        <textarea @change=\"emitEvent\" v-model=\"demand.remark\" name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"描述一下情况吧\"></textarea>\r\n      </li>\r\n    </ul>\r\n    <div class=\"mintComponent\">\r\n      <!-- 性别选择插件 -->\r\n      <mt-popup \r\n      position=\"bottom\"\r\n      v-model=\"popupVisible\">\r\n        <mt-picker\r\n        :slots=\"slots\"\r\n        @change=\"onValuesChange\"\r\n        ref=\"Picker\"></mt-picker>\r\n      </mt-popup>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Vuex, { mapMutations, mapState } from 'vuex'\r\nimport { Picker, Popup } from 'mint-ui'\r\n\r\nVue.component(Picker.name, Picker)\r\nVue.component(Popup.name, Popup)\r\nimport customerLi from '../../components/customer/customerLi'\r\nimport bigBtn from '../../components/customer/bigBtn'\r\nimport shopSelect from '../select/shopSelect'\r\nimport mango from '../../js'\r\nimport {turnParams} from '../../utils/customer'\r\nexport default {\r\n  name:'demandForm',\r\n  components: {\r\n    customerLi,\r\n    bigBtn,\r\n    shopSelect\r\n  },\r\n  props: ['defaultVal'],\r\n  data(){\r\n    return{\r\n      demand: {},\r\n      popupVisible: false,\r\n      slots: [],\r\n      progressList: [{values: ['装修中', '装修完成', '毛坯阶段', '水电木工', '油漆吊顶', '橱柜安装', '地板安装', '木门安装', '洁具安装', '灯饰安装']}],\r\n      buyReasonList: [{values: ['旧床换新', '新房购置', '婚房购置']}],\r\n      roomNumList: [{values: [1, 2, 3, 4, '5及以上']}],\r\n      colorPrefList: [{values :['暖色', '冷色']}],\r\n      stylePrefList: [{values: ['现代', '中式古典', '欧式', '美式', '新中式']}],\r\n      shopNameList: [{values: []}],\r\n      proto: '',\r\n      roomNum:'',\r\n      shopName: '',\r\n      shopId: '',\r\n      shops: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      customerDemand: state => state.customer.customerDemand,\r\n      shopVal: state => state.select.shopVal\r\n    })\r\n  },\r\n  destroyed(){\r\n    this.setShopVal('')\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    let shops = localStorage.getItem('shops')\r\n    this.shops = JSON.parse(shops)\r\n  },\r\n  mounted() {\r\n    // console.log(this.personMsg.shops)\r\n    // this.getShopName()\r\n    if (this.defaultVal) {\r\n      this.demand = this.customerDemand\r\n      this._isRoomNum()\r\n      let tempId = this.customerDemand.shopId\r\n      this._changeShopName(tempId)\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setShopVal']),\r\n    shopChange(val) {\r\n      this.setShopVal(val)\r\n      this.getShopID(this.shopVal)\r\n    },\r\n    //判断房间数量是否大于5\r\n    _isRoomNum() {\r\n      if(this.customerDemand.roomNum === 5) {\r\n        this.roomNum = '5及以上'\r\n      }else {\r\n        this.roomNum = this.customerDemand.roomNum\r\n      }\r\n    },\r\n    // getShopName(id) {\r\n    //   let shopName = []\r\n    //   if(this.shops) {\r\n    //     this.shops.forEach((item, index) => {\r\n    //     shopName.push(item.name)\r\n    //     this.shopNameList[0].values = shopName\r\n    //   });\r\n    //   }\r\n    // },\r\n    _changeShopName(id) {\r\n      if(id) {\r\n        this.shops.forEach((item, index) => {\r\n          if(item.id === id) {\r\n            this.setShopVal(item.name) \r\n          }\r\n      });\r\n      } \r\n    },\r\n    getShopID(name) {\r\n      if(this.shops) {\r\n        this.shops.forEach((item, index) => {\r\n          item.name === name? this.shopId = item.id : ''\r\n      });\r\n      this.$set(this.demand, 'shopId', this.shopId)\r\n      }\r\n    },\r\n    // selectShopId() {\r\n    //   this.slots = this.shopNameList\r\n    //   this.proto = 'shopId'\r\n    //   // 设置性别选择插件的初始值\r\n    //   this.$refs.Picker.setSlotValue(0, this.shopName)\r\n    //   this.popupVisible = true\r\n    // },\r\n    setOptions(data, dataList) {\r\n      if(!this.demand[`${data}`]) {\r\n        this.demand[`${data}`] = dataList[0].values[0]\r\n      }else {\r\n        this.$refs.Picker.setSlotValue(0, this.demand[`${data}`])\r\n      }\r\n    },\r\n    selectProgress() {\r\n      this.slots = this.progressList\r\n      this.proto = 'progress'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('progress', this.progressList)\r\n      this.popupVisible = true\r\n    },\r\n    selectBuyReason() {\r\n      this.slots = this.buyReasonList\r\n      this.proto = 'buyReason'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('buyReason', this.buyReasonList)\r\n      this.popupVisible = true\r\n    },\r\n    selectRoomNum() {\r\n      this.slots = this.roomNumList\r\n      this.proto = 'roomNum'\r\n      //设置性别选择插件的初始值\r\n      setTimeout(() => {\r\n        if(!this.demand.roomNum) {\r\n          this.roomNum = this.roomNumList[0].values[0]\r\n        }else {\r\n          this.$refs.Picker.setSlotValue(0, this.roomNum)\r\n        }\r\n      }, 100);\r\n      this.popupVisible = true\r\n    },\r\n    selectColorPref() {\r\n      this.slots = this.colorPrefList\r\n      this.proto = 'colorPref'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('colorPref', this.colorPrefList)\r\n      this.popupVisible = true\r\n    },\r\n    selectStylePref() {\r\n      this.slots = this.stylePrefList\r\n      this.proto = 'stylePref'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('stylePref', this.stylePrefList)\r\n      this.popupVisible = true\r\n    },\r\n    onValuesChange(picker, values) {\r\n      console.log('选择的装修进度', values)\r\n      // this.demand.progress = values[0]\r\n      // if(this.proto == 'shopId') {\r\n      //   this.shopName = values[0]\r\n      //   this.getShopID(this.shopName)\r\n      //   this.demand.shopId= this.shopId\r\n        \r\n      // }else \r\n      if(this.proto == 'roomNum') {\r\n        this.roomNum = values[0]\r\n        if(this.roomNum === '5及以上') {\r\n          this.demand.roomNum = 5\r\n        }else {\r\n          this.demand.roomNum = this.roomNum\r\n        }\r\n      }else {\r\n        this.demand[this.proto] = values[0]\r\n      }\r\n    },\r\n    emitEvent() {\r\n      this.$emit('changeDemand', this.demand)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common.scss\";\r\n.demandForm{\r\n  background: #f8f8f8;\r\n  li{\r\n    display: flex;\r\n    h3{\r\n      color: $fontCol;\r\n      font-size: $fontSize;\r\n      padding: 0 5vw;\r\n      line-height: 3em;\r\n      border-bottom: 1px solid #ccc;\r\n    }\r\n    textarea{\r\n      background: #fff;\r\n      width: 100vw;\r\n      height: 40vw;\r\n      padding: 3vw 5vw;\r\n      box-sizing: border-box;\r\n      font-size: $fontSize;\r\n    }\r\n  }\r\n  li.textarea{\r\n    display: block;\r\n  }\r\n  .picker{\r\n    width: 100vw;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/demandForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demandForm\"},[_c('ul',[_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'意向产品'}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.demand.intention),expression:\"demand.intention\"}],attrs:{\"placeholder\":\"请填写意向产品\",\"type\":\"text\"},domProps:{\"value\":(_vm.demand.intention)},on:{\"change\":_vm.emitEvent,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.demand, \"intention\", $event.target.value)}}})]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'颜色偏好',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectColorPref($event)}}},[_c('span',[_vm._v(_vm._s(_vm.demand.colorPref || '请填写颜色偏好'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'风格偏好',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectStylePref($event)}}},[_c('span',[_vm._v(_vm._s(_vm.demand.stylePref || '请填写风格偏好'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'购买原因',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectBuyReason($event)}}},[_c('span',[_vm._v(_vm._s(_vm.demand.buyReason || '请选择购买原因'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'装修进度',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectProgress($event)}}},[_c('span',[_vm._v(_vm._s(_vm.demand.progress || '请选择装修进度'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'房间数量',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectRoomNum($event)}}},[_c('span',[_vm._v(_vm._s(_vm.roomNum || '请填写房间数量'))])]),_vm._v(\" \"),_c(\"shopSelect\",{tag:\"li\",on:{\"shopChange\":_vm.shopChange}}),_vm._v(\" \"),_c('li',{staticClass:\"textarea\"},[_c('h3',[_vm._v(\"备注：\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.demand.remark),expression:\"demand.remark\"}],attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"描述一下情况吧\"},domProps:{\"value\":(_vm.demand.remark)},on:{\"change\":_vm.emitEvent,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.demand, \"remark\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('div',{staticClass:\"mintComponent\"},[_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('mt-picker',{ref:\"Picker\",attrs:{\"slots\":_vm.slots},on:{\"change\":_vm.onValuesChange}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-35caf2fb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/demandForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35caf2fb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./demandForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demandForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demandForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35caf2fb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./demandForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35caf2fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/demandForm.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"customerDemand\">\r\n    <ul>\r\n      <li is=\"customerLi\" :leftText=\"'意向产品'\">\r\n        <input v-model=\"customerDemand.intention\" placeholder=\"请填写意向产品\" type=\"text\">\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'颜色偏好'\" :icon=\"true\" @click.native=\"selectColorPref\">\r\n        <span >{{customerDemand.colorPref || '请填写颜色偏好'}}</span>\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'风格偏好'\" :icon=\"true\" @click.native=\"selectStylePref\">\r\n        <span >{{customerDemand.stylePref || '请填写风格偏好'}}</span>\r\n      </li>\r\n      <li is=\"customerLi\" :leftText=\"'购买原因'\" :icon=\"true\" @click.native=\"selectBuyReason\">\r\n        <span>{{customerDemand.buyReason || '请选择购买原因'}}</span>\r\n      </li>\r\n\r\n      <li is=\"customerLi\" :leftText=\"'装修进度'\" :icon=\"true\" @click.native=\"selectProgress\">\r\n        <span>{{customerDemand.progress || '请选择装修进度'}}</span>\r\n      </li>\r\n      <!-- <li is=\"customerLi\" :leftText=\"'房间数量'\">\r\n        <input v-model=\"customerDemand.roomNum\" placeholder=\"请填写房间数量\" type=\"number\">\r\n      </li> -->\r\n      <li is=\"customerLi\" :leftText=\"'房间数量'\" :icon=\"true\" @click.native=\"selectRoomNum\">\r\n        <span>{{roomNum || '请填写房间数量'}}</span>\r\n      </li>\r\n       <li is=\"shopSelect\" @shopChange=\"shopChange\"></li>\r\n       <!-- <li is=\"mySelect\" leftText=\"客户性别\" :selectList=\"sexList\" @valChange=\"sexChange\"></li> -->\r\n      <!-- <li is=\"customerLi\" :leftText=\"'所属门店'\" :icon=\"true\" @click.native=\"selectShopId\">\r\n        <span>{{shopName || '请选择门店'}}</span>\r\n      </li> -->\r\n      <li class=\"textarea\">\r\n        <h3>备注：</h3>\r\n        <textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\" placeholder=\"描述一下情况吧\"></textarea>\r\n      </li>\r\n      <li>\r\n        <big-btn :text=\"'保存'\" @click.native=\"saveCustomerDemand\"></big-btn>\r\n      </li>\r\n    </ul>\r\n    <div class=\"mintComponent\">\r\n      <!-- 性别选择插件 -->\r\n      <mt-popup \r\n      position=\"bottom\"\r\n      v-model=\"popupVisible\">\r\n        <mt-picker\r\n        :slots=\"slots\"\r\n        @change=\"onValuesChange\"\r\n        ref=\"Picker\"></mt-picker>\r\n      </mt-popup>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Vuex, { mapMutations, mapState } from 'vuex'\r\nimport { Picker, Popup } from 'mint-ui'\r\n\r\nVue.component(Picker.name, Picker)\r\nVue.component(Popup.name, Popup)\r\nimport customerLi from '../../../components/customer/customerLi'\r\nimport bigBtn from '../../../components/customer/bigBtn'\r\nimport mango from '../../../js'\r\nimport shopSelect from '../../select/shopSelect'\r\nimport mySelect from '../../select/mySelect'\r\nimport {turnParams} from '../../../utils/customer'\r\nexport default {\r\n  name:'customerDemand',\r\n  components: {\r\n    customerLi,\r\n    bigBtn,\r\n    shopSelect,\r\n    mySelect\r\n  },\r\n  data(){\r\n    return{\r\n      customerDemand: {},\r\n      popupVisible: false,\r\n      slots: [],\r\n      progressList: [{values: ['装修中', '装修完成', '毛坯阶段', '水电木工', '油漆吊顶', '橱柜安装', '地板安装', '木门安装', '洁具安装', '灯饰安装']}],\r\n      buyReasonList: [{values: ['旧床换新', '新房购置', '婚房购置']}],\r\n      roomNumList:[{values: [1, 2, 3, 4, '5及以上']}],\r\n      colorPrefList: [{values :['暖色', '冷色']}],\r\n      stylePrefList: [{values: ['现代', '中式古典', '欧式', '美式', '新中式']}],\r\n      shopNameList: [{values: []}],\r\n      proto: '',\r\n      roomNum: '',\r\n      shopName: '',\r\n      shopId: '',\r\n      shops: [],\r\n      sexList: ['男', '女']\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      customerInfo: state => state.dealOrderInfoDetails.dealOrderInfoDetails,\r\n      shopVal: state => state.select.shopVal\r\n    })\r\n  },\r\n  destroyed(){\r\n    this.setShopVal('')\r\n  },\r\n  watch: {\r\n    // 'customerInfo': function(){\r\n    //   console.log(888, this)\r\n    //   this.customerDemand = {\r\n    //     intention: '',\r\n    //     colorPref: '',\r\n    //     stylePref: '',\r\n    //     buyReason: '',\r\n    //     progress: '',\r\n    //     roomNum: '',\r\n    //     remark: ''\r\n    //   }\r\n    //   let arr = this.customerInfo.demandList\r\n    //   if (arr) {\r\n    //     arr = arr.map(item => {\r\n    //       return item.intention\r\n    //     })\r\n    //     this.customerDemand.intention = arr.join('、')\r\n    //   }\r\n    // }\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    let shops = localStorage.getItem('shops')\r\n    this.shops = JSON.parse(shops)\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setShopVal']),\r\n    shopChange(val) {\r\n      this.setShopVal(val)\r\n    },\r\n    //获取门店信息\r\n    // getShopName() {\r\n    //   let shopName = []\r\n    //   if(this.shops) {\r\n    //     this.shops.forEach((item, index) => {\r\n    //     shopName.push(item.name)\r\n    //     this.shopNameList[0].values = shopName\r\n    //   });\r\n    //   }\r\n    //   // this.shopName = this.shopNameList[0].values[0]\r\n    // },\r\n    getShopID(name) {\r\n      if(this.shopVal) {\r\n        this.shops.forEach((item, index) => {\r\n          item.name === name? this.shopId = item.id : ''\r\n      });\r\n      }\r\n    },\r\n    getDemand() {\r\n      mango.getAjax(this, 'demand', {\r\n        account: this.ajaxData.account,   //登录账户\r\n        tenantId: this.ajaxData.tenantId,\r\n        id: this.$route.params.id,\r\n        ...turnParams(this.customerDemand, 'demand')\r\n      },'v2', 'post')\r\n      .then((res) => {\r\n        console.log('保存数据成功', res)\r\n      })\r\n      .catch(reject => {\r\n        if(reject === 510) {\r\n          this.getDemand()\r\n        }\r\n      })\r\n    },\r\n    setOptions(data, dataList) {\r\n      if(!this.customerDemand[`${data}`]) {\r\n        this.customerDemand[`${data}`] = dataList[0].values[0]\r\n      }else {\r\n        this.$refs.Picker.setSlotValue(0, this.customerDemand[`${data}`])\r\n      }\r\n    },\r\n    // selectShopId() {\r\n    //   this.slots = this.shopNameList\r\n    //   this.proto = 'shopId'\r\n    //   // 设置性别选择插件的初始值\r\n    //   this.$refs.Picker.setSlotValue(0, this.shopName)\r\n    //   this.popupVisible = true\r\n    // },\r\n    selectProgress() {\r\n      this.slots = this.progressList\r\n      this.proto = 'progress'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('progress', this.progressList)\r\n      this.popupVisible = true\r\n    },\r\n    selectBuyReason() {\r\n      this.slots = this.buyReasonList\r\n      this.proto = 'buyReason'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('buyReason', this.buyReasonList)\r\n      this.popupVisible = true\r\n    },\r\n    selectRoomNum() {\r\n      this.slots = this.roomNumList\r\n      this.proto = 'roomNum'\r\n      // 设置性别选择插件的初始值\r\n      if(this.roomNum === '') {\r\n        this.roomNum = this.roomNumList[0].values[0]\r\n      }else {\r\n        this.$refs.Picker.setSlotValue(0, this.roomNum)\r\n      }\r\n      this.popupVisible = true\r\n    },\r\n    selectColorPref() {\r\n      this.slots = this.colorPrefList\r\n      this.proto = 'colorPref'\r\n      // 设置性别选择插件的初始值\r\n      this.setOptions('colorPref', this.colorPrefList)\r\n      this.popupVisible = true\r\n    },\r\n    selectStylePref() {\r\n      this.slots = this.stylePrefList\r\n      this.proto = 'stylePref'\r\n      // 设置性别选择插件的初始值\r\n       this.setOptions('stylePref', this.stylePrefList)\r\n      this.popupVisible = true\r\n    },\r\n    sexChange(val) {\r\n      console.log('通用选择组件选择的值', val)\r\n    },\r\n    onValuesChange(picker, values) {\r\n      console.log('选择的装修进度', values)\r\n     if(this.proto == 'roomNum') {\r\n        this.roomNum = values[0]\r\n        if(this.roomNum === '5及以上') {\r\n          this.customerDemand.roomNum = 5\r\n        }else {\r\n          this.customerDemand.roomNum = this.roomNum\r\n        }\r\n      }else{\r\n        this.customerDemand[this.proto] = values[0]\r\n      }\r\n    },\r\n    hasShopId() {\r\n      if(this.shopVal) {\r\n        this.getShopID(this.shopVal)\r\n        this.$set(this.customerDemand, 'shopId', this.shopId)\r\n      }\r\n    },\r\n    saveCustomerDemand() {\r\n      let id = this.$route.params.id\r\n      this.hasShopId()\r\n      // if (this.customerDemand.intention && this.customerDemand.intention != '') {\r\n       if(this.customerDemand.shopId) {\r\n        mango.getAjax(this, 'customer/update', {\r\n          customerId: id,\r\n          account: this.ajaxData.account,   //登录账户\r\n          tenantId: this.ajaxData.tenantId,\r\n          'details.phone': this.customerInfo.phone,\r\n          shopId: this.customerDemand.shopId,\r\n          ...turnParams(this.customerDemand, 'demand')\r\n        },'v2', 'post')\r\n        .then((res) => {\r\n          if (res) {\r\n            // this.$router.go(0)\r\n            mango.tip('保存成功！')\r\n          }\r\n        })\r\n        .catch(reject => {\r\n          if(reject === 510) {\r\n            this.saveCustomerDemand()\r\n          }\r\n        })\r\n       }else{\r\n          mango.tip('请选择门店')\r\n       }\r\n      // } else {\r\n        // mango.tip('请填写意向产品！')\r\n      // }\r\n      // console.log('客户信息：：', this.customerDemand)      \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../../assets/common.scss\";\r\n.customerDemand{\r\n  background: #f8f8f8;\r\n  li{\r\n    display: flex;\r\n    h3{\r\n      color: $fontCol;\r\n      font-size: $fontSize;\r\n      padding: 0 5vw;\r\n      line-height: 3em;\r\n      border-bottom: 1px solid #ccc;\r\n    }\r\n    textarea{\r\n      background: #fff;\r\n      width: 100vw;\r\n      height: 40vw;\r\n      padding: 3vw 5vw;\r\n      box-sizing: border-box;\r\n      font-size: $fontSize;\r\n    }\r\n  }\r\n  li.textarea{\r\n    display: block;\r\n  }\r\n  .picker{\r\n    width: 100vw;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/customerInfo/customerDemand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"customerDemand\"},[_c('ul',[_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'意向产品'}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customerDemand.intention),expression:\"customerDemand.intention\"}],attrs:{\"placeholder\":\"请填写意向产品\",\"type\":\"text\"},domProps:{\"value\":(_vm.customerDemand.intention)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.customerDemand, \"intention\", $event.target.value)}}})]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'颜色偏好',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectColorPref($event)}}},[_c('span',[_vm._v(_vm._s(_vm.customerDemand.colorPref || '请填写颜色偏好'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'风格偏好',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectStylePref($event)}}},[_c('span',[_vm._v(_vm._s(_vm.customerDemand.stylePref || '请填写风格偏好'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'购买原因',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectBuyReason($event)}}},[_c('span',[_vm._v(_vm._s(_vm.customerDemand.buyReason || '请选择购买原因'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'装修进度',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectProgress($event)}}},[_c('span',[_vm._v(_vm._s(_vm.customerDemand.progress || '请选择装修进度'))])]),_vm._v(\" \"),_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'房间数量',\"icon\":true},nativeOn:{\"click\":function($event){return _vm.selectRoomNum($event)}}},[_c('span',[_vm._v(_vm._s(_vm.roomNum || '请填写房间数量'))])]),_vm._v(\" \"),_c(\"shopSelect\",{tag:\"li\",on:{\"shopChange\":_vm.shopChange}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('li',[_c('big-btn',{attrs:{\"text\":'保存'},nativeOn:{\"click\":function($event){return _vm.saveCustomerDemand($event)}}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mintComponent\"},[_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('mt-picker',{ref:\"Picker\",attrs:{\"slots\":_vm.slots},on:{\"change\":_vm.onValuesChange}})],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"textarea\"},[_c('h3',[_vm._v(\"备注：\")]),_vm._v(\" \"),_c('textarea',{attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"描述一下情况吧\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0ea4b5b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/customerInfo/customerDemand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0ea4b5b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./customerDemand.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./customerDemand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./customerDemand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0ea4b5b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./customerDemand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0ea4b5b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/customerInfo/customerDemand.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"changeDemand\">\r\n    <mybanner :title=\"'更改需求'\">\r\n      <button @click=\"saveDemand\">保存</button>\r\n    </mybanner>\r\n    <demandForm @changeDemand=\"changeDemand\" :defaultVal=\"true\" class=\"paddingTop\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vuex, { mapMutations, mapState } from 'vuex'\r\nimport demandForm from '../../components/customer/demandForm'\r\nimport customerDemand from '../../components/customer/customerInfo/customerDemand'\r\nimport mango from '../../js'\r\nimport mybanner from '../../components/banner'\r\nimport { MessageBox } from 'mint-ui'\r\nimport {filterObj} from '../../utils/customer'\r\nexport default {\r\n  name:'changeDemand',\r\n  components:{demandForm, mybanner},\r\n  data(){\r\n    return{\r\n      \r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      customerDemand: state => state.customer.customerDemand\r\n    })\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n  },\r\n  mounted() {\r\n    \r\n  },\r\n  methods: {\r\n    ...mapMutations(['setCustomerDemand']),\r\n    saveDemand() {\r\n      mango.getAjax(this, 'demand/update', {\r\n        account: this.ajaxData.account,   //登录账户\r\n        ...filterObj(this.customerDemand)\r\n      },'v2', 'post').then((res) => {\r\n        if (res.status) {\r\n          MessageBox.alert('保存成功！').then(action => {\r\n            this.$router.go(-1)\r\n          })\r\n        } else {\r\n          mango.tip(res.msg)\r\n        }\r\n      })\r\n       .catch((reject) => {\r\n          if (reject === 510) {\r\n            this.saveDemand()\r\n          }\r\n        })\r\n    },\r\n    changeDemand(obj) {\r\n      this.setCustomerDemand(obj)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common.scss\";\r\n.changeDemand{\r\n  background: $bgCol;\r\n}\r\n.paddingTop{\r\n  padding-top: 16vw;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/customer/changeDemand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"changeDemand\"},[_c('mybanner',{attrs:{\"title\":'更改需求'}},[_c('button',{on:{\"click\":_vm.saveDemand}},[_vm._v(\"保存\")])]),_vm._v(\" \"),_c('demandForm',{staticClass:\"paddingTop\",attrs:{\"defaultVal\":true},on:{\"changeDemand\":_vm.changeDemand}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-9e015214\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/customer/changeDemand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9e015214\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./changeDemand.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./changeDemand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./changeDemand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9e015214\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./changeDemand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9e015214\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/customer/changeDemand.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}