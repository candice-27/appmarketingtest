{"version":3,"sources":["webpack:///src/pages/charts/Sales/personalSales.vue","webpack:///./src/pages/charts/Sales/personalSales.vue?6c05","webpack:///./src/pages/charts/Sales/personalSales.vue"],"names":["vue_esm","use","vue_router_esm","vuex_esm","personalSales","name","props","components","Bar","bar","Pie","pie","chartsTit","title","RouterLink","routerLink","mybanner","banner","data","ajaxData","personalSalesData","shopName","this","$route","query","endTime","js","getLocalTime","key","peoSalchanrtDom1","created","localStorage","getItem","JSON","parse","getPersonalSalesData","mounted","Object","msManage","computed","watch","_this2","setTimeout","chartsInit","beforeDestroy","dispose","methods","date","_this3","_this","getAjax","tenantId","shopId","then","res","newData","getNewArr","series","yAxisData","idsData","$set","Sales_personalSales","render","_h","$createElement","_c","_self","staticClass","attrs","_v","text","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wPA2BAA,EAAA,QAAAC,IAAAC,EAAA,GACAF,EAAA,QAAAC,IAAAE,EAAA,GAMA,IAAAC,GACAC,KAAA,gBACAC,OAAA,QACAC,YACAC,IAAAC,EAAA,EAAAC,IAAAC,EAAA,EAAAC,UAAAC,EAAA,EAAAC,WAAAC,EAAA,EAAAC,SAAAC,EAAA,GAEAC,KANA,WAOA,OACAC,YACAC,qBACAC,SAAAC,KAAAC,OAAAC,MAAAnB,KACAQ,MAAA,QACAY,QAAAC,EAAA,EAAAC,aAAA,OACAC,KAAA,EACAC,iBAAA,KAGAC,QAjBA,WAmBA,IAAAX,EAAAY,aAAAC,QAAA,YACAV,KAAAH,SAAAc,KAAAC,MAAAf,GACAG,KAAAa,qBAAAb,KAAAG,UAEAW,QAvBA,WAyBIC,OAAAC,EAAA,EAAAD,CAAJ,YAEAE,YAGAC,OACApB,kBADA,WACA,IAAAqB,EAAAnB,KAMAoB,WAAA,WACAD,EAAAb,MACAS,OAAAM,EAAA,EAAAN,CAAAI,EAAA,iCACAA,EAAAZ,iBAAAc,EAAA,IAEA,OAGAC,cA7CA,WA8CAtB,KAAAO,kBACAP,KAAAO,iBAAAgB,WAGAC,SACAX,qBADA,SACAY,GAAA,IAAAC,EAAA1B,KACA2B,EAAA3B,KACMI,EAAA,EAANwB,QAAA,6BACAH,OACAI,SAAA7B,KAAAH,SAAAgC,SACAC,OAAA9B,KAAAC,OAAAC,MAAA4B,SACAC,KAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAC,EAAA7B,EAAA,EAAA8B,UAAAF,EAAApC,KAAAuC,OAAA,GAAAvC,KAAAoC,EAAApC,KAAAuC,OAAA,GAAAvC,KAAAoC,EAAApC,KAAAwC,UAAAJ,EAAApC,KAAAyC,SACAX,EAAAY,KAAAN,EAAApC,KAAA,UAAAqC,EAAA,IACAP,EAAAY,KAAAN,EAAApC,KAAAuC,OAAA,UAAAF,EAAA,IACAP,EAAAY,KAAAN,EAAApC,KAAAuC,OAAA,UAAAF,EAAA,IACAP,EAAAY,KAAAN,EAAApC,KAAA,YAAAqC,EAAA,IACAP,EAAApB,KAAA,EACA0B,IAAApC,KAMA+B,EAAA7B,kBAAAkC,QCtGeO,GADEC,OAFjB,WAA0B,IAAaC,EAAbzC,KAAa0C,eAA0BC,EAAvC3C,KAAuC4C,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,8BAAwCF,EAAA,YAAiBG,OAAOvD,MAAhJS,KAAgJT,SAAhJS,KAAmK+C,GAAA,KAAAJ,EAAA,OAAwBE,YAAA,WAAqBF,EAAA,aAAkBG,OAAOE,KAAzOhD,KAAyOD,SAAA,cAAoC4C,EAAA,MAA7Q3C,KAA6Q+C,GAAA,aAA7Q/C,KAA6Q+C,GAAA,KAAAJ,EAAA,OAAqDM,IAAA,4BAA6B,QAExWC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEvE,EACAyD,GATF,EAVA,SAAAe,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/81.d28109790f7f2a8eb6f9.js","sourcesContent":["<!-- <keep-alive> -->\r\n<template>\r\n  <div class=\"personalSales paddingTop2\">\r\n    <mybanner :title='title' />\r\n    <div class=\"barBox\">\r\n      <chartsTit :text=\"`${shopName}-职员销售额对比`\">\r\n        <h6>单位：万元</h6>\r\n      </chartsTit>\r\n      <div ref=\"personalSalesContainer\" ></div>\r\n      <!-- <Bar\r\n      :data=\"personalSalesData\"\r\n      :vertical=\"'horizontal'\"\r\n      :height=\"300\"\r\n      :salesVal=\"true\"></Bar> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- </keep-alive> -->\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport mango from '../../../js'\r\nimport chartsInit,{chanrtDom} from '../../../utils/chartsInit'\r\nimport {waterMark} from '../../../utils/msManage'\r\nimport Vuex, { mapState, mapMutations, mapGetters } from 'vuex'\r\nVue.use(VueRouter)\r\nVue.use(Vuex)\r\nimport Bar from '../../../components/charts/bar'\r\nimport Pie from '../../../components/charts/pie'\r\nimport chartsTit from '../../../components/charts/title'\r\nimport RouterLink from '../../../components/charts/routerLink'\r\nimport mybanner from '../../../components/banner'\r\nexport default {\r\n  name: 'personalSales',\r\n  props: ['data'],\r\n  components: {\r\n    Bar, Pie, chartsTit, RouterLink,mybanner\r\n  },\r\n  data () {\r\n    return {\r\n      ajaxData: {},\r\n      personalSalesData: {},\r\n      shopName: this.$route.query.name,\r\n      title:'销售额报表',\r\n      endTime: mango.getLocalTime('end'),\r\n      key:false,\r\n      peoSalchanrtDom1:''\r\n    }\r\n  },\r\n  created() {\r\n    // 获取本地存储信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    this.getPersonalSalesData(this.endTime)\r\n  },\r\n  mounted(){\r\n    // console.log('路由参数', this.$route)\r\n    waterMark('.barBox')\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n    personalSalesData() {\r\n      // 参数说明：\r\n      // data：图标数据\r\n      // vertical设置柱状图的横向排布和纵向排布\r\n      // height设置图标容器main的高度\r\n      // salesVal标记是否为销售额，主要用于改变数据单位\r\n      setTimeout(() => {\r\n         if(this.key) {\r\n        chartsInit(this, 'personalSales', 'horizontal', true)\r\n        this.peoSalchanrtDom1 = chanrtDom\r\n      }\r\n      }, 200);\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    if(this.peoSalchanrtDom1) {\r\n      this.peoSalchanrtDom1.dispose()\r\n    }\r\n  },\r\n  methods:{\r\n    getPersonalSalesData(date) {\r\n      let _this = this\r\n      mango.getAjax('/v1/app/report/shop/sales', {\r\n        date: date,\r\n        tenantId: this.ajaxData.tenantId,\r\n        shopId: this.$route.query.shopId\r\n      }).then((res) => {\r\n        if (res) {\r\n          let newData = mango.getNewArr(res.data.series[0].data,res.data.series[1].data,res.data.yAxisData,res.data.idsData)\r\n          this.$set(res.data,'idsData',newData[3])\r\n          this.$set(res.data.series[0],'data',newData[1])\r\n          this.$set(res.data.series[1],'data',newData[2])\r\n          this.$set(res.data,'yAxisData',newData[0])\r\n          this.key = true\r\n          res = res.data\r\n          /* for (let i = 0; i < res.yAxisData.length; i++) {\r\n            res.yAxisData[i] = `*${res.yAxisData[i].slice(1, 5)}`\r\n          } */\r\n          // res.average = res.shopAvg\r\n          // console.log('店内员工销售额：', res)\r\n          _this.personalSalesData = res\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n.audioTechnica{\r\n\r\n}\r\n</style>\r\n \n\n\n// WEBPACK FOOTER //\n// src/pages/charts/Sales/personalSales.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"personalSales paddingTop2\"},[_c('mybanner',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{staticClass:\"barBox\"},[_c('chartsTit',{attrs:{\"text\":(_vm.shopName + \"-职员销售额对比\")}},[_c('h6',[_vm._v(\"单位：万元\")])]),_vm._v(\" \"),_c('div',{ref:\"personalSalesContainer\"})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-698aeb14\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/charts/Sales/personalSales.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-698aeb14\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./personalSales.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personalSales.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personalSales.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-698aeb14\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./personalSales.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-698aeb14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/charts/Sales/personalSales.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}