{"version":3,"sources":["webpack:///src/components/select/mySelect.vue","webpack:///./src/components/select/mySelect.vue?c6f3","webpack:///./src/components/select/mySelect.vue","webpack:///src/components/customer/demand.vue","webpack:///./src/components/customer/demand.vue?5a5a","webpack:///./src/components/customer/demand.vue","webpack:///src/pages/customer/newCustomerDemand.vue","webpack:///./src/pages/customer/newCustomerDemand.vue?946a","webpack:///./src/pages/customer/newCustomerDemand.vue"],"names":["vue_esm","component","mint_ui_common","name","mySelect","props","components","customerLi","data","slots","values","this","selectList","popupVisible","key","indexVal","mounted","val","methods","select","$refs","picker","setSlotValue","$emit","onValuesChange","select_mySelect","render","_vm","_h","$createElement","_c","_self","staticClass","tag","attrs","leftText","icon","nativeOn","click","$event","_v","_s","position","model","value","callback","$$v","expression","ref","on","change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","demand","remark","progressList","buyReasonList","roomNumList","colorPrefList","stylePrefList","shopNameList","shops","created","ajaxData","localStorage","getItem","JSON","parse","map","element","progressChange","progress","emitEvent","buyReasonChange","buyReason","roomNumChange","roomNum","colorPrefChange","colorPref","stylePrefChange","stylePref","shopNameChange","shopId","getShopId","intentionChange","remarkChange","_ref","i","length","id","customer_demand","directives","rawName","placeholder","type","domProps","input","target","composing","$set","valChange","title","components_customer_demand","newCustomerDemand","myBanner","banner","computed","newDemand","_this","customerId","$route","params","js","getAjax","extends_default","account","tenantId","Object","customer","then","res","alert","action","$router","go","catch","reject","tip","getDemand","customer_newCustomerDemand","newCustomerDemand_Component","newCustomerDemand_normalizeComponent"],"mappings":"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","file":"static/js/41.169205e8de36c5a0abc7.js","sourcesContent":["<template>\r\n  <li class=\"mySelect\">\r\n    <ul>\r\n      <li is=\"customerLi\" :leftText=\"leftText\" :icon=\"true\" @click.native=\"select\">\r\n        <span>{{indexVal || `请选择${leftText}`}}</span>\r\n      </li>\r\n      <!-- 通用选择插件 -->\r\n      <li>\r\n        <mt-popup \r\n      position=\"bottom\"\r\n      v-model=\"popupVisible\">\r\n        <mt-picker\r\n        :slots=\"slots\"\r\n        @change=\"onValuesChange\"\r\n        ref=\"picker\"></mt-picker>\r\n      </mt-popup>\r\n      </li>\r\n    </ul>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Vue from 'vue'\r\nimport { DatetimePicker, Picker, Popup } from 'mint-ui'\r\nVue.component(Picker.name, Picker)\r\nVue.component(Popup.name, Popup)\r\nimport customerLi from '../customer/customerLi'\r\n\r\nexport default {\r\n  name: 'mySelect',\r\n  props: ['leftText', 'val', 'selectList'],\r\n  components:{customerLi},\r\n  data() {\r\n    return {\r\n      slots: [{values: this.selectList}],\r\n      popupVisible: false,\r\n      key: false,\r\n      indexVal: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.indexVal = this.val\r\n  },\r\n  methods: {\r\n    select() {\r\n      if (this.indexVal) {\r\n        this.$refs.picker.setSlotValue(0, this.indexVal)\r\n        this.$emit('valChange', this.indexVal)\r\n      } else {\r\n        this.$refs.picker.setSlotValue(0, this.selectList[0])\r\n        this.indexVal = this.selectList[0]\r\n        this.$emit('valChange', this.selectList[0])\r\n      }\r\n      this.popupVisible = true\r\n    },\r\n    onValuesChange(picker, values) {\r\n      if(this.key) {\r\n        this.$emit('valChange', values[0])\r\n        this.indexVal = values[0]\r\n      }else {\r\n        this.key = true\r\n      }\r\n    }\r\n  }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .mySelect{\r\n    ul{\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/select/mySelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"mySelect\"},[_c('ul',[_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":_vm.leftText,\"icon\":true},nativeOn:{\"click\":function($event){return _vm.select($event)}}},[_c('span',[_vm._v(_vm._s(_vm.indexVal || (\"请选择\" + _vm.leftText)))])]),_vm._v(\" \"),_c('li',[_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('mt-picker',{ref:\"picker\",attrs:{\"slots\":_vm.slots},on:{\"change\":_vm.onValuesChange}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2c9e2e09\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/select/mySelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c9e2e09\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./mySelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mySelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./mySelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c9e2e09\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./mySelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/select/mySelect.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"demand\">\r\n    <ul>\r\n      <li is=\"customerLi\" :leftText=\"'意向产品'\">\r\n        <input v-model=\"demand.intention\" @change=\"intentionChange\" placeholder=\"请填写意向产品\" type=\"text\">\r\n      </li>\r\n      <li is=\"mySelect\" leftText=\"装修进度\" :selectList=\"progressList\" @valChange=\"progressChange\"></li>\r\n      <li is=\"mySelect\" leftText=\"购买原因\" :selectList=\"buyReasonList\" @valChange=\"buyReasonChange\"></li>\r\n      <li is=\"mySelect\" leftText=\"房间数量\" :selectList=\"roomNumList\" @valChange=\"roomNumChange\"></li>\r\n      <li is=\"mySelect\" leftText=\"颜色偏好\" :selectList=\"colorPrefList\" @valChange=\"colorPrefChange\"></li>\r\n      <li is=\"mySelect\" leftText=\"装修风格\" :selectList=\"stylePrefList\" @valChange=\"stylePrefChange\"></li>\r\n      <li is=\"mySelect\" leftText=\"所属门店\" :selectList=\"shopNameList\" @valChange=\"shopNameChange\"></li>\r\n      <li class=\"noPadding\">\r\n        <remark :title=\"'备注'\">\r\n          <textarea\r\n          @change=\"remarkChange\"\r\n          v-model=\"demand.remark\" \r\n          placeholder=\"写点什么\"></textarea>\r\n        </remark>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mySelect from '../select/mySelect'\r\nimport remark from './remark'\r\nimport customerLi from '../../components/customer/customerLi'\r\nexport default {\r\n  name:'demand',\r\n  components: {\r\n    mySelect,\r\n    remark,\r\n    customerLi\r\n  },\r\n  props: ['defaultVal'],\r\n  data(){\r\n    return{\r\n      demand: {},\r\n      progressList: ['装修中', '装修完成', '毛坯阶段', '水电木工', '油漆吊顶', '橱柜安装', '地板安装', '木门安装', '洁具安装', '灯饰安装'],\r\n      buyReasonList: ['旧床换新', '新房购置', '婚房购置'],\r\n      roomNumList: [1, 2, 3, 4, '5及以上'],\r\n      colorPrefList: ['暖色', '冷色'],\r\n      stylePrefList: ['现代', '中式古典', '欧式', '美式', '新中式'],\r\n      shopNameList: [],\r\n      shops: []\r\n    }\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    let shops = localStorage.getItem('shops')\r\n    shops = JSON.parse(shops)\r\n    this.shopNameList = shops.map(element => {\r\n      return element.name\r\n    })\r\n    this.shops = shops\r\n  },\r\n  methods: {\r\n    progressChange(val) {\r\n      this.demand.progress = val\r\n      this.emitEvent()\r\n    },\r\n    buyReasonChange(val) {\r\n      this.demand.buyReason = val\r\n      this.emitEvent()\r\n    },\r\n    roomNumChange(val) {\r\n      this.demand.roomNum = val\r\n      this.emitEvent()\r\n    },\r\n    colorPrefChange(val) {\r\n      this.demand.colorPref = val\r\n      this.emitEvent()\r\n    },\r\n    stylePrefChange(val) {\r\n      this.demand.stylePref = val\r\n      this.emitEvent()\r\n    },\r\n    shopNameChange(val) {\r\n      this.demand.shopId = this.getShopId(val)\r\n      this.emitEvent()\r\n    },\r\n    intentionChange() {\r\n      this.emitEvent()\r\n    },\r\n    remarkChange() {\r\n      this.emitEvent()\r\n    },\r\n    emitEvent()  {\r\n      this.$emit('getDemand', this.demand)\r\n    },\r\n    // 根据店铺名称，获取对应的店铺ID\r\n    getShopId(name) {\r\n      let [shopId, shops] = ['', this.shops]\r\n      for (let i = 0; i < shops.length; i++) {\r\n        if (shops[i].name === name) {\r\n          shopId = shops[i].id\r\n          break\r\n        }\r\n      }\r\n      return shopId\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common.scss\";\r\n.demand{\r\n  input{\r\n    line-height: 3em;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/demand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"demand\"},[_c('ul',[_c(\"customerLi\",{tag:\"li\",attrs:{\"leftText\":'意向产品'}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.demand.intention),expression:\"demand.intention\"}],attrs:{\"placeholder\":\"请填写意向产品\",\"type\":\"text\"},domProps:{\"value\":(_vm.demand.intention)},on:{\"change\":_vm.intentionChange,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.demand, \"intention\", $event.target.value)}}})]),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"装修进度\",\"selectList\":_vm.progressList},on:{\"valChange\":_vm.progressChange}}),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"购买原因\",\"selectList\":_vm.buyReasonList},on:{\"valChange\":_vm.buyReasonChange}}),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"房间数量\",\"selectList\":_vm.roomNumList},on:{\"valChange\":_vm.roomNumChange}}),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"颜色偏好\",\"selectList\":_vm.colorPrefList},on:{\"valChange\":_vm.colorPrefChange}}),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"装修风格\",\"selectList\":_vm.stylePrefList},on:{\"valChange\":_vm.stylePrefChange}}),_vm._v(\" \"),_c(\"mySelect\",{tag:\"li\",attrs:{\"leftText\":\"所属门店\",\"selectList\":_vm.shopNameList},on:{\"valChange\":_vm.shopNameChange}}),_vm._v(\" \"),_c('li',{staticClass:\"noPadding\"},[_c('remark',{attrs:{\"title\":'备注'}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.demand.remark),expression:\"demand.remark\"}],attrs:{\"placeholder\":\"写点什么\"},domProps:{\"value\":(_vm.demand.remark)},on:{\"change\":_vm.remarkChange,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.demand, \"remark\", $event.target.value)}}})])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5f7e0c62\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/demand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f7e0c62\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./demand.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./demand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f7e0c62\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./demand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f7e0c62\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/demand.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"newCustomerDemand\">\r\n    <my-banner :title=\"'新建需求'\">\r\n      <button @click=\"newDemand\">新建</button>\r\n    </my-banner>\r\n    <demand class=\"toppadding\" @getDemand=\"getDemand\"/>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n// 组件\r\nimport myBanner from '../../components/banner'\r\nimport demand from '../../components/customer/demand'\r\nimport mango from '../../js'\r\nimport {turnParams} from '../../utils/customer'\r\nimport { MessageBox } from 'mint-ui'\r\n\r\nexport default {\r\n  name: 'newCustomerDemand',\r\n  components: {\r\n    myBanner,\r\n    demand\r\n  },\r\n  data() {\r\n    return {\r\n      // btns: mango.btnList(['潜客', '游客'], 0)\r\n      demand: {}\r\n    };\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    let shops = localStorage.getItem('shops')\r\n    this.shops = JSON.parse(shops)\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    newDemand() {\r\n      if (this.demand.shopId) {\r\n        let customerId = this.$route.params.customerId\r\n        mango.getAjax(this, 'customer/update', {\r\n          customerId: customerId,\r\n          account: this.ajaxData.account,   //登录账户\r\n          tenantId: this.ajaxData.tenantId,\r\n          shopId: this.demand.shopId,\r\n          ...turnParams(this.demand, 'demand')\r\n        },'v2', 'post').then((res) => {\r\n          if (res) {\r\n            MessageBox.alert('新建成功！').then(action => {\r\n                this.$router.go(-1)\r\n            })\r\n          }\r\n        })\r\n        .catch((reject) => {\r\n          if (reject === 510) {\r\n            this.newDemand()\r\n          }\r\n        })\r\n      } else {\r\n        mango.tip('请选择门店')\r\n      }\r\n    },\r\n    getDemand(val) {\r\n      this.demand = val\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toppadding{\r\n  padding-top: 16vw;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/customer/newCustomerDemand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"newCustomerDemand\"},[_c('my-banner',{attrs:{\"title\":'新建需求'}},[_c('button',{on:{\"click\":_vm.newDemand}},[_vm._v(\"新建\")])]),_vm._v(\" \"),_c('demand',{staticClass:\"toppadding\",on:{\"getDemand\":_vm.getDemand}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0d0b46b4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/customer/newCustomerDemand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0d0b46b4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./newCustomerDemand.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newCustomerDemand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./newCustomerDemand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0d0b46b4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./newCustomerDemand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0d0b46b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/customer/newCustomerDemand.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}