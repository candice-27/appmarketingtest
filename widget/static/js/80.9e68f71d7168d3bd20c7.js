webpackJsonp([80],{"T+HA":function(e,t){},w6Zv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=(a("XLwt"),a("mtWM"),a("7+uW")),c=a("/ocq"),r=a("vGYV"),o=a("JFlM"),l=a("t7k9"),h=a("NYxO"),S=a("Ueg1"),u=a("cFe5"),m=a("7m0P"),d=a("X9U8"),v=a("YV7O"),y=a("bNyG");n.default.use(c.a),n.default.use(h.a);var D={name:"sales",components:{Bar:S.a,chartsTit:u.a,RouterLink:m.a,SelectComponent:d.a,mybanner:v.a,noData:y.a},data:function(){return{ajaxData:{},endTime:r.a.getLocalTime("end"),salesData:{},areaSalesData:{},title:"销售额报表",cityMsg:"",key1:!1,key2:!1,salchanrtDom1:"",salchanrtDom2:"",salesShow:!0,areaSalesShow:!0}},created:function(){var e=[localStorage.getItem("ajaxData"),localStorage.getItem("cityMsg")],t=e[0],a=e[1];this.cityMsg=a?JSON.parse(a):{},this.ajaxData=JSON.parse(t)},mounted:function(){console.log("参数",this.cityMsg.cityName,this.endTime,this.cityMsg.cityLevel),this.getSalesData(this.cityMsg.cityName,this.endTime,this.cityMsg.cityLevel),this.getAreaSalesData(this.endTime),Object(l.i)(".barBox")},computed:i()({},Object(h.d)({citySelect:function(e){return e.select.citySelect},startTimeSelect:function(e){return e.select.startTimeSelect},endTimeSelect:function(e){return e.select.endTimeSelect}}),Object(h.b)(["homeArrFilter"])),watch:{citySelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&this.getSalesData(this.citySelect.cityName,this.endTimeSelect,this.citySelect.cityLevel)},endTimeSelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&(this.getSalesData(this.citySelect.cityName,this.endTimeSelect,this.citySelect.cityLevel),this.getAreaSalesData(this.endTimeSelect))},salesData:function(){this.key1&&this.salesData&&this.salesData.series&&(this.salesShow=Object(o.c)(this.salesData.series),console.log("是否显示echarts",this.salesShow),Object(o.b)(this,"sales","vertical",!0),this.salchanrtDom1=o.a)},areaSalesData:function(){this.key2&&this.areaSalesData&&this.areaSalesData.series&&(this.areaSalesShow=Object(o.c)(this.areaSalesData.series),Object(o.b)(this,"areaSales","horizontal",!0),this.salchanrtDom2=o.a)}},beforeDestroy:function(){this.salchanrtDom1&&this.salchanrtDom1.dispose(),this.salchanrtDom2&&this.salchanrtDom2.dispose()},methods:{toStoreSales:function(){this.$router.push({path:"/storeSales"})},toAreaStoreSales:function(){this.$router.push({path:"/areaStoreSales"})},getSalesData:function(e,t,a){var s=this,i=this;r.a.getAjax("/v1/app/report/sales",{cityLevel:a,cityName:e,date:t,tenantId:this.ajaxData.tenantId}).then(function(e){e&&(s.key1=!0,e=e.data,r.a.sortYears(e),i.salesData=e)}).catch(function(e){console.log(11111,e)})},getAreaSalesData:function(e){var t=this,a=this;r.a.getAjax("/v1/app/report/area/sales",{date:e,tenantId:this.ajaxData.tenantId}).then(function(e){e&&(t.key2=!0,e=e.data,a.areaSalesData=e)})},chartsEvent:function(e){e.componentType}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sales paddingTop"},[a("mybanner",{attrs:{title:e.title}}),e._v(" "),a("SelectComponent"),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"整体销售额对比"}},[a("h6",[e._v("单位：万元")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.salesShow,expression:"!salesShow"}],ref:"salesContainer",style:{height:"100vw"}}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.salesShow,expression:"salesShow"}]}),e._v(" "),a("RouterLink",{attrs:{text:"各门店销售额对比"},nativeOn:{click:function(t){return e.toStoreSales(t)}}})],1),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"区域销售额对比"}},[a("h6",[e._v("单位：万元")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.areaSalesShow,expression:"!areaSalesShow"}],ref:"areaSalesContainer",style:{height:"100vw"}}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.areaSalesShow,expression:"areaSalesShow"}]}),e._v(" "),a("RouterLink",{attrs:{text:"各区域销售额对比"},nativeOn:{click:function(t){return e.toAreaStoreSales(t)}}})],1)],1)},staticRenderFns:[]};var w=a("VU/8")(D,f,!1,function(e){a("T+HA")},"data-v-ab18d122",null);t.default=w.exports}});
//# sourceMappingURL=80.9e68f71d7168d3bd20c7.js.map