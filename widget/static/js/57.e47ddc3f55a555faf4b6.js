webpackJsonp([57],{"4XwV":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("4YfN"),n=i.n(s),l=i("xd7I"),a=i("YV7O"),h=i("wSez"),r=i("HVJf");l.default.component(h.Actionsheet.name,h.Actionsheet);var c={data:function(){return{title:"",actions:[{name:"要删除这张图片吗",method:this.question},{name:"删除",method:this.del}],sheetVisible:!1,index:1,startX:0,len:0,swipe:0,deviceW:0,path:""}},components:{mybanner:a.a},created:function(){},computed:n()({},Object(r.d)({picVal:function(e){return e.picVal},filesList:function(e){return e.Files}})),mounted:function(){this.deviceW=document.body.clientWidth,this.len=this.picVal.length,this.title=this.index+"/"+this.len,console.log(33344,this.picVal),console.log(33344,this.filesList)},methods:n()({},Object(r.c)(["delFiles","delPicVal","setFiles","setPicVal"]),{openAction:function(){this.sheetVisible=!0},question:function(){this.sheetVisible=!0},del:function(){if(this.picVal.length>0){var e=this.picVal,t=this.filesList;e.splice(this.index-1,1),t.splice(this.index-1,1),this.setPicVal(e),this.setFiles(t),console.log(this.picVal),console.log(this.filesList),this.index>1&&(this.index--,this.swipe=this.swipe-this.deviceW),this.len=this.picVal.length,this.len>0?this.title=this.index+"/"+this.len:(this.$router.back(-1),this.title="0/"+this.len),this.$refs.preview.style.transition="transform .5s",this.$refs.preview.style.transform="translateX(-"+this.swipe+"px)",this.sheetVisible=!1}},start:function(e,t){(e=e||event).preventDefault(),1==e.changedTouches.length&&(this.startX=e.changedTouches[0].clientX)},move:function(e,t){if((e=e||event).preventDefault(),1==e.changedTouches.length){this.$refs.preview.style.transition="none";var i=e.changedTouches[0].clientX-this.startX;this.record}},end:function(e,t){if((e=e||event).preventDefault(),1==e.changedTouches.length){var i=e.changedTouches[0].clientX-this.startX;i<0&&Math.abs(i)>50&&(this.index<this.picVal.length&&(this.swipe=this.swipe+this.deviceW,this.index++),this.title=this.index+"/"+this.len,this.$refs.preview.style.transition="transform .5s",this.$refs.preview.style.transform="translateX(-"+this.swipe+"px)"),i>0&&Math.abs(i)>50&&(this.index>1&&(this.swipe=this.swipe-this.deviceW,this.index--),this.title=this.index+"/"+this.len,this.$refs.preview.style.transition="transform .5s",this.$refs.preview.style.transform="translateX(-"+this.swipe+"px)")}}}),destroyed:function(){if(this.picVal.length>0){var e=this.picVal;window.picVal=e}},beforeRouteLeave:function(e,t,i){e.meta.isUseCache=!0,i()}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"previewBox"}},[s("mybanner",{staticStyle:{border:"none",background:"#fff"},attrs:{title:e.title}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.picVal.length>0,expression:"picVal.length>0"}],staticClass:"trash",attrs:{src:i("yN4H"),alt:""},on:{click:e.openAction}})]),e._v(" "),s("ul",{ref:"preview",staticClass:"preview"},e._l(e.picVal,function(t,i){return s("li",{key:i,on:{touchstart:function(t){return e.start(t)},touchmove:function(t){return e.move(t)},touchend:function(t){return e.end(t)}}},[s("img",{attrs:{src:t.url,alt:""}})])}),0),e._v(" "),s("mt-actionsheet",{attrs:{actions:e.actions,id:"ss"},model:{value:e.sheetVisible,callback:function(t){e.sheetVisible=t},expression:"sheetVisible"}})],1)},staticRenderFns:[]};var d=i("C7Lr")(c,o,!1,function(e){i("SAju")},null,null);t.default=d.exports},SAju:function(e,t){},yN4H:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAADLUlEQVRYR+2YSWgUQRSG/9dDiERy8WYURAUXlLj0dHdCjip60biAuG+IBxFR9GLUk9tF0YN4EFQS94P7ye0YknqVdomoUVARXG5egmII008KpkNl0h0kMxkRpm/Vr+t/X73XVfWqCEU89fX1Y6urq48S0SRbRkQ+9/X1Heru7v45UnkaaUfTz/O8i0S0NUlDRC5prbeNVL8oMN/3NYBsivMuZvb+CVgQBI9FZGGScyJ6opRaVDIwz/M2ENFOAGMA5FKEJW+bBaA25ZteAK8BZACkZcbYfovIOa31FVtnSAff943Tsj/MPIjlvwL7BcBErVyRM8EhZq4ZNpVNTU11/f39fcz8Y5h/o1SpFt/3x1VVVVW3t7d/GxYsNrquW1NbWxuViiBJp7e31wnD0GRoyJM4WzzPW0pEd8qQThKRFVrrB4VkaWAriejWaEYr1haRVVrr238F1tDQsCyKonvlAHMcp7mzs/N+MWBmsf0AYFoK8Mf8+ykp9vcApuYX3IFPigITkW9RFC0Iw7DH87wlRGRGWGUBtDLzFtP2fb8VwCbL1g9gKTM/dF13huM4T4moLrYXBUZER5VSh2Mxz/MeEdHAPpjL5erCMPxu7K7rjs9kMvbUf8TMi+O+QRAcEZFDJQETkf1a61OxWEJUpjDzp3zEJgOI02petTHzZmtQ+4joZEnAABxk5uOW+HUiWhO3oyia0dXV9c60s9nsdMdxeqxZd0NrvdYaVAuAYxWwSsQKFtjKPxZPisS9MmFLqkSsEjERqSyw5mqgsiUNqu0KlwsialFKnbA24qsA1v3NJg7gGjOvt8qeAyIyUBAUW4/tVUqdscDaAGyM25lMZmJHR8dX025sbJyQy+W+WCO9zMwDhWMQBHtE5HSpqosLzLzdAnsGYJ7lfC4zv8zXY3MAvLBsz5l5vlUyDbq6KipiACIi2i0iBsikcNeg3ANviWiHeSci5wHMLLCfNSnNX1mZyDsjilgQBM0icrdAfFSaRLRcKTXkRJZ2rlxNRDdHhaRAVETWaK2H+EoEy2azsx3HeVUOMCKapZR6U+gr9arT9/3lBcewknMSUWtSGo2jP4dTxkWy4Z3CAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=57.e47ddc3f55a555faf4b6.js.map