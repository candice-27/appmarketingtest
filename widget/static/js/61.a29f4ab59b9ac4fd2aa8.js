webpackJsonp([61],{dt95:function(t,i){},trNZ:function(t,i){},zxhB:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("4YfN"),e=s.n(a),n=s("HVJf"),o=s("YV7O"),r=s("y5y3"),l=s("srjt"),c=s("xd7I"),h=s("0xDb"),u=(s("vGYV"),s("wSez")),d=new h.a;c.default.component(u.Loadmore.name,u.Loadmore);var L={data:function(){return{list:[],allLoaded:!1,page:1,limit:20,key:!1,noData:!1}},computed:e()({},Object(n.d)({parmas:function(t){return t.treeList.parmas},listScroll:function(t){return t.loadmore.listScroll},msManageList:function(t){return t.loadmore.msManageList},artList:function(t){return t.loadmore.artList},listAllScroll:function(t){return t.loadmore.listAllScroll}})),watch:{parmas:function(){var t=this;(this.hasData(),this.key)?this.hasList(this.parmas.name1)===this.msManageList.length?(this.getInitList([]),this.getQuestionList(1,20)):(this.getList(this.parmas.name1),this.allLoaded=!1,this.$nextTick(function(){t.listenScrollTop()})):(this.initGetData(),this.key=!0)}},mounted:function(){1!==this.$route.query.type?(this.key=!0,this.listenScrollTop(),this.hasData()):this.initData()},methods:e()({},Object(n.c)(["setListScroll","getList","setMsManageList","getInitList","getScroll","setListAllScroll"]),{recordScrollPosition:function(t){var i={id:this.parmas.name1,scroll:t.target.scrollTop};this.setListAllScroll(i)},listenScrollTop:function(){var t=this;this.$refs.questionScroll.addEventListener("scroll",this.recordScrollPosition,!1),this.getScroll(this.parmas.name1),this.$nextTick(function(){t.$refs.questionScroll.scrollTop=t.listScroll})},hasData:function(){var t=this.parmas.name1,i=void 0;this.msManageList.forEach(function(s){s[0].id===t&&(i=s[1].list)}),i&&i.length?this.noData=!1:this.noData=!0},initData:function(){this.setListScroll(0),this.$refs.questionScroll.scrollTop=this.listScroll},initGetData:function(){var t=this,i=this.parmas.name1;d.questionList(i,1,20).then(function(i){t.saveList(i.data),t.getInitList(i.data),t.listenScrollTop(),i.data&&i.data.length<20&&(t.allLoaded=!0),t.hasData()})},getQuestionList:function(t,i){var s=this,a=this.parmas.name1;d.questionList(a,t,i).then(function(t){t.data&&(t.data.length?(s.allLoaded=!1,s.list=s.artList.concat(t.data),s.saveList(s.list),s.getList(s.parmas.name1),s.listenScrollTop()):(s.saveList(),s.getList(s.parmas.name1),s.allLoaded=!0),s.hasData())})},toQuestionDetails:function(t){var i=this.artList[t].id;this.$router.push({path:"/questionDetail",query:{id:i}})},loadBottom:function(){this.$refs.load.onBottomLoaded(),this.pullDownData()},pullDownData:function(){this.allLoaded=!0;var t=this.artList.length/20+1;Math.floor(t)<t?this.allLoaded=!0:(this.page=t,this.getQuestionList(this.page,this.limit))},hasList:function(t){var i=0;return this.msManageList.forEach(function(s){s[0].id==t?i-=1:i+=1}),i},saveList:function(t){var i=[{id:this.parmas.name1},{list:t}];this.setMsManageList(i),this.hasData()}})},m={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("ul",{ref:"questionScroll"},[a("mt-loadmore",{ref:"load",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},t._l(t.artList,function(i,e){return a("li",{key:e,on:{click:function(i){return i.preventDefault(),t.toQuestionDetails(e)}}},[a("span",[t._v(t._s(i.title))]),t._v(" "),a("img",{attrs:{src:s("4ral"),alt:""}})])}),0),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"search_nothing"},[a("p",[t._v("很抱歉，没有找到相关内容")]),t._v(" "),a("div",{staticClass:"search_bg"})])],1)},staticRenderFns:[]};var p=s("C7Lr")(L,m,!1,function(t){s("dt95")},"data-v-5d81e920",null).exports,f={components:{banner:o.a,EggSearch:r.a,EggTreeList:l.a,EggQuestionList:p},data:function(){return{title:"",questionList:"questionList",origin:!0,paddingTop:"",top:""}},computed:e()({},Object(n.d)({list:function(t){return t.treeList.list}})),created:function(){this.initTitle(),this.initTop(),this.initParmas(),this.isIPhoneX()},methods:e()({},Object(n.c)(["setParmas"]),{initTitle:function(){this.title=this.$route.query.name},initParmas:function(){1===this.$route.query.type&&this.setParmas({})},getParmas:function(t){this.setParmas(t)},getStatus:function(t){this.questionList=t?"questionList":"questionList1"},initTop:function(){this.list.length?this.list[0].child?this.questionList="questionList":this.list[0].child||(this.questionList="questionList1"):this.questionList="questionList0"},isIPhoneX:function(){var t=this.phoneSize();"iphonex"===t?(this.paddingTop="22",this.top="36"):(this.paddingTop="16",this.top="30")}})},g={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"question"},[s("banner",{attrs:{title:t.title}}),t._v(" "),s("div",{staticClass:"search_box"},[s("EggSearch",{style:{paddingTop:t.paddingTop+"vw"},attrs:{origin:t.origin,type:"question"}})],1),t._v(" "),s("div",[s("EggTreeList",{style:{top:t.top+"vw"},attrs:{getParmas:t.getParmas,getStatus:t.getStatus}})],1),t._v(" "),s("div",{class:t.questionList},[s("EggQuestionList")],1)],1)},staticRenderFns:[]};var v=s("C7Lr")(f,g,!1,function(t){s("trNZ")},"data-v-ee7ee454",null);i.default=v.exports}});
//# sourceMappingURL=61.a29f4ab59b9ac4fd2aa8.js.map