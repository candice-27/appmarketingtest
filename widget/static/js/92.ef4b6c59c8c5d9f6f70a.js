webpackJsonp([92],{"4z/C":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("4YfN"),i=a.n(o),r=(a("84iU"),a("xd7I")),s=a("e1F6"),c=a("vGYV"),n=a("JFlM"),l=a("t7k9"),h=a("HVJf"),p=a("X9U8"),d=a("Ueg1"),m=a("cFe5"),k=a("7m0P"),v=a("YV7O"),y=a("bNyG");r.default.use(s.a),r.default.use(h.a);var W={name:"peopleWork",components:{Bar:d.a,chartsTit:m.a,RouterLink:k.a,mybanner:v.a,SelectComponent:p.a,noData:y.a},data:function(){return{ajaxData:{},peopleWorkData:{},areaPeopleWorkData:{},height:100,title:"人效报表",endTime:c.a.getLocalTime("end"),cityMsg:"",key1:!1,key2:!1,peoWorkchanrtDom1:"",peoWorkchanrtDom2:"",i:0,peopleWorkShow:!1,areaPeopleWorkShow:!1}},created:function(){var e=[localStorage.getItem("ajaxData"),localStorage.getItem("cityMsg")],t=e[0],a=e[1];this.cityMsg=a?JSON.parse(a):{},this.ajaxData=JSON.parse(t)},mounted:function(){this.getpeopleWorkData(this.endTime,this.cityMsg.cityName,this.cityMsg.cityLevel),this.getareaPeopleWorkData(this.endTime,this.cityMsg.cityName,this.cityMsg.cityLevel),Object(l.i)(".barBox")},computed:i()({test:function(){}},Object(h.d)({citySelect:function(e){return e.select.citySelect},startTimeSelect:function(e){return e.select.startTimeSelect},endTimeSelect:function(e){return e.select.endTimeSelect}})),watch:{citySelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&(this.getpeopleWorkData(this.endTimeSelect,this.citySelect.cityName,this.citySelect.cityLevel),this.getareaPeopleWorkData(this.endTimeSelect,this.citySelect.cityName,this.citySelect.cityLevel))},endTimeSelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&(this.getpeopleWorkData(this.endTimeSelect,this.citySelect.cityName,this.citySelect.cityLevel),this.getareaPeopleWorkData(this.endTimeSelect,this.citySelect.cityName,this.citySelect.cityLevel))},peopleWorkData:function(){this.key1&&this.peopleWorkData.series&&(this.peopleWorkShow=Object(n.c)(this.peopleWorkData.series),Object(n.b)(this,"peopleWork","vertical",!0),this.peoWorkchanrtDom1=n.a)},areaPeopleWorkData:function(){if(this.key2&&this.areaPeopleWorkData.series&&(this.areaPeopleWorkShow=Object(n.c)(this.areaPeopleWorkData.series),Object(n.b)(this,"areaPeopleWork","horizontal",!0),this.peoWorkchanrtDom2=n.a,this.i>1))try{this.peoWorkchanrtDom2.resize()}catch(e){console.log(e)}}},beforeDestroy:function(){this.peoWorkchanrtDom1&&this.peoWorkchanrtDom1.dispose(),this.peoWorkchanrtDom2&&this.peoWorkchanrtDom2.dispose()},methods:i()({},Object(h.c)(["setHomeTit","setHomeText","setHomeArr"]),{getpeopleWorkData:function(e,t,a){var o=this;c.a.loading("open");var i=this;c.a.getAjax("/v1/app/report/people/work",{cityLevel:a,cityName:t,date:e,tenantId:this.ajaxData.tenantId}).then(function(e){c.a.loading("close"),e&&(o.key1=!0,e=e.data,c.a.sortYears(e),i.peopleWorkData=e)})},getareaPeopleWorkData:function(e,t,a){var o=this;this.i+=1,c.a.loading("open");var i=this;c.a.getAjax("/v1/app/report/people/work/shop",{date:e,tenantId:this.ajaxData.tenantId,cityLevel:a,cityName:t}).then(function(e){if(c.a.loading("close"),e){var t=c.a.getNewArr(e.data.series[0].data,e.data.series[1].data,e.data.yAxisData,e.data.idsData);o.$set(e.data,"idsData",t[3]),o.$set(e.data.series[0],"data",t[1]),o.$set(e.data.series[1],"data",t[2]),o.$set(e.data,"yAxisData",t[0]),o.key2=!0,e=e.data,i.areaPeopleWorkData=e}})}})},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"peopleWork paddingTop"},[a("mybanner",{attrs:{title:e.title}}),e._v(" "),a("SelectComponent"),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"人效-整体"}},[a("h6",[e._v("单位：万元")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.peopleWorkShow,expression:"!peopleWorkShow"}],ref:"peopleWorkContainer",style:{height:"100vw"}}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.peopleWorkShow,expression:"peopleWorkShow"}]})],1),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"人效-各店"}},[a("h6",[e._v("单位：万元")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.areaPeopleWorkShow,expression:"!areaPeopleWorkShow"}],ref:"areaPeopleWorkContainer"}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.areaPeopleWorkShow,expression:"areaPeopleWorkShow"}]})],1)],1)},staticRenderFns:[]},u=a("C7Lr")(W,S,!1,null,null,null);t.default=u.exports}});
//# sourceMappingURL=92.ef4b6c59c8c5d9f6f70a.js.map