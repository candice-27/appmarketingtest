{"version":3,"sources":["webpack:///src/components/customer/enquiryOrder/enquiryOrder.vue","webpack:///./src/components/customer/enquiryOrder/enquiryOrder.vue?069b","webpack:///./src/components/customer/enquiryOrder/enquiryOrder.vue","webpack:///./src/components/work/orderSearch/infoHeader.vue?250b","webpack:///./src/components/work/orderSearch/infoHeader.vue","webpack:///src/components/work/orderSearch/infoHeader.vue","webpack:///./src/components/work/orderSearch/orderLi.vue?0b27","webpack:///./src/components/work/orderSearch/orderLi.vue","webpack:///src/components/work/orderSearch/orderLi.vue","webpack:///src/components/work/orderSearch/orderCentent.vue","webpack:///./src/components/work/orderSearch/orderCentent.vue?64bd","webpack:///./src/components/work/orderSearch/orderCentent.vue","webpack:///src/components/work/orderSearch/orderList.vue","webpack:///./src/components/work/orderSearch/orderList.vue?727a","webpack:///./src/components/work/orderSearch/orderList.vue","webpack:///src/components/work/orderSearchRightContainer.vue","webpack:///./src/components/work/orderSearchRightContainer.vue?f2d6","webpack:///./src/components/work/orderSearchRightContainer.vue","webpack:///src/pages/work/orderSearch.vue","webpack:///./src/pages/work/orderSearch.vue?24e0","webpack:///./src/pages/work/orderSearch.vue","webpack:///src/components/customer/topBar.vue","webpack:///./src/components/customer/topBar.vue?53f7","webpack:///./src/components/customer/topBar.vue"],"names":["vue_esm","component","mint_ui_common","name","enquiryOrder","components","TopBar","topBar","props","data","account","ajaxData","dealCusList","addPullData","page","limit","allPage","baceLimit","allLoaded","id","compareTime","activecolor","topbar","leftTitle","centerTitle","rightTitle","parmas","computed","extends_default","Object","vuex_esm","orderList","state","headerStatus","customerHeader","orderInfoDetails","orderScroll","customerScroll","customerTime","rightContainer","isSelectStatus","orderTotalPrice","orderDiscountPrice","customerAjaxParams","customer","watch","this","status","loadSelectData","loadData","$refs","order","addEventListener","handleScroll","scrollTop","isExpire","setIsSelectStatus","initData","startTime","mounted","created","type","methods","setOrderScroll","localStorage","removeItem","getSelectLimit","e","top","target","len","records","temp","today","Date","i","isActive","js","compareTimeStamp","demandTime","orderStatus","$set","loadBottom","loadmore","onBottomLoaded","pullDownData","endTime","getOrderList","_this","sd","ed","sort","u","l","getAjax","then","res","Math","ceil","total","setOrderList","$emit","getDiffLimit","concat","catch","reject","getLimit","tempage","time","tip","setSelectLimit","setLimit","string","setItem","selectLimit","getItem","parseInt","JSON","parse","calcPrice","list","orderItemList","discount","forEach","item","index","price","quantity","totalAmount","setOrderTotalPrice","setOrderDiscountPrice","orderInfoIn","accntId","setDealTabStatus","btnList","$router","push","path","query","enquiryOrder_enquiryOrder","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","topBarTitle","_v","bottom-method","bottom-all-loaded","auto-fill","_l","key","class","active","on","click","$event","_s","username","phone","followDate","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","orderSearch_infoHeader","count","select","work_orderSearch_infoHeader","fix","orderSearch_orderLi","obj","work_orderSearch_orderLi","orderLi_normalizeComponent","indexModel","utils","orderCentent","Loadmore","orderLi","orderData","work","orderSearchParam","params","setOrderSearchParam","onTopLoaded","arr","setOrderData","console","log","pages","toOrderDetail","orderId","orderSearch_orderCentent","tag","nativeOn","length","_e","work_orderSearch_orderCentent","orderCentent_normalizeComponent","OrderCentent","orderArr","orderSearch_orderList","work_orderSearch_orderList","orderList_normalizeComponent","use","orderSearchRightContainer_indexModel","orderSearchRightContainer","pickerValue","startDateVal","endDateVal","indexTime","dateType","orderSearchBtns","orderStatusList","marginTop","orderSelectParam","rightContainerStatus","countTime","_ref","getTime","start","end","initStartDateVal","isIPhoneX","getOrderStatusList","date","slice","openDatePicker","datePicker","open","resizeCustomerList","changeBtnStatus","setRightContainerStatus","hideRightContainer","code","hideRightBar","orderSearchSelect","handleConfirm","dateVal","indexTimeB","alert","fn","navigator","userAgent","match","screen","height","width","getArea","map","_this2","work_orderSearchRightContainer","currentTarget","_m","year-format","month-format","day-format","confirm","model","value","callback","$$v","expression","components_work_orderSearchRightContainer","orderSearchRightContainer_normalizeComponent","orderSearch","EnquiryOrder","myBanner","banner","InfoHeader","OrderList","OrderSearchRightContainer","searchKey","checkLogin","timeLong","timestamp","replace","changeOrderResultTit","str","orderResultTit","search","getOrderData","inputChange","event","val","work_orderSearch","title","action","submit","preventDefault","directives","rawName","placeholder","domProps","change","keyup","indexOf","_k","keyCode","input","composing","orderSearch_Component","orderSearch_normalizeComponent","customer_topBar"],"mappings":"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","file":"static/js/12.6b569d8686bd9fe9f830.js","sourcesContent":["<template>\r\n  <div class=\"enquiryOrder\" ref=\"order\">\r\n    <TopBar :topBarTitle=\"topbar\"/>\r\n    <ul>\r\n      <mt-loadmore\r\n        :bottom-method=\"loadBottom\"\r\n        :bottom-all-loaded=\"allLoaded\"\r\n        ref=\"loadmore\"\r\n        :auto-fill=\"false\"\r\n      >\r\n        <li\r\n          :class=\"{active : compareTime[index]}\"\r\n          v-for=\"(item, index) in orderList.records\"\r\n          :key=\"`list${index}`\"\r\n          @click=\"orderInfoIn(item.accntId)\"\r\n        >\r\n          <div class=\"name\">\r\n            <i :class=\"`important${item.level}`\"></i>\r\n              <!-- <span\r\n              :class=\"{active : compareTime[index]}\"\r\n            >{{`*${item.username ? item.username.slice(1, 10) : ''}`}}</span> -->\r\n            <span\r\n              :class=\"{active : compareTime[index]}\"\r\n            >{{item.username}}</span>\r\n            <strong :class=\"`urgency${item.urgency}`\"></strong>\r\n          </div>\r\n          <span class=\"phone\" v-if=\"item.phone!=='0'\">{{item.phone}}</span>\r\n          <span class=\"phone\" v-else>未收集</span>\r\n          <span class=\"date\" :class=\"{active : compareTime[index]}\">{{item.followDate}}</span>\r\n        </li>\r\n      </mt-loadmore>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { deepclone } from \"../../../utils/customer\";\r\nimport Vue from \"vue\";\r\nimport VueRouter from \"vue-router\";\r\nimport Vuex, { mapMutations, mapState } from \"vuex\";\r\nimport TopBar from \"../topBar\";\r\nimport mango from \"../../../js\";\r\nimport dealOrderInfoDetails from \"../../../store/modules/components/dealOrderInfoDetails\";\r\nimport { Loadmore } from \"mint-ui\";\r\nVue.component(Loadmore.name, Loadmore);\r\n\r\nexport default {\r\n  name: \"enquiryOrder\",\r\n  components: { TopBar },\r\n  props: [\"changeResultTit\"],\r\n  data() {\r\n    return {\r\n      account: \"\",\r\n      ajaxData: [],\r\n      dealCusList: [],\r\n      addPullData: [],\r\n      page: 3,\r\n      limit: 10,\r\n      allPage: \"\",\r\n      baceLimit: 30,\r\n      allLoaded: false,\r\n      id: \"\",\r\n      compareTime: [],\r\n      activecolor: [],\r\n      topbar: {\r\n        leftTitle: \"客户信息\",\r\n        centerTitle: \"电话\",\r\n        rightTitle: \"最近跟进\"\r\n      },\r\n      parmas: {}\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      orderList: state => state.orderList.orderList,\r\n      headerStatus: state => state.customerHeader.headerStatus,\r\n      orderInfoDetails: state => state.orderInfoDetails.orderInfoDetails,\r\n      orderScroll: state => state.customerScroll.orderScroll,\r\n      customerTime: state => state.rightContainer.customerTime,\r\n      isSelectStatus: state => state.rightContainer.isSelectStatus,\r\n      orderTotalPrice: state => state.orderInfoDetails.orderTotalPrice,\r\n      orderDiscountPrice: state => state.orderInfoDetails.orderDiscountPrice,\r\n      customerAjaxParams: state => state.customer.customerAjaxParams\r\n    })\r\n  },\r\n  watch: {\r\n    //根据头部状态获取数据\r\n    headerStatus() {\r\n      if (this.headerStatus[1].status) {\r\n        if (this.orderScroll == 0) {\r\n          if (this.isSelectStatus) {\r\n            this.loadSelectData(this.customerTime);\r\n          } else {\r\n            this.loadData();\r\n          }\r\n        }\r\n        this.$refs.order.addEventListener(\"scroll\", this.handleScroll, true);\r\n        this.$refs.order.scrollTop = this.orderScroll;\r\n      }\r\n    },\r\n    //根据加载的limit改变颜色\r\n    baceLimit() {\r\n      this.isExpire(this.baceLimit);\r\n    },\r\n    //根据筛选时间变化改变列表\r\n    customerTime() {\r\n      this.setIsSelectStatus(true);\r\n      //每次改变初始化\r\n      this.initData();\r\n      this.loadSelectData(this.customerTime);\r\n      if (this.customerTime.startTime === \"\") {\r\n        this.setIsSelectStatus(false);\r\n        this.loadData();\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$refs.order.addEventListener(\"scroll\", this.handleScroll, true);\r\n    this.$refs.order.scrollTop = this.orderScroll;\r\n  },\r\n  created() {\r\n    //获取本地缓存信息\r\n    // let ajaxData = localStorage.getItem(\"ajaxData\");\r\n    // this.ajaxData = JSON.parse(ajaxData);\r\n    // this.account = this.ajaxData.account\r\n    this.parmas = deepclone(this.customerAjaxParams, this.parmas);\r\n    this.parmas.type = \"Approved\";\r\n    if (!this.isSelectStatus) {\r\n      this.loadData();\r\n    } else {\r\n      this.loadSelectData(this.customerTime);\r\n    }\r\n  },\r\n  methods: {\r\n    initData() {\r\n      this.baceLimit = 30;\r\n      this.setOrderScroll(0);\r\n      this.$refs.order.scrollTop = this.orderScroll;\r\n      localStorage.removeItem(\"selectLimit\");\r\n      localStorage.removeItem(\"limit\");\r\n      this.getSelectLimit();\r\n    },\r\n    //获取滚动条\r\n    handleScroll(e) {\r\n      let top = e.target.scrollTop;\r\n      this.setOrderScroll(top);\r\n    },\r\n    //需求日期是否到期\r\n    isExpire(len) {\r\n      if (this.orderList.records) {\r\n        let temp = this.orderList.records;\r\n        let today = new Date();\r\n        for (var i = 0; i < len; i++) {\r\n          if (temp[i]) {\r\n            let isActive = mango.compareTimeStamp(temp[i].demandTime, today); //t1<t2,true/actived\r\n            if (temp[i].orderStatus === \"关闭\") {\r\n            } else {\r\n              this.$set(this.compareTime, i, isActive);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    ...mapMutations([\r\n      \"setOrderList\",\r\n      \"setOrderInfoDetails\",\r\n      \"setOrderScroll\",\r\n      \"setIsSelectStatus\",\r\n      \"setOrderTotalPrice\",\r\n      \"setOrderDiscountPrice\",\r\n      'setDealTabStatus'\r\n    ]),\r\n    //下拉刷新\r\n    loadBottom() {\r\n      this.$refs.loadmore.onBottomLoaded();\r\n      if (!this.isSelectStatus) {\r\n        this.pullDownData();\r\n      } else {\r\n        this.pullDownData(\r\n          this.customerTime.startTime,\r\n          this.customerTime.endTime\r\n        );\r\n      }\r\n    },\r\n    //获取数据\r\n    getOrderList(page, limit, startTime, endTime) {\r\n      this.parmas.page = page;\r\n      this.parmas.limit = limit;\r\n      this.parmas.sd = startTime;\r\n      this.parmas.ed = endTime;\r\n      this.parmas.sort = ''\r\n      this.parmas.u = ''\r\n      this.parmas.l = ''\r\n      mango.getAjax(\"/v3/app/customer/list\", this.parmas).then(res => {\r\n        if (res) {\r\n          this.allLoaded = false;\r\n          this.allPage = Math.ceil(res.data.total / 10);\r\n          if (page <= 3) {\r\n            this.setOrderList(res.data);\r\n            this.dealCusList = this.orderList;\r\n            this.$emit(\r\n              \"changeResultTit\",\r\n              `全部客户 (${\r\n                this.orderList.total == null ? \"0\" : this.orderList.total\r\n              })`\r\n            );\r\n          } else {\r\n            //筛选和非筛选时候缓存的limit\r\n            this.getDiffLimit();\r\n            //上啦刷新加载数据\r\n            this.addPullData = res.data;\r\n            this.dealCusList.records = this.dealCusList.records.concat(\r\n              this.addPullData.records\r\n            );\r\n            this.setOrderList(this.dealCusList);\r\n          }\r\n          this.isExpire(this.baceLimit);\r\n        }\r\n      }).catch((reject) => {\r\n        if (reject === 510) {\r\n          this.getOrderList(page, limit, startTime, endTime)\r\n        }\r\n      })\r\n    },\r\n    //加载数据\r\n    loadData() {\r\n      this.getLimit();\r\n      let tempage = (this.baceLimit - 30) / 10;\r\n      this.page = 3 + tempage;\r\n      this.getOrderList(1, this.baceLimit);\r\n    },\r\n    //加载筛选数据\r\n    loadSelectData(time) {\r\n      if (time.startTime) {\r\n        this.getSelectLimit();\r\n        let tempage = (this.baceLimit - 30) / 10;\r\n        this.page = 3 + tempage;\r\n        this.getOrderList(1, this.baceLimit, time.startTime, time.endTime);\r\n      }\r\n    },\r\n    //下拉加载数据\r\n    pullDownData(startTime, endTime) {\r\n      if (this.page < this.allPage) {\r\n        this.allLoaded = true;\r\n        this.page++;\r\n        this.getOrderList(this.page, this.limit, startTime, endTime);\r\n      } else {\r\n        this.allLoaded = true\r\n        mango.tip(\"没有更多数据了\");\r\n      }\r\n    },\r\n    //判断是否订单筛选时间来获取不同的缓存limit\r\n    getDiffLimit() {\r\n      if (!this.isSelectStatus) {\r\n        this.setLimit(this.baceLimit + 10);\r\n        this.getLimit();\r\n      } else {\r\n        this.setSelectLimit(this.baceLimit + 10);\r\n        this.getSelectLimit();\r\n      }\r\n    },\r\n    setLimit(limit) {\r\n      let string = `{\"limit\":\" ${limit}\"}`;\r\n      localStorage.setItem(\"limit\", string);\r\n    },\r\n    setSelectLimit(selectLimit) {\r\n      let string = `{\"selectLimit\":\" ${selectLimit}\"}`;\r\n      localStorage.setItem(\"selectLimit\", string);\r\n    },\r\n    //获取本地数据\r\n    getLimit() {\r\n      let temp = localStorage.getItem(\"limit\");\r\n      if (temp) {\r\n        this.baceLimit = parseInt(JSON.parse(temp).limit);\r\n      } else {\r\n        this.setLimit(this.baceLimit);\r\n      }\r\n    },\r\n    //缓存筛选的limit\r\n    getSelectLimit(time) {\r\n      let temp = localStorage.getItem(\"selectLimit\");\r\n      if (temp) {\r\n        this.baceLimit = parseInt(JSON.parse(temp).selectLimit);\r\n      } else {\r\n        this.setSelectLimit(this.baceLimit);\r\n      }\r\n    },\r\n    // 计算总额和折扣金额\r\n    calcPrice(list) {\r\n      if (list.orderItemList) {\r\n        let itemList = list.orderItemList;\r\n        let priceArr = [];\r\n        let total = 0;\r\n        let discount = 0;\r\n        itemList.forEach((item, index) => {\r\n          total += item.price * item.quantity;\r\n        });\r\n        discount = total - list.totalAmount;\r\n        this.setOrderTotalPrice(total);\r\n        this.setOrderDiscountPrice(discount);\r\n      }\r\n    },\r\n    //点击进入详情页面\r\n    orderInfoIn(accntId) {\r\n      // mango.getAjax('/v3/app/customer/details',{ \r\n      //   type: 'order',\r\n      //   customerId: accntId\r\n      //   })\r\n      //   .then(res => {\r\n      //     if (res) {\r\n      //       console.log(res)\r\n      //       // this.setOrderInfoDetails(res.data);\r\n      //       // this.calcPrice(this.orderInfoDetails);\r\n      //     }\r\n      //   });\r\n      this.setDealTabStatus(mango.btnList(['订单信息', '客户信息', '意向信息'], 0))\r\n      this.$router.push({ path: \"/enquiryInfo\",query: {id: accntId,status:3} });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.enquiryOrder {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  box-sizing: border-box;\r\n  padding-top: 34vw;\r\n  background: #f8f8f8;\r\n  overflow: scroll;\r\n  -webkit-overflow-scrolling: touch;\r\n  .active {\r\n    color: #ee0505 !important;\r\n  }\r\n  ul {\r\n    // border-top: 1px solid #e1e1e1;\r\n    color: #999;\r\n    font-size: 4.26vw;\r\n    line-height: 11.73vw;\r\n    padding-bottom: 40vw;\r\n    background: #f8f8f8;\r\n    margin-top: -2vw;\r\n    li {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding-right: 3.86vw;\r\n      align-items: center;\r\n      padding-left: 4.266vw;\r\n      height: 17.33vw;\r\n      margin-top: 1vw;\r\n      background: #fff;\r\n      // span:nth-child(1) {\r\n      //   flex: 0.15;\r\n      // }\r\n      .name {\r\n        color: #363636;\r\n        flex: 0.5;\r\n        display: flex;\r\n        align-items: center;\r\n        // justify-content: space-between;\r\n        i {\r\n          width: 10.6vw;\r\n          height: 4vw;\r\n          margin-right: -3vw;\r\n        }\r\n        .importantA {\r\n          background: url(../../../assets/imgs/A.png) no-repeat;\r\n          background-size: auto 100%;\r\n          // background-position: center;\r\n        }\r\n        .importantB {\r\n          background: url(../../../assets/imgs/B.png) no-repeat;\r\n          background-size: auto 100%;\r\n          // background-position: center;\r\n        }\r\n        .importantC {\r\n          background: url(../../../assets/imgs/C.png) no-repeat;\r\n          background-size: auto 100%;\r\n          // background-position: center;\r\n        }\r\n        .importantD {\r\n          background: url(../../../assets/imgs/D.png) no-repeat;\r\n          background-size: auto 100%;\r\n          // background-position: center;\r\n        }\r\n        strong {\r\n          height: 4vw;\r\n          width: 3.73vw;\r\n          margin-top: -7vw;\r\n          margin-left: 1vw;\r\n        }\r\n        .urgencyfalse {\r\n          // background: url(../../assets/imgs/jinji1.png) no-repeat;\r\n          background-size: 100% 100%;\r\n          // background-position: center;\r\n        }\r\n        .urgencytrue {\r\n          background: url(../../../assets/imgs/jinji.png) no-repeat;\r\n          background-size: 100% 100%;\r\n          // background-position: center;\r\n        }\r\n      }\r\n      .phone {\r\n        flex: 0.4;\r\n      }\r\n      .date {\r\n        flex: 0.4;\r\n        color: #363636;\r\n        text-align: right;\r\n      }\r\n    }\r\n    li:nth-child(1) {\r\n      border-top: none;\r\n    }\r\n    li:nth-last-child(2) {\r\n      // border-bottom: 1px solid #e1e1e1;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/enquiryOrder/enquiryOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"order\",staticClass:\"enquiryOrder\"},[_c('TopBar',{attrs:{\"topBarTitle\":_vm.topbar}}),_vm._v(\" \"),_c('ul',[_c('mt-loadmore',{ref:\"loadmore\",attrs:{\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":false}},_vm._l((_vm.orderList.records),function(item,index){return _c('li',{key:(\"list\" + index),class:{active : _vm.compareTime[index]},on:{\"click\":function($event){return _vm.orderInfoIn(item.accntId)}}},[_c('div',{staticClass:\"name\"},[_c('i',{class:(\"important\" + (item.level))}),_vm._v(\" \"),_c('span',{class:{active : _vm.compareTime[index]}},[_vm._v(_vm._s(item.username))]),_vm._v(\" \"),_c('strong',{class:(\"urgency\" + (item.urgency))})]),_vm._v(\" \"),(item.phone!=='0')?_c('span',{staticClass:\"phone\"},[_vm._v(_vm._s(item.phone))]):_c('span',{staticClass:\"phone\"},[_vm._v(\"未收集\")]),_vm._v(\" \"),_c('span',{staticClass:\"date\",class:{active : _vm.compareTime[index]}},[_vm._v(_vm._s(item.followDate))])])}),0)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-99fdf874\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/enquiryOrder/enquiryOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-99fdf874\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./enquiryOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./enquiryOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./enquiryOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-99fdf874\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./enquiryOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-99fdf874\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/enquiryOrder/enquiryOrder.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"infoHeader\"},[_c('li',[_vm._v(\"全部订单(\"+_vm._s(_vm.count)+\")\")]),_vm._v(\" \"),_c('li',{staticClass:\"select\",on:{\"click\":_vm.select}},[_vm._v(\"筛选\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-8f79e3ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/work/orderSearch/infoHeader.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8f79e3ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./infoHeader.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./infoHeader.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./infoHeader.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8f79e3ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./infoHeader.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8f79e3ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/work/orderSearch/infoHeader.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ul class=\"infoHeader\">\r\n    <li>全部订单({{count}})</li>\r\n    <li @click=\"select\" class=\"select\">筛选</li>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'infoHeader',\r\n  props: ['title', 'count'],\r\n  data() {\r\n    return {\r\n      fix:'',\r\n      top:''\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n    select() {\r\n      this.$emit('select')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .infoHeader{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 0;\r\n    padding: 0 4.8vw;\r\n    color: #666;\r\n    // top: 6vw;\r\n    // z-index: 10;\r\n    line-height: 6vw;\r\n    background: #fff;\r\n    li:last-child{\r\n      position: relative;\r\n      padding: 0 4vw;\r\n      background: url('../../../assets/imgs/select.png') no-repeat;\r\n      background-size: 2.5vw 2.5vw;\r\n      background-position: right 0 center;\r\n    }\r\n    .select::after{\r\n      content: '';\r\n      display: block;\r\n      width: 1px;\r\n      height: 4vw;\r\n      background: #666;\r\n      position: absolute;\r\n      top: 50%;\r\n      margin-top: -2vw;\r\n      left: 0;\r\n    }\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/work/orderSearch/infoHeader.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"orderLi\"},[_c('p',[_vm._v(_vm._s(_vm.obj.username))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.obj.demandTime))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.obj.status))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0c12431a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/work/orderSearch/orderLi.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c12431a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderLi.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderLi.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderLi.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c12431a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderLi.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c12431a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/work/orderSearch/orderLi.vue\n// module id = null\n// module chunks = ","<template>\r\n  <li class=\"orderLi\">\r\n    <p>{{obj.username}}</p>\r\n    <p>{{obj.demandTime}}</p>\r\n    <p>{{obj.status}}</p>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'orderLi',\r\n  props: ['obj'],\r\n  components: {\r\n    \r\n  },\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .orderLi{\r\n    display: flex;\r\n    justify-content: space-between;\r\n    p{\r\n      flex: 1;\r\n      color: #666;\r\n      text-align: center;\r\n      font-size: 16px;\r\n      line-height: 3em;\r\n      border-bottom: 1px solid #f1f1f1;\r\n    }\r\n    p:first-child{\r\n      text-align: left;\r\n    }\r\n    p:last-child{\r\n      text-align: right;\r\n    }\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/work/orderSearch/orderLi.vue","<template>\r\n  <ul class=\"orderCentent\">\r\n    <Loadmore\r\n    :bottom-method=\"loadBottom\"\r\n    :bottom-all-loaded=\"allLoaded\"\r\n    ref=\"loadmore\"\r\n    :auto-fill=\"false\">\r\n      <li\r\n      is=\"orderLi\"\r\n      v-for=\"(item, index) in orderList\"\r\n      :key=\"`orderList${index}`\"\r\n      @click.native=\"toOrderDetail(item.orderId)\"\r\n      :obj=\"item\"></li>\r\n      <li v-if='orderList.length<=0' class='no-record'>暂无记录</li>\r\n    </Loadmore>\r\n  </ul>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Vuex, { mapMutations, mapGetters, mapState } from \"vuex\";\r\nimport { Loadmore } from \"mint-ui\";\r\nVue.component(Loadmore.name, Loadmore);\r\nimport TopBar from \"../../customer/topBar\";\r\nimport orderLi from \"./orderLi\";\r\nimport { IndexModel } from \"../../../utils/\"\r\nconst indexModel = new IndexModel()\r\nexport default {\r\n  name: 'orderCentent',\r\n  props: [],\r\n  components: {\r\n    Loadmore,\r\n    orderLi\r\n  },\r\n  data() {\r\n    return {\r\n      topbar: {\r\n        leftTitle: \"客户信息\",\r\n        centerTitle: \"订单交期\",\r\n        rightTitle: \"订单状态\"\r\n      },\r\n      allLoaded: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      orderData: state => state.work.orderData,\r\n      orderSearchParam: state => state.work.orderSearchParam\r\n    }),\r\n    ...mapGetters(['orderList'])\r\n  },\r\n  mounted() {\r\n    let params = {\r\n      page: 1,\r\n      limit: 30\r\n    }\r\n    this.setOrderSearchParam(params)\r\n    this.getOrderList(params)\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"setOrderData\",\r\n      \"setOrderSearchParam\"\r\n    ]),\r\n    getOrderList(obj) {\r\n      indexModel.getOrderList(obj).then((res) => {\r\n        // 解除上拉加载动画\r\n        this.$refs.loadmore.onTopLoaded();\r\n        res = res.data\r\n        if (res) {\r\n          let target = this.orderData.records || []\r\n          let arr = res.records\r\n          res.records = target.concat(arr)\r\n          this.setOrderData(res)\r\n          console.log(res)\r\n          if(res.pages==this.orderSearchParam.page){\r\n            this.allLoaded=true\r\n          }else{\r\n            this.allLoaded=false\r\n          }\r\n        }\r\n      }).catch((reject) => {\r\n        if (reject === 510) {\r\n          this.getOrderList(obj)\r\n        }\r\n      })\r\n    },\r\n    // loadTop() {\r\n    //   let params = {\r\n    //     page: 1,\r\n    //     limit: 30\r\n    //   }\r\n    //   this.setOrderSearchParam(params)\r\n    //   this.getOrderList(params)\r\n    // },\r\n    //下拉刷新\r\n    loadBottom() {\r\n      this.orderSearchParam.page++\r\n      this.getOrderList(this.orderSearchParam)\r\n      //this.allLoaded = true;// 若数据已全部获取完毕\r\n      this.$refs.loadmore.onBottomLoaded()\r\n    },\r\n    toOrderDetail(orderId) {\r\n      this.$router.push({path:'/orderDetail',query: {orderId:orderId}})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .orderCentent{\r\n    position: relative;\r\n    // z-index: -1;\r\n    top: 0;\r\n    left: 0;\r\n    box-sizing: border-box;\r\n    padding: 58.276vw 4.8vw 10.8vw 4.8vw;\r\n    // margin-top: -58.276vw;\r\n    height: 100vh;\r\n    width: 100vw;\r\n    overflow-x: hidden;\r\n  }\r\n  .no-record{\r\n    text-align: center;\r\n    padding:10px 0;\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/work/orderSearch/orderCentent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"orderCentent\"},[_c('Loadmore',{ref:\"loadmore\",attrs:{\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":false}},[_vm._l((_vm.orderList),function(item,index){return _c(\"orderLi\",{key:(\"orderList\" + index),tag:\"li\",attrs:{\"obj\":item},nativeOn:{\"click\":function($event){return _vm.toOrderDetail(item.orderId)}}})}),_vm._v(\" \"),(_vm.orderList.length<=0)?_c('li',{staticClass:\"no-record\"},[_vm._v(\"暂无记录\")]):_vm._e()],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5faa6924\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/work/orderSearch/orderCentent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5faa6924\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderCentent.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderCentent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderCentent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5faa6924\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderCentent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5faa6924\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/work/orderSearch/orderCentent.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"orderList\">\r\n    <!-- <TopBar :topBarTitle=\"topbar\" /> -->\r\n    <OrderCentent\r\n    :list=\"orderArr\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TopBar from\"../../customer/topBar\";\r\nimport OrderCentent from \"./orderCentent\";\r\nexport default {\r\n  name: 'orderList',\r\n  props: [],\r\n  components: {\r\n    TopBar,\r\n    OrderCentent\r\n  },\r\n  data() {\r\n    return {\r\n      topbar: {\r\n        leftTitle: \"客户信息\",\r\n        centerTitle: \"订单交期\",\r\n        rightTitle: \"订单状态\"\r\n      },\r\n      orderArr: []\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .orderList{\r\n    .topBar{\r\n      top: 41.466vw;\r\n      margin: 0;\r\n    }\r\n    .listHeader{\r\n      display: flex;\r\n      justify-content: space-around;\r\n    }\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/work/orderSearch/orderList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderList\"},[_c('OrderCentent',{attrs:{\"list\":_vm.orderArr}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-5372eaa0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/work/orderSearch/orderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5372eaa0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5372eaa0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5372eaa0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/work/orderSearch/orderList.vue\n// module id = null\n// module chunks = ","<!-- <keep-alive> -->\r\n<template>\r\n  <div :class=\"`rightContainer ${rightContainerStatus}`\">\r\n    <div class=\"content\" @click.self=\"hideRightBar\">\r\n      <div>\r\n        <ul>\r\n          <li class=\"time\">\r\n            <h3>订单交期</h3>\r\n            <ul>\r\n              <li @click=\"openDatePicker('start')\">\r\n                <p>起始日</p>\r\n                <strong>{{startDateVal}}</strong>\r\n              </li>\r\n              <li><span>至</span></li>\r\n              <li @click=\"openDatePicker('end')\">\r\n                <p>结束日</p>\r\n                <strong>{{endDateVal}}</strong>\r\n              </li>\r\n              <li><span>共{{countTime + 1}}日</span></li>\r\n            </ul>\r\n          </li>\r\n          <div>\r\n            <h3>订单状态</h3>\r\n            <ul class=\"status\">\r\n              <li v-for=\"(item, index) in orderSearchBtns\"\r\n              :key=\"`orderSearchBtns${index}`\">\r\n                <button \r\n                :class=\"{on: item.status}\"\r\n                @click=\"orderSearchSelect(index)\">{{item.name}}</button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <li>\r\n            <!-- 日期插件 -->\r\n            <mt-datetime-picker\r\n              ref=\"datePicker\"\r\n              type=\"date\"\r\n              v-model=\"pickerValue\"\r\n              year-format=\"{value} 年\"\r\n              month-format=\"{value} 月\"\r\n              day-format=\"{value} 日\"\r\n              @confirm=\"handleConfirm\">\r\n            </mt-datetime-picker>\r\n          </li>\r\n        </ul>\r\n        <div class=\"botBtns\">\r\n          <button @click=\"resizeCustomerList\">重置</button>\r\n          <button class=\"on\" @click=\"hideRightContainer\">完成</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- </keep-alive> --> \r\n\r\n<script>\r\nimport { deepclone } from \"../../utils/customer\";\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Vuex, { mapState, mapMutations, mapGetters } from 'vuex'\r\nimport mango from '../../js'\r\nimport { DatetimePicker } from 'mint-ui'\r\nVue.use(Vuex)\r\nVue.component(DatetimePicker.name, DatetimePicker)\r\nimport { IndexModel } from \"../../utils/\"\r\nconst indexModel = new IndexModel()\r\nexport default {\r\n  name: 'rightContainer',\r\n  props:[''],\r\n  data () {\r\n    return {\r\n      pickerValue: new Date(),\r\n      startDateVal: '',\r\n      endDateVal: mango.indexTime(new Date(), 'day'),\r\n      dateType: '',\r\n      orderSearchBtns: [],\r\n      orderStatusList: [],\r\n      orderStatus: {},\r\n      ajaxData:[],\r\n      marginTop:'',\r\n      orderSelectParam: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      orderData: state => state.work.orderData,\r\n      orderSearchParam: state => state.work.orderSearchParam,\r\n      rightContainerStatus: state => state.rightContainer.rightContainerStatus,\r\n      customerAjaxParams: state => state.customer.customerAjaxParams\r\n    }),\r\n    // startDateVal() {\r\n    //   return mango.indexTime(this.startTime, 'day')\r\n    // },\r\n    // endDateVal() {\r\n    //   return mango.indexTime(this.endTime, 'day')\r\n    // },\r\n    countTime() {\r\n      let [start, end] = [(new Date(this.startDateVal)).getTime(), (new Date(this.endDateVal)).getTime()]\r\n      // console.log('time:', start/86400000, end/86400000)\r\n      return Math.ceil((end - start)/86400000)\r\n    }\r\n  },\r\n  // watch:{\r\n  //   rightContainerStatus() {\r\n  //     console.log(123,this.rightContainerStatus)\r\n  //   }\r\n  // },\r\n  created() {\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    this.initStartDateVal()\r\n  },\r\n  mounted(){\r\n    this.isIPhoneX()\r\n    let str = new Date()\r\n    // console.log(333, str.getTime())\r\n    // 对象深拷贝\r\n    this.getOrderStatusList()\r\n  },\r\n  methods:{\r\n    ...mapMutations([\r\n      \"setOrderData\",\r\n      'setOrderSearchParam',\r\n      'setRightContainerStatus',\r\n      'setCustomerAjaxParams',\r\n      'setAllLoaded',\r\n      'setCustomerList'\r\n    ]),\r\n    // 初始化起始日期\r\n    initStartDateVal() {\r\n      let date = new Date()\r\n      date = mango.indexTime(date, 'day')\r\n      date = `${date.slice(0, 8)}01`\r\n      this.startDateVal = date\r\n    },\r\n    // 打开日期插件\r\n    openDatePicker(type) {\r\n      this.dateType = type\r\n      this.$refs.datePicker.open()\r\n    },\r\n    //重置\r\n    resizeCustomerList() {\r\n      mango.changeBtnStatus(this.orderSearchBtns, '')\r\n      let params = {\r\n        page: 1,\r\n        limit: 30\r\n      }\r\n      this.setOrderSearchParam(params)\r\n      this.getOrderList(params)\r\n      this.setRightContainerStatus('hideRightContainer')\r\n    },\r\n    // 隐藏右侧边栏\r\n    hideRightContainer() {\r\n      let params = {\r\n        page: 1,\r\n        limit: 30,\r\n        status: this.orderStatus.code,\r\n        startTime: this.startDateVal, //交期时间（需求时间）\r\n        endTime: this.endDateVal\r\n      }\r\n      // 提交请求参数到vuex\r\n      this.setOrderSearchParam(params)\r\n      this.getOrderList(params)\r\n      this.setRightContainerStatus('hideRightContainer')\r\n    },\r\n    hideRightBar() {\r\n      this.setRightContainerStatus('hideRightContainer')\r\n    },\r\n    // 订单状态选择\r\n    orderSearchSelect(i) {\r\n      if (this.orderStatus.code === this.orderStatusList[i].code) {\r\n        mango.changeBtnStatus(this.orderSearchBtns)\r\n        this.orderStatus = {}\r\n      } else {\r\n        this.orderStatus = {\r\n          name: this.orderStatusList[i].name,\r\n          code: this.orderStatusList[i].code\r\n        }\r\n        mango.changeBtnStatus(this.orderSearchBtns, i)\r\n      }\r\n      console.log(11111111, this.orderStatus)\r\n    },\r\n    // 选择时间\r\n    handleConfirm(date) {\r\n      let [start, end, dateVal] = [null, null, null]\r\n      if (this.dateType === 'start') {\r\n        start = new Date(date).getTime()\r\n        // console.log(mango.indexTime(date, 'day'), this.startDateVal)\r\n        if(mango.indexTimeB(date)[1] === mango.indexTimeB(new Date(this.endDateVal))[1]) {\r\n        }else{\r\n          if ((start - new Date(this.endDateVal).getTime()) > 0) {\r\n            alert('起始日不能大于结束日')\r\n            return\r\n          }\r\n        }\r\n      } else {\r\n        end = new Date(date).getTime()\r\n        if(mango.indexTimeB(date)[1] === mango.indexTimeB(new Date(this.startDateVal))[1]) {\r\n        }else{\r\n          if ((new Date(this.startDateVal).getTime() - end) > 0) {\r\n            alert('结束日不能小于起始日')\r\n            return\r\n          }\r\n        }\r\n      }\r\n      dateVal = mango.indexTime(date, 'day')\r\n      this[`${this.dateType}DateVal`] = dateVal\r\n    },\r\n    isIPhoneX: function(fn) {\r\n      var u = navigator.userAgent;\r\n      var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n      if (isIOS) {\r\n        if (\r\n          (screen.height == 812 && screen.width == 375) ||\r\n          (screen.height == 896 && screen.width == 414)\r\n        ) {\r\n          this.marginTop = \"-5.86\";\r\n          \r\n        } else {\r\n          this.marginTop = \"\";\r\n        }\r\n      }\r\n    },\r\n    getOrderStatusList() {\r\n      indexModel.getArea('FS_ORDER_STATUS').then((res) => {\r\n        res = res.data\r\n        if (res) {\r\n          this.orderStatusList = res\r\n          const arr = res.map(item => item.name)\r\n          this.orderSearchBtns = mango.btnList(arr)\r\n        }\r\n      }).catch((reject) => {\r\n        if (reject === 510) {\r\n          this.getOrderStatusList()\r\n        }\r\n      })\r\n    },\r\n    getOrderList(obj) {\r\n      indexModel.getOrderList(obj).then((res) => {\r\n        res = res.data\r\n        if (res) {\r\n          this.setOrderData(res)\r\n          \r\n        }\r\n      }).catch((reject) => {\r\n        if (reject === 510) {\r\n          this.getOrderList(obj)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/common.scss\";\r\n.rightContainer{\r\n  // position: fixed;\r\n  // top: 0;\r\n  // right: 0;\r\n  // z-index: 999;\r\n  div.content{\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: rgba(0, 0, 0, .5);\r\n    z-index: 1000;\r\n    &>div{\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      flex-direction: column;\r\n      position: relative;\r\n      width: 80vw;\r\n      height: 100vh;\r\n      background: #fff;\r\n      padding: 4.53vw;\r\n      padding-top:5.333vw;\r\n      box-sizing: border-box;\r\n      &>ul{\r\n        // width: 100%;\r\n        h3{\r\n          font-size: $fontSize;\r\n          color: $fontSubCol;\r\n          margin-top: 5.333vw;\r\n          margin-bottom: 2.666vw;\r\n        }\r\n        li:first-child{\r\n          h3{\r\n            margin-top: 0;\r\n          }\r\n        }\r\n        ul{\r\n          display: flex;\r\n          // justify-content: space-between;\r\n          width: 100%;\r\n          li{\r\n          }\r\n          button{\r\n            padding: 0 4vw;\r\n            line-height: 3em;\r\n            border-radius: 2vw;\r\n            background: $bgCol;\r\n            font-weight: 400;\r\n            margin-right: 2vw;\r\n            margin-top: 2vw;\r\n            color: #666;\r\n          }\r\n          button.on{\r\n            color: $btnCol;\r\n            background: $btnSubCol;\r\n          }\r\n        }\r\n      }\r\n      .botBtns{\r\n        display: flex;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 0;\r\n        // align-self: flex-end;\r\n        font-size: 0;\r\n        button{\r\n          align-self: flex-start;\r\n          width: 40vw;\r\n          height: 22vw;\r\n          background: #b2d7ff;\r\n          color: #007aff;\r\n          font-weight: 300;\r\n        }\r\n        button.on{\r\n          background: #007aff;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n    .time{\r\n      ul{\r\n        display: flex;\r\n        justify-content: space-between;\r\n        background: $bgCol;\r\n        padding: 1vw 4vw;\r\n        line-height: 1.4em;\r\n        box-sizing: border-box;\r\n        border-radius: 2vw;\r\n        li{\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: flex-end;\r\n          span{\r\n            align-self: flex-end;\r\n          }\r\n        }\r\n        p, span{\r\n          color: $fontSubCol;\r\n        }\r\n      }\r\n    }\r\n    ul.status{\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n    }\r\n  }\r\n}\r\n.hideRightContainer{\r\n  display: none; \r\n}\r\n.showRightContainer{\r\n  display: block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/work/orderSearchRightContainer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"rightContainer \" + _vm.rightContainerStatus)},[_c('div',{staticClass:\"content\",on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.hideRightBar($event)}}},[_c('div',[_c('ul',[_c('li',{staticClass:\"time\"},[_c('h3',[_vm._v(\"订单交期\")]),_vm._v(\" \"),_c('ul',[_c('li',{on:{\"click\":function($event){return _vm.openDatePicker('start')}}},[_c('p',[_vm._v(\"起始日\")]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.startDateVal))])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){return _vm.openDatePicker('end')}}},[_c('p',[_vm._v(\"结束日\")]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.endDateVal))])]),_vm._v(\" \"),_c('li',[_c('span',[_vm._v(\"共\"+_vm._s(_vm.countTime + 1)+\"日\")])])])]),_vm._v(\" \"),_c('div',[_c('h3',[_vm._v(\"订单状态\")]),_vm._v(\" \"),_c('ul',{staticClass:\"status\"},_vm._l((_vm.orderSearchBtns),function(item,index){return _c('li',{key:(\"orderSearchBtns\" + index)},[_c('button',{class:{on: item.status},on:{\"click\":function($event){return _vm.orderSearchSelect(index)}}},[_vm._v(_vm._s(item.name))])])}),0)]),_vm._v(\" \"),_c('li',[_c('mt-datetime-picker',{ref:\"datePicker\",attrs:{\"type\":\"date\",\"year-format\":\"{value} 年\",\"month-format\":\"{value} 月\",\"day-format\":\"{value} 日\"},on:{\"confirm\":_vm.handleConfirm},model:{value:(_vm.pickerValue),callback:function ($$v) {_vm.pickerValue=$$v},expression:\"pickerValue\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"botBtns\"},[_c('button',{on:{\"click\":_vm.resizeCustomerList}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('button',{staticClass:\"on\",on:{\"click\":_vm.hideRightContainer}},[_vm._v(\"完成\")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',[_vm._v(\"至\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2363383f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/work/orderSearchRightContainer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2363383f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderSearchRightContainer.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSearchRightContainer.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSearchRightContainer.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2363383f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderSearchRightContainer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2363383f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/work/orderSearchRightContainer.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"orderSearch\">\r\n    <div class=\"orderSearchHeader\">\r\n      <my-banner :title=\"'订单查询'\" />\r\n      <form class=\"searchForm\" action='' @submit.prevent>\r\n        <input ref=\"inpComp\" class=\"input\"\r\n            v-model=\"searchKey\" \r\n            type=\"search\" \r\n            placeholder=\"请输入姓名或电话\"\r\n            @change=\"inputChange\"\r\n            @keyup.enter=\"search\">\r\n      <!-- <button @click=\"searchCustomer\">搜索</button> -->\r\n      </form>\r\n      <InfoHeader\r\n      @select=\"select\"\r\n      :count=\"orderData.total\" />\r\n      <TopBar :topBarTitle=\"topbar\" />\r\n    </div>\r\n    <!-- 订单列表 -->\r\n    <order-list></order-list>\r\n    <!-- <EnquiryOrder @changeResultTit=\"changeOrderResultTit\" class=\"CustomerList\"/> -->\r\n    <OrderSearchRightContainer />\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport Vuex, { mapMutations, mapState, mapGetters } from \"vuex\";\r\nimport EnquiryOrder from \"../../components/customer/enquiryOrder/enquiryOrder\";\r\nimport myBanner from '../../components/banner'\r\nimport InfoHeader from '../../components/work/orderSearch/infoHeader'\r\nimport OrderList from '../../components/work/orderSearch/orderList'\r\nimport TopBar from \"../../components/customer/topBar\";\r\nimport OrderSearchRightContainer from '../../components/work/orderSearchRightContainer'\r\nimport { Loadmore } from \"mint-ui\";\r\nimport mango from \"../../js\";\r\nexport default {\r\n  components: {\r\n    EnquiryOrder,\r\n    myBanner,\r\n    InfoHeader,\r\n    OrderList,\r\n    TopBar,\r\n    OrderSearchRightContainer\r\n  },\r\n  props: ['myStyle'],\r\n  data() {\r\n    return {\r\n      searchKey: '',\r\n      topbar: {\r\n        leftTitle: \"客户信息\",\r\n        centerTitle: \"订单交期\",\r\n        rightTitle: \"订单状态\"\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      orderData: state => state.work.orderData,\r\n      orderSearchParam: state => state.work.orderSearchParam,\r\n      rightContainerStatus: state => state.rightContainer.rightContainerStatus\r\n    })\r\n  },\r\n  created() {\r\n    this.checkLogin();\r\n  },\r\n  mounted() {\r\n    this.setOrderData([])\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      \"setOrderData\",\r\n      'setOrderSearchParam',\r\n      'setRightContainerStatus'\r\n    ]),\r\n    checkLogin() {\r\n      let ajaxData = localStorage.getItem(\"ajaxData\");\r\n      // console.log(Date.parse(new Date()) - timeLong)\r\n      if (!ajaxData) {\r\n        this.$router.replace({ path: \"./Login\" })\r\n        return\r\n      } else {\r\n        let timeLong = JSON.parse(ajaxData).timestamp;\r\n        timeLong = Date.parse(new Date()) - JSON.parse(ajaxData).timestamp;\r\n        timeLong = timeLong / (60 * 60 * 24 * 1000);\r\n        if (timeLong > 10) {\r\n          this.$router.replace({ path: \"./Login\" });\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    changeOrderResultTit(str) {\r\n      this.orderResultTit = str;\r\n    },\r\n    search() {\r\n      let str = this.searchKey.replace(/\\s+/g, \"\")\r\n      let params = {\r\n        key: str,\r\n        page: 1,\r\n        limit: 30\r\n      }\r\n      this.setOrderSearchParam(params)\r\n      this.getOrderData(params)\r\n    },\r\n    inputChange(event) {\r\n      let val = event.target.value\r\n      val = val.replace(/\\s+/g, \"\")\r\n      if (val === '') {\r\n        let params = {\r\n          page: 1,\r\n          limit: 30\r\n        }\r\n        this.setOrderSearchParam(params)\r\n        this.getOrderData(params)\r\n      }\r\n    },\r\n    getOrderData(obj) {\r\n      mango.getAjax(\"/v3/app/order/list\", obj).then(res => {\r\n        res = res.data\r\n        if (res) {\r\n          console.log('请求 的订单', res.records)\r\n          this.setOrderData(res)\r\n        }\r\n      })\r\n    },\r\n    select() {\r\n      this.setRightContainerStatus(true)\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.orderSearch {\r\n  position: relative;\r\n  width: 100vw;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n  margin-top: -5.86vw;\r\n  .orderSearchHeader{\r\n    position: fixed;\r\n    z-index: 99;\r\n    padding-top: 21.466vw;\r\n    width: 100vw;\r\n    background: #fff;\r\n    .infoHeader{\r\n      padding: 4vw 4.8vw;\r\n    }\r\n    .topBar{\r\n      position: relative;\r\n      margin-top: 0;\r\n    }\r\n  }\r\n  div.CustomerList{\r\n    margin-top: 14.81vw;\r\n    padding-top: 1px;\r\n  }\r\n  .searchForm{\r\n    width: 100vw;\r\n    background: #fff;\r\n    padding-top: 4vw;\r\n    input{\r\n      display: block;\r\n      width: 80vw;\r\n      height: 8vw;\r\n      margin-left: 10vw;\r\n      background: url('../../assets/imgs/egg_search.png') no-repeat, #f7f7f7;\r\n      background-size: 4vw 4vw;\r\n      background-position: 4vw center;\r\n      border-radius: 4vw;\r\n      box-shadow: border-box;\r\n      padding-left: 10vw;\r\n      color: #999;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/work/orderSearch.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderSearch\"},[_c('div',{staticClass:\"orderSearchHeader\"},[_c('my-banner',{attrs:{\"title\":'订单查询'}}),_vm._v(\" \"),_c('form',{staticClass:\"searchForm\",attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],ref:\"inpComp\",staticClass:\"input\",attrs:{\"type\":\"search\",\"placeholder\":\"请输入姓名或电话\"},domProps:{\"value\":(_vm.searchKey)},on:{\"change\":_vm.inputChange,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.searchKey=$event.target.value}}})]),_vm._v(\" \"),_c('InfoHeader',{attrs:{\"count\":_vm.orderData.total},on:{\"select\":_vm.select}}),_vm._v(\" \"),_c('TopBar',{attrs:{\"topBarTitle\":_vm.topbar}})],1),_vm._v(\" \"),_c('order-list'),_vm._v(\" \"),_c('OrderSearchRightContainer')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-926c542a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/work/orderSearch.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-926c542a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./orderSearch.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSearch.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./orderSearch.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-926c542a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./orderSearch.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/work/orderSearch.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"topBar\">\r\n    <span>{{topBarTitle.leftTitle}}</span>\r\n    <span>{{topBarTitle.centerTitle}}</span>\r\n    <span>{{topBarTitle.rightTitle}}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props:['topBarTitle']\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .topBar{\r\n    z-index: 99;\r\n    position: fixed;\r\n    //top:0;\r\n    //z-index:1000;\r\n    //height: 10.81vw;\r\n    height:12vw;\r\n    background: #efeff4;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    color: #363636;\r\n    font-size: 3.73vw;\r\n    //transform: scale(1.2);\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    padding: 0 4.27vw;\r\n    align-items: center;\r\n    margin-top: -12vw;\r\n    //margin-top:-11vw;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/topBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topBar\"},[_c('span',[_vm._v(_vm._s(_vm.topBarTitle.leftTitle))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.topBarTitle.centerTitle))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.topBarTitle.rightTitle))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-22ce740f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/topBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22ce740f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./topBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./topBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./topBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22ce740f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./topBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22ce740f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/topBar.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}