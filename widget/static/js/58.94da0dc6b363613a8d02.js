webpackJsonp([58],{"N0/U":function(t,e){},RwZZ:function(t,e){},yALm:function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c("aA9S"),i=c.n(a),s=c("4YfN"),n=c.n(s),r=(c("xd7I"),c("YV7O")),o=c("ga7s"),u=c("HVJf"),d={props:["options","name"],data:function(){return{checkList:[]}},computed:n()({},Object(u.d)(["again"])),methods:{updateVal:function(t){this.$emit("change",this.checkList)}}},h={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"yan-searchList"},t._l(t.options,function(e){return c("label",{key:e.id,staticClass:"yan-label"},[t._t("default",null,{info:e}),t._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:t.checkList,expression:"checkList"}],staticClass:"yan-radio",attrs:{type:"checkbox",name:t.name},domProps:{value:e.id,checked:Array.isArray(t.checkList)?t._i(t.checkList,e.id)>-1:t.checkList},on:{change:[function(c){var a=t.checkList,i=c.target,s=!!i.checked;if(Array.isArray(a)){var n=e.id,r=t._i(a,n);i.checked?r<0&&(t.checkList=a.concat([n])):r>-1&&(t.checkList=a.slice(0,r).concat(a.slice(r+1)))}else t.checkList=s},t.updateVal]}}),t._v(" "),c("span")],2)}),0)},staticRenderFns:[]};var l=c("C7Lr")(d,h,!1,function(t){c("RwZZ")},"data-v-b3e93c8e",null).exports,p=(c("wSez"),c("vGYV")),f=c("0xDb"),v=c("pPmT"),k=new f.a,m={data:function(){return{key:"",hasRecord:!1,productList:[],id:"",url:"",top:""}},components:{mybanner:r.a,searchInput:o.a,searchList:l},computed:n()({},Object(u.d)("searchProduct",["title"]),Object(u.d)(["searchProductList","checkedList","allSearchProductList","again"])),created:function(){this.id=this.$route.params.customerId,this.url=this.$route.query.redirect},mounted:function(){this.isIPhoneX()},methods:n()({},Object(u.c)(["updateSearchProductList","updateCheckedList","updateAllSearchProductList","updateAgain"]),{isIPhoneX:function(t){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(812==screen.height&&375==screen.width||896==screen.height&&414==screen.width?this.top="6":this.top="0")},update:function(){var t=this;if(this.productList.length>0||this.checkedList.length>0){var e=[];this.productList.forEach(function(c,a){var i=c;e.push(t.filterArr(i))}),this.updateCheckedList(e),this.$router.replace({name:"intentionProduct",query:{redirect:this.url}})}else p.a.tip("至少选择一种产品")},updateVal:function(t){this.productList=t},search:function(){var t=this;Object(v.a)(function(){var e=this;""!==t.key&&(t.productList=[],k.getProduct(t.key).then(function(e){0===e.code&&(e.data.length>0?(t.updateSearchProductList(e.data),t.hasRecord=!0):t.hasRecord=!1)}).catch(function(t){510===t&&e.search()}))},300)()},filterArr:function(t){var e=void 0;return this.searchProductList.map(function(c,a){c.id===t&&(e=i()({},c,{quantity:1}))}),e}})},L={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"address"},[c("mybanner",{staticStyle:{background:"#f8f8f8",border:"none"},attrs:{title:t.title}},[c("button",{attrs:{type:"button"},on:{click:t.update}},[t._v("确定")])]),t._v(" "),c("search-input",{style:{marginTop:t.top+"vw"},on:{input:t.search},model:{value:t.key,callback:function(e){t.key="string"==typeof e?e.trim():e},expression:"key"}}),t._v(" "),c("div",{staticClass:"list"},[t.hasRecord?c("search-list",{key:t.key,ref:"search",attrs:{options:t.searchProductList,name:"1"},on:{change:t.updateVal},scopedSlots:t._u([{key:"default",fn:function(e){return[c("span",{staticClass:"item"},[t._v(t._s(e.info.goodsName))])]}}],null,!1,3417145254)}):c("div",{staticClass:"no-record"},[t._v("暂无记录")])],1)],1)},staticRenderFns:[]};var y=c("C7Lr")(m,L,!1,function(t){c("N0/U")},"data-v-fcd37a38",null);e.default=y.exports}});
//# sourceMappingURL=58.94da0dc6b363613a8d02.js.map