webpackJsonp([66],{"60gl":function(t,a){},fWC1:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("YV7O"),r=e("PxBZ"),i=e("f3WF"),n=e("0xDb"),d=new n.a,u={name:"curReport",components:{DailyUl:r.a,H3:i.a},props:["username","id","date","shopId"],data:function(){return{tabList:[{name:"门店数据",status:!0},{name:"个人数据",status:!1}],dailyList:{cus:0,cusBusiness:0,guestSingleValue:0,opp:0,tourist:0,trackRecord:0,turnoverRatio:0,volumeBusiness:0},curDay:""}},created:function(){this.getCurDay()},mounted:function(){},methods:{changeStatus:function(t){var a=this.tabList.map(function(a,e){return a.status=e===t,a});if(this.tabList=a,0===t){var e={shopId:this.shopId,startDate:this.date,endDate:this.date};this.getPerStoreReport(e)}else{var s={userId:this.id,startDate:this.date,endDate:this.date,shopId:this.shopId,QueryYourself:1};this.getPerReport(s)}},getPerStoreReport:function(t){var a=this;d.getPerStore(t).then(function(t){1===t.status&&(a.dailyList=t.data)}).catch(function(e){510===e&&a.getPerStoreReport(t)})},getPerReport:function(t){var a=this;d.getDailyStoreReport(t).then(function(t){1===t.status&&(a.dailyList=t.data)}).catch(function(e){510===e&&a.getPerReport(t)})},getCurDay:function(){var t=this.date.split("-");this.curDay=t[0]+"年"+t[1]+"月"+t[2]+"日",this.getPerStoreReport({shopId:this.shopId,startDate:this.date,endDate:this.date})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabCurReport"},[e("ul",{staticClass:"dailyTab"},t._l(t.tabList,function(a,s){return e("li",{key:s,class:a.status?"on":"",on:{click:function(a){return t.changeStatus(s)}}},[t._v(t._s(a.name))])}),0),t._v(" "),e("div",{staticClass:"dailyBox"},[e("div",{staticClass:"daily"},[t.tabList[0].status?e("H3",[t._v("所属门店"+t._s(t.curDay)+"数据")]):e("H3",[t._v(t._s(t.username+t.curDay)+"数据")]),t._v(" "),e("DailyUl",{staticClass:"dailyStyle",attrs:{list:t.dailyList}})],1)])])},staticRenderFns:[]};var l=e("C7Lr")(u,o,!1,function(t){e("60gl")},"data-v-33dc0625",null).exports,c=e("+4/w"),h=e("GW3N"),y=e("vGYV"),p=new n.a,m=e("BvhE").Base64,f={name:"employeeDailyReport",props:["id","username","date","shopId"],data:function(){return{dailySummaryTextarea:"",dailyPlanTextarea:""}},components:{banner:s.a,tabCurReport:l,DailySummary:c.a,DailyPlan:h.a},created:function(){this.getPerDaily()},methods:{getPerDaily:function(){var t=this;p.getPerDaily({userId:this.id,date:this.date}).then(function(a){if(console.log(a),1===a.status){var e=t.date.replace(/\-/g,"/");new Date(e)<y.a.setReportTime()?(t.dailySummaryTextarea=a.data.summarize,t.dailyPlanTextarea=a.data.plan):(t.dailySummaryTextarea=m.decode(a.data.summarize),t.dailyPlanTextarea=m.decode(a.data.plan))}}).catch(function(a){510===a&&t.getPerDaily()})}}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("banner",{staticClass:"header",attrs:{title:t.username+"日报"}}),t._v(" "),e("tabCurReport",{attrs:{username:t.username,id:t.id,date:t.date,shopId:t.shopId}}),t._v(" "),e("div",{staticClass:"summary"},[e("DailySummary",{attrs:{text:t.dailySummaryTextarea,disabled:!1}}),t._v(" "),e("DailyPlan",{attrs:{text:t.dailyPlanTextarea,disabled:!1}})],1)],1)},staticRenderFns:[]};var D=e("C7Lr")(f,v,!1,function(t){e("hNMw")},"data-v-b1c7a798",null);a.default=D.exports},hNMw:function(t,a){}});
//# sourceMappingURL=66.61c8df556edd103e6eaa.js.map