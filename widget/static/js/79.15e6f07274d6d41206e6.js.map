{"version":3,"sources":["webpack:///src/pages/charts/Sales/storeSales.vue","webpack:///./src/pages/charts/Sales/storeSales.vue?051b","webpack:///./src/pages/charts/Sales/storeSales.vue"],"names":["vue_esm","use","vue_router_esm","vuex_esm","storeSales","name","components","Bar","bar","chartsTit","title","RouterLink","routerLink","mybanner","banner","noData","data","ajaxData","storeSalesData","endTime","js","getLocalTime","key","storeSalchanrtDom1","storeSalesShow","created","localStorage","getItem","this","JSON","parse","getStoreSalesData","mounted","Object","msManage","computed","watch","_this2","setTimeout","chartsInit","series","_this","$router","push","path","idsData","dataIndex","beforeDestroy","dispose","methods","extends_default","_this3","getAjax","date","tenantId","then","res","newData","getNewArr","yAxisData","$set","chartsEvent","componentType","Sales_storeSales","render","_h","$createElement","_c","_self","staticClass","attrs","_v","text","directives","rawName","value","expression","ref","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/79.15e6f07274d6d41206e6.js","sourcesContent":["<!-- <keep-alive> -->\r\n<template>\r\n  <div class=\"storeSales paddingTop2\">\r\n    <mybanner :title='title'/>\r\n    <div class=\"barBox\">\r\n      <chartsTit :text=\"'各门店销售额对比'\">\r\n        <h6>单位：万元</h6>\r\n      </chartsTit>\r\n      <div v-show=\"!storeSalesShow\" ref=\"storeSalesContainer\" ></div>\r\n      <noData v-show=\"storeSalesShow\"></noData>\r\n      <!-- <Bar\r\n      @chartsClick=\"chartsEvent\"\r\n      :data=\"storeSalesData\"\r\n      :vertical=\"'horizontal'\"\r\n      :height=\"250\"\r\n      :salesVal=\"true\"></Bar> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n<!-- </keep-alive> -->\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Vue from 'vue'\r\nimport chartsInit,{chanrtDom, emptyData} from '../../../utils/chartsInit'\r\nimport VueRouter from 'vue-router'\r\nimport mango from '../../../js'\r\nimport Vuex, { mapState, mapMutations, mapGetters } from 'vuex'\r\nVue.use(VueRouter)\r\nVue.use(Vuex)\r\nimport Bar from '../../../components/charts/bar'\r\nimport chartsTit from '../../../components/charts/title'\r\nimport RouterLink from '../../../components/charts/routerLink'\r\nimport mybanner from '../../../components/banner'\r\nimport noData from '../../../components/charts/noData'\r\nimport {waterMark} from '../../../utils/msManage'\r\nexport default {\r\n  name: 'storeSales',\r\n  components: {\r\n    Bar,\r\n    chartsTit,\r\n    RouterLink,\r\n    mybanner,\r\n    noData\r\n  },\r\n  data () {\r\n    return {\r\n      ajaxData: {},\r\n      storeSalesData: {},\r\n      endTime: mango.getLocalTime('end'),\r\n      title:'销售额报表',\r\n      key:false,\r\n      storeSalchanrtDom1:'',\r\n      storeSalesShow: false\r\n    }\r\n  },\r\n  created() {\r\n    // 获取本地存储信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    this.getStoreSalesData()\r\n    // console.log('creat,tenanid',this.ajaxData.tenantId)\r\n  },\r\n  mounted(){\r\n    waterMark('.barBox')\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {\r\n    storeSalesData() {\r\n      // 参数说明：\r\n      // data：图标数据\r\n      // vertical设置柱状图的横向排布和纵向排布\r\n      // height设置图标容器main的高度\r\n      // salesVal标记是否为销售额，主要用于改变数据单位\r\n      setTimeout(() => {\r\n        if(this.key) {\r\n        let routeTo = (data, _this) => {\r\n          _this.$router.push({path: `/personalSales?shopId=${this.storeSalesData.idsData[data.dataIndex]}&name=${data.name}`})\r\n        }\r\n        // 检测数据是否为空\r\n        this.storeSalesShow = emptyData(this.storeSalesData.series)\r\n        chartsInit(this, 'storeSales', 'horizontal', true, '', routeTo)\r\n        this.storeSalchanrtDom1 = chanrtDom\r\n      }\r\n      }, 200);\r\n    }\r\n  },\r\n  beforeDestroy(){\r\n    if(this.storeSalchanrtDom1) {\r\n      this.storeSalchanrtDom1.dispose()\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapMutations([\r\n      'setHomeTit',\r\n      'setHomeText',\r\n      'setHomeArr'\r\n    ]),\r\n    // goToChild() {\r\n    //   this.$router.push({ path: '/child' })\r\n    // },\r\n    // ajax请求\r\n    getStoreSalesData() {\r\n      let _this = this\r\n      mango.getAjax('/v1/app/report/shops/sales', {\r\n        date: this.endTime,\r\n        tenantId: this.ajaxData.tenantId\r\n      }).then((res) => {\r\n        if (res) {\r\n          let newData = mango.getNewArr(res.data.series[0].data,res.data.series[1].data,res.data.yAxisData,res.data.idsData)\r\n          this.$set(res.data,'idsData',newData[3])\r\n          this.$set(res.data.series[0],'data',newData[1])\r\n          this.$set(res.data.series[1],'data',newData[2])\r\n          this.$set(res.data,'yAxisData',newData[0])\r\n          this.key = true\r\n          res = res.data\r\n          // let tempArr = res.yAxisData.map((item) => {\r\n          //   return '3d'\r\n          // })\r\n          // res.yAxisData = tempArr\r\n          _this.storeSalesData = res\r\n        }\r\n      })\r\n    },\r\n    chartsEvent(data) {\r\n      if (data[0].componentType === 'series') {\r\n        // console.log('shopId', data)\r\n        this.$router.push({path: `/personalSales?shopId=${data[1][data[0].dataIndex]}&name=${data[0].name}`})\r\n      }\r\n      // console.log('点击图表传回的数据：', data)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n.sales{\r\n  // background:#f8f8f8;\r\n}\r\n</style>\r\n \n\n\n// WEBPACK FOOTER //\n// src/pages/charts/Sales/storeSales.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storeSales paddingTop2\"},[_c('mybanner',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{staticClass:\"barBox\"},[_c('chartsTit',{attrs:{\"text\":'各门店销售额对比'}},[_c('h6',[_vm._v(\"单位：万元\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.storeSalesShow),expression:\"!storeSalesShow\"}],ref:\"storeSalesContainer\"}),_vm._v(\" \"),_c('noData',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.storeSalesShow),expression:\"storeSalesShow\"}]})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25209bf8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/charts/Sales/storeSales.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25209bf8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./storeSales.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeSales.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./storeSales.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25209bf8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./storeSales.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25209bf8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/charts/Sales/storeSales.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}