{"version":3,"sources":["webpack:///src/components/customer/dealCustomer/followDetails.vue","webpack:///./src/components/customer/dealCustomer/followDetails.vue?76c1","webpack:///./src/components/customer/dealCustomer/followDetails.vue","webpack:///src/pages/customer/trackDetails.vue","webpack:///./src/pages/customer/trackDetails.vue?047d","webpack:///./src/pages/customer/trackDetails.vue"],"names":["followDetails","props","computed","extends_default","Object","vuex_esm","followTrackDetails","state","data","dealCustomer_followDetails","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","followSituation","probability","followTime","followPlan","staticRenderFns","customer_dealCustomer_followDetails","__webpack_require__","normalizeComponent","ssrContext","trackDetails","components","mybanner","banner","title","pulldown","i","status","demandId","demandList","product","trList","showRecordForm","$route","query","recordForm","recordFormData","roomNum","shopName","shops","created","ajaxData","localStorage","getItem","JSON","parse","getTrackDetails","methods","toNewTrack","$router","push","path","getCreateTime","date","trim","split","_this","js","getAjax","then","res","roomNumJudge","tempId","shopId","_changeShopName","catch","reject","id","_this2","forEach","item","index","name","toChangeDemand","setCustomerDemand","buyReason","colorPref","intention","progress","remark","stylePref","pullDown","setFollowTrackDetails","customer_trackDetails","attrs","directives","rawName","value","expression","on","click","_m","_l","key","$event","createTime","class","src","alt","trackDetails_Component","trackDetails_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/62.fd4202e92b59b27d682f.js","sourcesContent":["<template>\r\n  <div class=\"followDetails\">\r\n    <h1>跟进情况</h1>\r\n    <div class=\"follow-situtation\">\r\n      {{ followTrackDetails.followSituation }}\r\n    </div>\r\n    <ul>\r\n      <li>\r\n        <span>成交率</span>\r\n        <p>{{ followTrackDetails.probability }}</p>\r\n      </li>\r\n      <li>\r\n        <span>下次跟进日期</span>\r\n        <p>{{ followTrackDetails.followTime }}</p>\r\n      </li>\r\n    </ul>\r\n    <h1>跟进计划</h1>\r\n    <div class=\"follow-plan\">\r\n      {{ followTrackDetails.followPlan }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Vuex, { mapMutations, mapState } from 'vuex'\r\nimport VueRouter from 'vue-router'\r\n\r\nexport default {\r\n  props:['followTrackDetail'],\r\n  computed: {\r\n    ...mapState({\r\n      followTrackDetails: state => state.followTrackDetails.followTrackDetails  \r\n    })\r\n  },\r\n  data() {\r\n    return{\r\n    \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.followDetails{\r\n  padding: 0 4.4vw 6.6vw 4.4vw;\r\n  border-top: 2px solid #007aff;\r\n  border-bottom: 2px solid #007aff;\r\n  color: #363636;\r\n  background: #fff;\r\n  h1{\r\n    font-size: 4vw;\r\n    line-height: 3em;\r\n  }\r\n  .follow-situtation ,.follow-plan{\r\n    width: 91.33vw;\r\n    height: 23.46vw;\r\n    overflow: scroll;\r\n    border: 1px solid #e1e1e1;\r\n    border-radius: 1.6vw;\r\n    background: #f8f8f8;\r\n    padding: 4vw;\r\n    box-sizing: border-box;\r\n  }\r\n  ul{\r\n    li{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      line-height: 12vw;\r\n      p{\r\n        color: #999;\r\n      } \r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/customer/dealCustomer/followDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"followDetails\"},[_c('h1',[_vm._v(\"跟进情况\")]),_vm._v(\" \"),_c('div',{staticClass:\"follow-situtation\"},[_vm._v(\"\\n    \"+_vm._s(_vm.followTrackDetails.followSituation)+\"\\n  \")]),_vm._v(\" \"),_c('ul',[_c('li',[_c('span',[_vm._v(\"成交率\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.followTrackDetails.probability))])]),_vm._v(\" \"),_c('li',[_c('span',[_vm._v(\"下次跟进日期\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.followTrackDetails.followTime))])])]),_vm._v(\" \"),_c('h1',[_vm._v(\"跟进计划\")]),_vm._v(\" \"),_c('div',{staticClass:\"follow-plan\"},[_vm._v(\"\\n    \"+_vm._s(_vm.followTrackDetails.followPlan)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-53719d1c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/customer/dealCustomer/followDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53719d1c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./followDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./followDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./followDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53719d1c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./followDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-53719d1c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/customer/dealCustomer/followDetails.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"trackDetalis\">\r\n    <mybanner :title=\"title\">\r\n      <!-- <button v-show=\"showRecordForm\">保存</button> -->\r\n    </mybanner>\r\n    <h1></h1>\r\n    <div class=\"customer-demand\">\r\n      <div class=\"tilte\">\r\n        <p></p>\r\n        <h2>客户需求</h2>\r\n        <button @click=\"toChangeDemand\" v-show=\"showRecordForm\">更改</button>\r\n      </div>\r\n      <ul>\r\n        <li>\r\n          <p>意向产品</p>\r\n          <span>{{demandList.intention }}</span>\r\n        </li>\r\n        <li>\r\n          <p>颜色偏好</p>\r\n          <span>{{demandList.colorPref }}</span>\r\n        </li>\r\n        <li>\r\n          <p>风格偏好</p>\r\n          <span>{{demandList.stylePref }}</span>\r\n        </li>\r\n        <li>\r\n          <p>购买原因</p>\r\n          <span>{{demandList.buyReason }}</span>\r\n        </li>\r\n        <li>\r\n          <p>装修进度</p>\r\n          <span>{{ demandList.progress }}</span>\r\n        </li>\r\n        <li>\r\n          <p>房间数量</p>\r\n          <span>{{ roomNum }}</span>\r\n        </li>\r\n        <li>\r\n          <p>所属门店</p>\r\n          <span>{{ shopName }}</span>\r\n        </li>\r\n        <li>\r\n          <p>客户备注</p>\r\n          <span>{{ demandList.remark }}</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div class=\"follow-up-history\">\r\n      <div class=\"tilte\">\r\n        <p></p>\r\n        <h2>跟进历史</h2>\r\n      </div>\r\n      <div class=\"followTitle\">\r\n        <span>跟进时间</span>\r\n        <span>下次跟进时间</span>\r\n        <span>成交概率</span>\r\n      </div>\r\n      <ul>\r\n        <li v-for=\"(item,index) in demandList.trList\" :key=\"index\" @click=\"pullDown(index)\">\r\n          <div class=\"detail-wrapper\">\r\n            <span class=\"time\">{{getCreateTime(item.createTime)}}</span>\r\n            <span class=\"people\">{{item.followTime}}</span>\r\n            <p>{{item.probability}}</p>\r\n            <div class=\"icon\" >\r\n              <img src=\"../../assets/imgs/rightside.png\" alt=\"\" \r\n              :class=\"{'pullDown':`${pulldown}` == index}\">\r\n            </div>\r\n          </div>\r\n          <followDetails v-show=\"i == index\" />\r\n        </li>\r\n      </ul> \r\n    </div>\r\n    <div><button @click=\"toNewTrack\" class=\"new\"></button></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport Vuex, { mapMutations, mapState } from 'vuex'\r\nimport VueRouter from 'vue-router'\r\nimport mybanner from '../../components/banner'\r\nimport followDetails from '../../components/customer/dealCustomer/followDetails'\r\nimport mango from '../../js'\r\n\r\nexport default {  \r\n  components:{mybanner, followDetails},\r\n  computed: {\r\n    ...mapState({\r\n      followTrackDetails: state => state.followTrackDetails.followTrackDetails\r\n    })\r\n  },\r\n  data() {\r\n    return{\r\n      title:'需求详情',\r\n      pulldown:-1,\r\n      i:-1,\r\n      status:false,\r\n      demandId:'',\r\n      demandList:[],\r\n      product:'',\r\n      trList:[],\r\n      showRecordForm: this.$route.query.recordForm,\r\n      recordFormData: {},\r\n      roomNum:'',\r\n      shopName:'',\r\n      shops: []\r\n    }\r\n  },\r\n  created(){\r\n    //获取本地缓存信息\r\n    let ajaxData = localStorage.getItem('ajaxData')\r\n    this.ajaxData = JSON.parse(ajaxData)\r\n    let shops = localStorage.getItem('shops')\r\n    this.shops = JSON.parse(shops)\r\n    //获取参数\r\n    this.demandId = this.$route.query.demandId \r\n    this.product = this.$route.query.product \r\n    this.getTrackDetails()\r\n  },\r\n  methods:{\r\n    ...mapMutations([\r\n      'setFollowTrackDetails',\r\n      'setCustomerDemand'\r\n    ]),\r\n    toNewTrack() {\r\n      this.$router.push({\r\n        path: '/newTrack',\r\n        query: {\r\n          demandId: this.demandId\r\n        }\r\n      })\r\n    },\r\n    //获取创建时间的年月日\r\n    getCreateTime(date) {\r\n      return date.trim().split(/\\s+/)[0]\r\n    },\r\n    //获取数据\r\n    getTrackDetails(){\r\n      mango.getAjax(this, 'demand',{\r\n        demandId:this.demandId\r\n      }, 'v2')\r\n      .then((res) => {\r\n        if (res) {\r\n          this.demandList = res.data\r\n          // console.log(1111,this.demandList)\r\n          this.roomNumJudge()\r\n          let tempId = this.demandList.shopId\r\n          this._changeShopName(tempId)\r\n        }\r\n      }) \r\n      .catch((reject) => {\r\n        if (reject === 510) {\r\n          this.getTrackDetails()\r\n        }\r\n      })\r\n    },\r\n    //shopId转换为名字\r\n    _changeShopName(id) {\r\n      if(this.shops) {\r\n        if(id) {\r\n          this.shops.forEach((item, index) => {\r\n          if(item.id === id) {\r\n            this.shopName = item.name\r\n          }\r\n        });\r\n        }\r\n      } \r\n    },\r\n    //判断房间数是否大于5\r\n    roomNumJudge() {\r\n      if(this.demandList.roomNum === 5) {\r\n        this.roomNum = '5及以上'\r\n      }else {\r\n        this.roomNum = this.demandList.roomNum\r\n      }\r\n    },\r\n    toChangeDemand() {\r\n      this.setCustomerDemand({\r\n        buyReason: this.demandList.buyReason,\r\n        colorPref: this.demandList.colorPref,\r\n        id: this.demandList.id,\r\n        intention: this.demandList.intention,\r\n        progress: this.demandList.progress,\r\n        remark: this.demandList.remark,\r\n        roomNum: this.demandList.roomNum,\r\n        stylePref: this.demandList.stylePref,\r\n        shopId: this.demandList.shopId\r\n      })\r\n      this.$router.push({\r\n        path:'/changeDemand'\r\n      })\r\n    },\r\n    pullDown(index) {\r\n      // this.trList = this.demandList.trList[index]\r\n      this.setFollowTrackDetails(this.demandList.trList[index])\r\n      // console.log(this.trList)\r\n      if(this.status){\r\n        if(this.pulldown == index){\r\n          this.i = -1\r\n          this.status = false\r\n          this.pulldown = -1\r\n        }else{\r\n          this.i = index\r\n          this.pulldown = index  \r\n        }\r\n      }else{\r\n        this.status = true\r\n        this.pulldown = index\r\n         this.i = index\r\n      }\r\n    }\r\n  } \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.trackDetalis{\r\n  color: #363636;\r\n  background: #f8f8f8;\r\n  min-height: 100vh;\r\n  h1{\r\n    padding-top: 16vw;\r\n    font-size: 5.64vw;\r\n    line-height: 2em;\r\n    padding-left: 4.6vw;\r\n    margin-top: 2vw;\r\n\r\n  } \r\n  .tilte{\r\n    display: flex;\r\n    align-items: center;\r\n    position: relative;\r\n    h2{\r\n      font-size: 4vw;\r\n      margin-left: 2vw;\r\n    }\r\n    p{\r\n      background:#007aff;\r\n      width: 0.53vw;\r\n      height: 4vw;\r\n      margin-left: 4.6vw;\r\n    }\r\n    button{\r\n      position: absolute;\r\n      right: 5vw;\r\n      line-height: 2em;\r\n    }\r\n  }\r\n  .customer-demand{\r\n    ul{\r\n      border-top:1px solid  #b5b5b5;\r\n      border-bottom: 1px solid #b5b5b5;\r\n      background: #fff;\r\n      padding: 2vw 4vw;\r\n      margin-bottom: 4vw;\r\n      margin-top: 2vw;\r\n      li{\r\n        font-size: 4vw;\r\n        line-height: 2em;\r\n        display: flex;\r\n          p{\r\n            flex: 0.3;\r\n          }\r\n          span{\r\n            flex: 0.7\r\n          }\r\n        \r\n      }\r\n    }\r\n  }\r\n  .follow-up-history{\r\n    .followTitle{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 1vw 4vw;\r\n      background: #efeff4;\r\n      color: #363636;  \r\n      line-height: 9.06vw;\r\n      font-size: 4vw;\r\n      margin-top: 2vw;\r\n\r\n    }\r\n    ul{\r\n      border-top:1px solid  #b5b5b5;\r\n      border-bottom: 1px solid #b5b5b5;\r\n      background: #fff;\r\n      margin-bottom: 4vw;\r\n      .detail-wrapper{\r\n        font-size: 4vw;\r\n        line-height: 2em;\r\n        display: flex;\r\n        padding: 1vw 4vw;\r\n        .time{\r\n          flex: 0.45;\r\n        }\r\n        .people{\r\n          flex: 0.55\r\n        }\r\n        p{\r\n          color: #999;\r\n        }\r\n        .icon{\r\n          padding-left:2vw;\r\n          img{\r\n            width: 1.6vw;\r\n            height: 3.2vw;\r\n            transform: rotate(90deg);\r\n          }\r\n          .pullDown{\r\n            transform: rotate(-90deg);    \r\n          }\r\n        }\r\n       \r\n      }\r\n    }\r\n  }\r\n  \r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/customer/trackDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"trackDetalis\"},[_c('mybanner',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('h1'),_vm._v(\" \"),_c('div',{staticClass:\"customer-demand\"},[_c('div',{staticClass:\"tilte\"},[_c('p'),_vm._v(\" \"),_c('h2',[_vm._v(\"客户需求\")]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRecordForm),expression:\"showRecordForm\"}],on:{\"click\":_vm.toChangeDemand}},[_vm._v(\"更改\")])]),_vm._v(\" \"),_c('ul',[_c('li',[_c('p',[_vm._v(\"意向产品\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.intention))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"颜色偏好\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.colorPref))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"风格偏好\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.stylePref))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"购买原因\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.buyReason))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"装修进度\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.progress))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"房间数量\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.roomNum))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"所属门店\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.shopName))])]),_vm._v(\" \"),_c('li',[_c('p',[_vm._v(\"客户备注\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.demandList.remark))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"follow-up-history\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('ul',_vm._l((_vm.demandList.trList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.pullDown(index)}}},[_c('div',{staticClass:\"detail-wrapper\"},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.getCreateTime(item.createTime)))]),_vm._v(\" \"),_c('span',{staticClass:\"people\"},[_vm._v(_vm._s(item.followTime))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.probability))]),_vm._v(\" \"),_c('div',{staticClass:\"icon\"},[_c('img',{class:{'pullDown':(\"\" + _vm.pulldown) == index},attrs:{\"src\":require(\"../../assets/imgs/rightside.png\"),\"alt\":\"\"}})])]),_vm._v(\" \"),_c('followDetails',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.i == index),expression:\"i == index\"}]})],1)}),0)]),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"new\",on:{\"click\":_vm.toNewTrack}})])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tilte\"},[_c('p'),_vm._v(\" \"),_c('h2',[_vm._v(\"跟进历史\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"followTitle\"},[_c('span',[_vm._v(\"跟进时间\")]),_vm._v(\" \"),_c('span',[_vm._v(\"下次跟进时间\")]),_vm._v(\" \"),_c('span',[_vm._v(\"成交概率\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6aee0710\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/customer/trackDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6aee0710\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./trackDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./trackDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./trackDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6aee0710\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./trackDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6aee0710\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/customer/trackDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}