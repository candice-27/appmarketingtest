webpackJsonp([88],{CZfl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i("0xDb"),a=i("t7k9"),o=i("YV7O"),l=i("uISu"),n=new c.a,s={components:{CollectBtn:l.a,Banner:o.a},data:function(){return{isBegin:!0,articleId:"",collection:!1,myhtml:"",articleDetails:"",top:"",account:"",imgSrc:[],logoImageUrl:""}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,this.getArticleDetail(),this.isIPhoneX()},mounted:function(){Object(a.i)(".article",1)},methods:{browser:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),c="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),o="ucweb"==t.match(/ucweb/i),l="android"==t.match(/android/i),n="windows ce"==t.match(/windows ce/i),s="windows mobile"==t.match(/windows mobile/i);return!!(e||i||c||a||o||l||n||s)},showImage:function(t){if(console.log(t.target.nodeName.toLowerCase()),"img"===t.target.nodeName.toLowerCase()&&(console.log(t.target.src),this.imgSrc.length>0)){var e=this.imgSrc.indexOf(t.target.src);if(e>-1){console.log(e);this.browser()}else this.activeImg=0}},getArticleDetail:function(){var t=this,e=this.articleId;n.getArticleDetail(e,this.account).then(function(e){if(t.articleDetails=e.data,t.logoImageUrl=e.data.logoImageUrl,e.data.remark){var i=e.data.remark;t.myhtml=Object(a.d)(Object(a.a)(i)),t.myhtml=Object(a.e)(t.myhtml);var c=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,o=t.myhtml.match(/<img.*?(?:>|\/>)/gi);if(o)for(var l=0;l<o.length;l++)t.imgSrc.push(o[l].match(c)[1])}t.collection=e.data.collect})},collect:function(){var t=this.articleId;n.collect(1,t,this.account).then(function(t){console.log("res")})},cancelCollect:function(){var t=this.articleId;n.remove(1,t,this.account).then(function(t){console.log("canclecollect")})},changeCollectBtn:function(){this.collection=!this.collection,this.collection?this.collect():this.cancelCollect()},isIPhoneX:function(){var t=this.phoneSize();this.top="iphonex"===t?"11vw":"6vw"}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article paddingTop"},[i("banner",{attrs:{title:"文章详情"}},[i("collect-btn",{staticClass:"collentBtn",attrs:{collection:t.collection},nativeOn:{touchend:function(e){return t.changeCollectBtn(e)}}})],1),t._v(" "),i("div",{staticClass:"titleBar"},[i("div",{staticClass:"title"},[i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.logoImageUrl,expression:"logoImageUrl!==''"}],staticClass:"img"},[i("img",{staticClass:"pub-img",attrs:{src:t.logoImageUrl}})]),t._v(" "+t._s(t.articleDetails.title)+"\n    ")]),t._v(" "),t.articleDetails.author?i("div",{staticStyle:{color:"#909090","font-size":"14px"}},[t._v("\n      作者："+t._s(t.articleDetails.author)+"  \n      "),t.articleDetails.createTime?i("span",[t._v(t._s(t.articleDetails.createTime.split(" ")[0].split("-").join(".")))]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.myhtml)},on:{click:function(e){return e.stopPropagation(),t.showImage(e)}}})],1)},staticRenderFns:[]};var h=i("C7Lr")(s,r,!1,function(t){i("ev7R")},"data-v-28499c02",null);e.default=h.exports},ev7R:function(t,e){}});
//# sourceMappingURL=88.66c572c19b09350d4ff6.js.map