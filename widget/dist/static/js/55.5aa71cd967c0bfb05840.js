webpackJsonp([55],{MLZF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("4YfN"),s=a.n(n),i=(a("xd7I"),a("YV7O")),r=a("ga7s"),o=a("w/tL"),c=(a("wSez"),a("HVJf")),u=(a("vGYV"),a("CNcc")),l=a("0xDb"),d=a("pPmT"),h=new l.a,p={data:function(){return{key:"",hasRecord:!1,id:"",url:"",top:"",list:[]}},components:{mybanner:i.a,searchInput:r.a,searchRadioList:o.a},computed:s()({},Object(c.d)({plan:function(e){return e.plan.plan}})),created:function(){},mounted:function(){this.isIPhoneX()},methods:s()({},Object(c.c)("plan",["setSearchList"]),{isIPhoneX:function(e){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(812==screen.height&&375==screen.width||896==screen.height&&414==screen.width?this.top="6":this.top="0")},updateVal:function(e){this.$set(this.plan,"customerId",e);var t=this.filterList(e);this.$set(this.plan,"customerName",t),this.$set(this.plan,"opportunityId",""),this.$set(this.plan,"goodsName","")},search:function(){var e=this;Object(d.a)(function(){if(""!==e.key){var t=void 0;t=u.a.testPhone(e.key)?{phone:e.key}:{userName:e.key},h.getCustomerList(t).then(function(t){e.list=t.data,t.data.length>0?e.hasRecord=!0:e.hasRecord=!1}).catch(function(t){510===t&&e.search()})}},300)()},filterList:function(e){var t="";return this.list.map(function(a,n){a.customerId===e&&(console.log(a.username),t=a.username)}),t}})},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"address"},[a("mybanner",{staticStyle:{background:"#fff",border:"border:1px solid #e1e1e1"},attrs:{title:"选择客户"}}),e._v(" "),a("search-input",{style:{marginTop:e.top+"vw"},attrs:{placeholder:"请输入客户名称或手机号搜索客户"},on:{input:e.search},model:{value:e.key,callback:function(t){e.key="string"==typeof t?t.trim():t},expression:"key"}}),e._v(" "),a("div",{staticClass:"list"},[e.hasRecord?a("search-radio-list",{key:e.key,ref:"search",attrs:{idName:"customerId",options:e.list,name:"1"},on:{change:e.updateVal},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"item"},[e._v(e._s(t.info.username))])]}}],null,!1,3635542823)}):a("div",{staticClass:"no-record"},[e._v("暂无记录")])],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(p,f,!1,function(e){a("cvDY")},"data-v-62f2c344",null);t.default=m.exports},cvDY:function(e,t){},se1X:function(e,t){},"w/tL":function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"yan-searchList"},e._l(e.options,function(t){return a("label",{key:t[""+e.idName],staticClass:"yan-label"},[e._t("default",null,{info:t}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"yan-radio",attrs:{type:"radio",name:e.name},domProps:{value:t[""+e.idName],checked:e._q(e.value,t[""+e.idName])},on:{change:[function(a){e.value=t[""+e.idName]},e.updateVal]}}),e._v(" "),a("span")],2)}),0)},staticRenderFns:[]};var s=a("C7Lr")({props:["options","name","idName"],data:function(){return{value:""}},methods:{updateVal:function(e){this.$emit("change",this.value)}}},n,!1,function(e){a("se1X")},"data-v-0b9bb369",null);t.a=s.exports}});