webpackJsonp([68],{Dltd:function(t,a){},X6Nu:function(t,a){},fWC1:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=e("YV7O"),s=e("PxBZ"),i=e("f3WF"),n=e("0xDb"),u=new n.a,d={name:"curReport",components:{DailyUl:s.a,H3:i.a},props:["username","id","date"],data:function(){return{tabList:[{name:"门店数据",status:!0},{name:"个人数据",status:!1}],dailyList:{cus:0,cusBusiness:0,guestSingleValue:0,opp:0,tourist:0,trackRecord:0,turnoverRatio:0,volumeBusiness:0},curDay:""}},created:function(){this.getCurDay()},mounted:function(){},methods:{changeStatus:function(t){var a=this.tabList.map(function(a,e){return a.status=e===t,a});this.tabList=a;var e={userId:this.id,startDate:this.date,endDate:this.date};0===t?this.getPerStoreReport(e):this.getPerReport(e)},getPerStoreReport:function(t){var a=this;u.getPerStoreReport(t).then(function(t){1===t.status&&(a.dailyList=t.data)}).catch(function(e){510===e&&a.getPerStoreReport(t)})},getPerReport:function(t){var a=this;u.getDailyStoreReport(t).then(function(t){1===t.status&&(a.dailyList=t.data)}).catch(function(e){510===e&&a.getPerReport(t)})},getCurDay:function(){var t=this.date.split("-");this.curDay=t[0]+"年"+t[1]+"月"+t[2]+"日",this.getPerStoreReport({userId:this.id,startDate:this.date,endDate:this.date})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"tabCurReport"},[e("ul",{staticClass:"dailyTab"},t._l(t.tabList,function(a,r){return e("li",{key:r,class:a.status?"on":"",on:{click:function(a){return t.changeStatus(r)}}},[t._v(t._s(a.name))])}),0),t._v(" "),e("div",{staticClass:"dailyBox"},[e("div",{staticClass:"daily"},[t.tabList[0].status?e("H3",[t._v("所属门店"+t._s(t.curDay)+"数据")]):e("H3",[t._v(t._s(t.username+t.curDay)+"数据")]),t._v(" "),e("DailyUl",{staticClass:"dailyStyle",attrs:{list:t.dailyList}})],1)])])},staticRenderFns:[]};var o=e("C7Lr")(d,l,!1,function(t){e("X6Nu")},"data-v-33bac87a",null).exports,c=e("+4/w"),y=e("GW3N"),m=e("vGYV"),f=new n.a,h=e("BvhE").Base64,p={name:"employeeDailyReport",props:["id","username","date"],data:function(){return{dailySummaryTextarea:"",dailyPlanTextarea:""}},components:{banner:r.a,tabCurReport:o,DailySummary:c.a,DailyPlan:y.a},created:function(){this.getPerDaily()},methods:{getPerDaily:function(){var t=this;f.getPerDaily({userId:this.id,date:this.date}).then(function(a){if(console.log(a),1===a.status){var e=t.date.replace(/\-/g,"/");new Date(e)<m.a.setReportTime()?(t.dailySummaryTextarea=a.data.summarize,t.dailyPlanTextarea=a.data.plan):(t.dailySummaryTextarea=h.decode(a.data.summarize),t.dailyPlanTextarea=h.decode(a.data.plan))}}).catch(function(a){510===a&&t.getPerDaily()})}}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("banner",{staticClass:"header",attrs:{title:t.username+"日报"}}),t._v(" "),e("tabCurReport",{attrs:{username:t.username,id:t.id,date:t.date}}),t._v(" "),e("div",{staticClass:"summary"},[e("DailySummary",{attrs:{text:t.dailySummaryTextarea,disabled:!1}}),t._v(" "),e("DailyPlan",{attrs:{text:t.dailyPlanTextarea,disabled:!1}})],1)],1)},staticRenderFns:[]};var D=e("C7Lr")(p,v,!1,function(t){e("Dltd")},"data-v-5e84f06c",null);a.default=D.exports}});