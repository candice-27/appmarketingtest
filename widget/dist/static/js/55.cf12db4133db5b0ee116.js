webpackJsonp([55],{A30q:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAKCAYAAADVTVykAAAArUlEQVQ4T2NkGGDACLKfXdpMjeHf/3aG///dwO5hZNz1n/Ff9a9nZ29gcx811TOCDGP89/8EAwODIJpl7/8zMVr8fHrqFrI4tdUzskuarmVkYAjC5tP/DAzrfj4/HYziACqrZ2SXMPnMyMjIg9UB//9/+fniDC+KA6isnoADGD79fHGan3gHkK5+EETBQCdClGzI8N+d4T/jXwZGhr3/Gf9VEcyGVFAPLgcGEgAAFDa/ls74CWMAAAAASUVORK5CYII="},CZfl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("0xDb"),s=i("t7k9"),c=i("YV7O"),n=i("Dd8w"),o=i.n(n),l=i("NYxO"),r=new a.a,h={props:["shareStatus","collection","shareTitle","remark"],data:function(){return{isShow:!1,articleId:"",account:"",collectionText:"收藏",collectImg:"./static/images/shoucang.png",collectStatus:this.collection,title:this.shareTitle,pageUrl:"",list:[{name:"微信好友",title:"weixin",image:"./static/images/weixin.png"},{name:"微信朋友圈",title:"pengyouquan",image:"./static/images/pengyouquan.png"}]}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,console.log(this.articleId,this.account),this.pageUrl="https://mobiletest.derucci.net/web/marketing/#/productDetails?id="+this.articleId+"&name=产品知识"},computed:o()({},Object(l.d)({imgUrl:function(t){return t.share.imgUrl}})),mounted:function(){},methods:{centerShare:function(){this.isShow=!1},collect:function(){var t=this.articleId;r.collect(1,t,this.account).then(function(t){console.log("res")})},cancelCollect:function(){var t=this.articleId;r.remove(1,t,this.account).then(function(t){console.log("canclecollect")})},shareTo:function(t){switch(t){case"weixin":this.sharewx("session");break;case"pengyouquan":this.sharewx("timeline");break;case"shoucang":this.collectStatus=!this.collectStatus,this.collectStatus?(this.collectImg="./static/images/yishoucang.png",this.collectionText="取消收藏",this.collect()):(this.collectImg="./static/images/shoucang.png",this.collectionText="收藏",this.cancelCollect()),console.log(t)}},sharewx:function(t){api.require("wx").shareWebpage({apiKey:"",scene:t,title:this.title,description:this.remark,thumb:this.imgUrl,contentUrl:this.pageUrl},function(t,e){t.status?this.isShow=!1:alert("分享失败")})}},watch:{shareStatus:function(){this.shareStatus&&(this.isShow=!0)},isShow:function(){this.$emit("centerShare",!1)},collection:function(){this.collection&&(this.collectStatus=!0,this.collectImg="./static/images/yishoucang.png",this.collectionText="取消收藏")}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"share"},[a("img",{staticClass:"moreImg",attrs:{src:i("A30q"),alt:""}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"shareList"},[a("span",{staticClass:"shareTitle"},[t._v("分享到")]),t._v(" "),a("ul",{staticClass:"iconList"},[t._l(t.list,function(e,i){return a("li",{key:i,on:{click:function(i){return t.shareTo(e.title)}}},[a("i",{staticClass:"icon"},[a("img",{attrs:{src:e.image,alt:""}})]),t._v(" "),a("span",{},[t._v(t._s(e.name))])])}),t._v(" "),a("li",{on:{click:function(e){return t.shareTo("shoucang")}}},[a("i",{staticClass:"icon"},[a("img",{attrs:{src:t.collectImg,alt:""}})]),t._v(" "),a("span",{},[t._v(t._s(t.collectionText))])])],2),t._v(" "),a("div",{staticClass:"cencer",on:{click:t.centerShare}},[a("span",[t._v("取消")])])])])},staticRenderFns:[]};var m=i("VU/8")(h,u,!1,function(t){i("XSyi")},null,null).exports,g=new a.a,d={components:{shareBtn:m,Banner:c.a},data:function(){return{isBegin:!0,articleId:"",collection:!1,myhtml:"",articleDetails:"",top:"",account:"",imgSrc:[],logoImageUrl:"",shareStatus:!1}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,this.getArticleDetail(),this.isIPhoneX()},mounted:function(){Object(s.i)(".article",1)},methods:{browser:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),a="midp"==t.match(/midp/i),s="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),c="ucweb"==t.match(/ucweb/i),n="android"==t.match(/android/i),o="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);return!!(e||i||a||s||c||n||o||l)},showImage:function(t){if(console.log(t.target.nodeName.toLowerCase()),"img"===t.target.nodeName.toLowerCase()&&(console.log(t.target.src),this.imgSrc.length>0)){var e=this.imgSrc.indexOf(t.target.src);if(e>-1){console.log(e);this.browser()}else this.activeImg=0}},getArticleDetail:function(){var t=this,e=this.articleId;g.getArticleDetail(e,this.account).then(function(e){if(t.articleDetails=e.data,t.logoImageUrl=e.data.logoImageUrl,e.data.remark){var i=e.data.remark;t.myhtml=Object(s.d)(Object(s.a)(i)),t.myhtml=Object(s.e)(t.myhtml);var a=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,c=t.myhtml.match(/<img.*?(?:>|\/>)/gi);if(c)for(var n=0;n<c.length;n++)t.imgSrc.push(c[n].match(a)[1])}t.collection=e.data.collect})},isIPhoneX:function(){var t=this.phoneSize();this.top="iphonex"===t?"11vw":"6vw"},shareChoiceBtn:function(){this.shareStatus=!0},centerShare:function(t){this.shareStatus=t}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article paddingTop"},[i("banner",{attrs:{title:"文章详情"}}),t._v(" "),i("shareBtn",{staticClass:"shareBtn",style:{top:t.top},attrs:{remark:t.articleDetails.keyWords,shareTitle:t.articleDetails.title,shareStatus:t.shareStatus,collection:t.collection},on:{centerShare:t.centerShare},nativeOn:{touchend:function(e){return t.shareChoiceBtn(e)}}}),t._v(" "),i("div",{staticClass:"titleBar"},[i("div",{staticClass:"title"},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.logoImageUrl,expression:"logoImageUrl!==''"}],attrs:{src:t.logoImageUrl}}),t._v(t._s(t.articleDetails.title))]),t._v(" "),t.articleDetails.author?i("div",{staticStyle:{color:"#909090","font-size":"14px"}},[t._v("\n      作者："+t._s(t.articleDetails.author)+"  \n      "),t.articleDetails.createTime?i("span",[t._v(t._s(t.articleDetails.createTime.split(" ")[0].split("-").join(".")))]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.myhtml)},on:{click:function(e){return e.stopPropagation(),t.showImage(e)}}})],1)},staticRenderFns:[]};var p=i("VU/8")(d,f,!1,function(t){i("oP2V")},"data-v-6f6e259f",null);e.default=p.exports},XSyi:function(t,e){},oP2V:function(t,e){}});
//# sourceMappingURL=55.cf12db4133db5b0ee116.js.map