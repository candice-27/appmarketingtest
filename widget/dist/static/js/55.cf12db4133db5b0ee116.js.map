{"version":3,"sources":["webpack:///./src/assets/imgs/more.png","webpack:///src/components/msManage/shareBtn.vue","webpack:///./src/components/msManage/shareBtn.vue?1f10","webpack:///./src/components/msManage/shareBtn.vue","webpack:///src/pages/msManage/articleDetails.vue","webpack:///./src/pages/msManage/articleDetails.vue?0145","webpack:///./src/pages/msManage/articleDetails.vue"],"names":["module","exports","indexModel","utils","shareBtn","props","data","isShow","articleId","account","collectionText","collectImg","collectStatus","this","collection","title","shareTitle","pageUrl","list","name","image","created","$route","query","_localAjax","console","log","computed","extends_default","Object","vuex_esm","imgUrl","state","share","mounted","methods","centerShare","collect","id","then","res","cancelCollect","remove","shareTo","path","sharewx","Vscene","api","require","shareWebpage","apiKey","scene","description","remark","thumb","contentUrl","ret","err","status","alert","watch","shareStatus","$emit","msManage_shareBtn","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","src","__webpack_require__","alt","_v","directives","rawName","value","expression","_l","key","on","click","$event","_s","staticRenderFns","components_msManage_shareBtn","normalizeComponent","ssrContext","articleDetails_indexModel","articleDetails","components","Banner","banner","isBegin","myhtml","top","imgSrc","logoImageUrl","getArticleDetail","isIPhoneX","msManage","browser","sUserAgent","navigator","userAgent","toLowerCase","bIsIpad","match","bIsIphoneOs","bIsMidp","bIsUc7","bIsUc","bIsAndroid","bIsCE","bIsWM","showImage","e","target","nodeName","length","index","indexOf","activeImg","_this","temp","srcReg","arr","i","push","phone","phoneSize","shareChoiceBtn","val","msManage_articleDetails","style","keyWords","nativeOn","touchend","staticStyle","color","font-size","author","createTime","split","join","_e","domProps","innerHTML","stopPropagation","articleDetails_Component","articleDetails_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/55.cf12db4133db5b0ee116.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAKCAYAAADVTVykAAAArUlEQVQ4T2NkGGDACLKfXdpMjeHf/3aG///dwO5hZNz1n/Ff9a9nZ29gcx811TOCDGP89/8EAwODIJpl7/8zMVr8fHrqFrI4tdUzskuarmVkYAjC5tP/DAzrfj4/HYziACqrZ2SXMPnMyMjIg9UB//9/+fniDC+KA6isnoADGD79fHGan3gHkK5+EETBQCdClGzI8N+d4T/jXwZGhr3/Gf9VEcyGVFAPLgcGEgAAFDa/ls74CWMAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/imgs/more.png\n// module id = A30q\n// module chunks = 27 55","<template>\r\n  <div class=\"share\">\r\n    <!-- 这是分享 -->\r\n    <img src=\"../../assets/imgs/more.png\" alt class=\"moreImg\" />\r\n    <div class=\"shareList\" v-show=\"isShow\">\r\n      <span class=\"shareTitle\">分享到</span>\r\n      <ul class=\"iconList\">\r\n        <li v-for=\"(value,key) in list\" :key=\"key\" @click=\"shareTo(value.title)\">\r\n          <i class=\"icon\">\r\n            <img :src=\"value.image\" alt />\r\n          </i>\r\n          <span v-cloak>{{value.name}}</span>\r\n        </li>\r\n        <li @click=\"shareTo('shoucang')\">\r\n          <i class=\"icon\">\r\n            <img :src=\"collectImg\" alt />\r\n          </i>\r\n          <span v-cloak>{{collectionText}}</span>\r\n        </li>\r\n      </ul>\r\n      <div class=\"cencer\" @click=\"centerShare\">\r\n        <span>取消</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { IndexModel } from \"../../utils/index\";\r\nimport { mapState } from \"vuex\";\r\nconst indexModel = new IndexModel();\r\nexport default {\r\n  props: [\"shareStatus\", \"collection\", \"shareTitle\",\"remark\"],\r\n  data() {\r\n    return {\r\n      isShow: false,\r\n      articleId: \"\", //文章详情id\r\n      account: \"\", //用户账号\r\n      collectionText: \"收藏\", //收藏文本\r\n      collectImg: \"./static/images/shoucang.png\", //收藏logo\r\n      collectStatus: this.collection, //收藏状态\r\n      title: this.shareTitle, //分享的标题\r\n      pageUrl: \"\", \r\n      list:[\r\n        {name:'微信好友',title:'weixin',image:\"./static/images/weixin.png\"},\r\n        {name:'微信朋友圈',title:'pengyouquan',image:\"./static/images/pengyouquan.png\"}\r\n      ] \r\n    };\r\n  },\r\n  created() {\r\n    this.articleId = this.$route.query.articleId;\r\n    this.account = this._localAjax().account;\r\n    console.log(this.articleId, this.account);\r\n    this.pageUrl =\"https://mobiletest.derucci.net\" +\"/web/marketing/#/productDetails?id=\" +this.articleId +\"&name=产品知识\";\r\n  },\r\n  computed: {\r\n      ...mapState({\r\n          imgUrl: state => state.share.imgUrl\r\n      })\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // 取消分享\r\n    centerShare() {\r\n      this.isShow = false;\r\n    },\r\n    //收藏\r\n    collect() {\r\n      let id = this.articleId;\r\n      indexModel.collect(1, id, this.account).then(res => {\r\n        console.log(\"res\");\r\n      });\r\n    },\r\n    //取消收藏\r\n    cancelCollect() {\r\n      let id = this.articleId;\r\n      indexModel.remove(1, id, this.account).then(res => {\r\n        console.log(\"canclecollect\");\r\n      });\r\n    },\r\n    // 分享的路径\r\n    shareTo(path) {\r\n      switch (path) {\r\n        case \"weixin\":\r\n            // console.log(this.imgUrl)\r\n          this.sharewx(\"session\");\r\n          // console.log(path);\r\n\r\n          break;\r\n        case \"pengyouquan\":     \r\n            this.sharewx('timeline')\r\n          // console.log(path);\r\n\r\n          break;\r\n        case \"shoucang\":\r\n          this.collectStatus = !this.collectStatus;\r\n          if (this.collectStatus) {\r\n            this.collectImg = \"./static/images/yishoucang.png\";\r\n            this.collectionText = \"取消收藏\";\r\n            this.collect();\r\n          } else {\r\n            this.collectImg = \"./static/images/shoucang.png\";\r\n            this.collectionText = \"收藏\";\r\n            this.cancelCollect();\r\n          }\r\n          console.log(path);\r\n          break;\r\n      }\r\n    },\r\n    // 分享到微信\r\n    sharewx(Vscene) {\r\n      var wx = api.require(\"wx\");\r\n      // console.log(this.remark);\r\n\r\n      wx.shareWebpage(\r\n        {\r\n          apiKey: \"\",\r\n          scene: Vscene,\r\n          title: this.title,\r\n          description: this.remark,\r\n          thumb: this.imgUrl,\r\n          contentUrl: this.pageUrl,\r\n        },\r\n        function(ret, err) {\r\n          if (ret.status) {\r\n            // alert(\"分享成功\");\r\n             this.isShow = false;\r\n          } else {\r\n            // alert(err.code);\r\n            alert(\"分享失败\");\r\n          }\r\n        }\r\n      );\r\n    }\r\n  },\r\n  watch: {\r\n    //监听弹窗是否显示\r\n    shareStatus() {\r\n      // this.getshareStatus()\r\n      if (this.shareStatus) {\r\n        this.isShow = true;\r\n      }\r\n    },\r\n    // 监听弹窗的显示条件\r\n    isShow() {\r\n      this.$emit(\"centerShare\", false);\r\n    },\r\n    collection() {\r\n      if (this.collection) {\r\n        this.collectStatus = true;\r\n        this.collectImg = \"./static/images/yishoucang.png\";\r\n        this.collectionText = \"取消收藏\";\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scope>\r\n.share {\r\n  width: 24px;\r\n  height: 30px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  .moreImg {\r\n    width: 16px;\r\n    height: 4px;\r\n  }\r\n  .shareList {\r\n    position: fixed;\r\n    width: 100%;\r\n    // height: 270px;\r\n    left: 0;\r\n    bottom: 0;\r\n    background: #fff;\r\n    .shareTitle {\r\n      display: inline-block;\r\n      font-size: 16px;\r\n      height: 49px;\r\n      line-height: 49px;\r\n      text-align: center;\r\n      width: 100%;\r\n    }\r\n    .iconList {\r\n      display: flex;\r\n      padding: 0 26px;\r\n      margin-bottom: 58px;\r\n      li {\r\n        width: 57px;\r\n        // height: 72px;\r\n        // background: pink;\r\n        margin-right: 30px;\r\n        font-size: 12px;\r\n        white-space: nowrap;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        color: #2d2d2d;\r\n        &:nth-child(4n) {\r\n          margin: 0;\r\n        }\r\n        .icon {\r\n          width: 49px;\r\n          height: 49px;\r\n          display: inline-block;\r\n          margin-bottom: 11px;\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .cencer {\r\n      position: fixed;\r\n      left: 0;\r\n      bottom: 0;\r\n      font-size: 16px;\r\n      text-align: center;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      width: 100%;\r\n      color: #2d2d2d;\r\n      //   padding: 0 8px 0 8px;\r\n      span {\r\n        display: inline-block;\r\n        width: 96%;\r\n        height: 100%;\r\n        border-top: 1px solid #e5e5e5;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/msManage/shareBtn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share\"},[_c('img',{staticClass:\"moreImg\",attrs:{\"src\":require(\"../../assets/imgs/more.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"shareList\"},[_c('span',{staticClass:\"shareTitle\"},[_vm._v(\"分享到\")]),_vm._v(\" \"),_c('ul',{staticClass:\"iconList\"},[_vm._l((_vm.list),function(value,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.shareTo(value.title)}}},[_c('i',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":value.image,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(value.name))])])}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){return _vm.shareTo('shoucang')}}},[_c('i',{staticClass:\"icon\"},[_c('img',{attrs:{\"src\":_vm.collectImg,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(_vm.collectionText))])])],2),_vm._v(\" \"),_c('div',{staticClass:\"cencer\",on:{\"click\":_vm.centerShare}},[_c('span',[_vm._v(\"取消\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-07239ed6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/msManage/shareBtn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-07239ed6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shareBtn.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shareBtn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shareBtn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-07239ed6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shareBtn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/msManage/shareBtn.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"article paddingTop\">\r\n    <banner :title=\"'文章详情'\"/>\r\n    <!-- <collect-btn class=\"collentBtn\" \r\n        :collection='collection'\r\n        v-on:touchend.native='changeCollectBtn'\r\n        :style=\"{'top': top}\"\r\n        /> -->\r\n        <shareBtn class=\"shareBtn\" :remark=\"articleDetails.keyWords\" :shareTitle=\"articleDetails.title\" :shareStatus='shareStatus' :collection=\"collection\" @centerShare = 'centerShare'  v-on:touchend.native=\"shareChoiceBtn\"  :style=\"{'top': top}\" />\r\n    <div class=\"titleBar\">\r\n      <div class=\"title\"><img v-show=\"logoImageUrl!==''\" :src=\"logoImageUrl\"/>{{articleDetails.title}}</div>\r\n      <!-- <span>{{ articleDetails.createTime }}</span> -->\r\n      <div v-if=\"articleDetails.author\" style=\"color:#909090;font-size:14px\">\r\n        作者：{{articleDetails.author}}&nbsp;&nbsp;\r\n        <span v-if=\"articleDetails.createTime\">{{articleDetails.createTime.split(' ')[0].split('-').join('.')}}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"cont\" v-html=\"myhtml\" @click.stop=\"showImage\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {IndexModel} from '../../utils/index'\r\nconst indexModel = new IndexModel()\r\nimport {removeItem, addItem, b64DecodeUnicode, changeImgStyle, changeVedioStyle,waterMark} from '../../utils/msManage'\r\nimport Banner from '../../components/banner'\r\n// import CollectBtn from '../../components/msManage/eggCollectBtn'\r\nimport shareBtn from'../../components/msManage/shareBtn'\r\nexport default {\r\n  components: {shareBtn,Banner},\r\n  data() {\r\n    return {\r\n      isBegin: true,\r\n      articleId: '',\r\n      collection: false,\r\n      myhtml: '',\r\n      articleDetails: '',\r\n      top: '',\r\n      account: '',\r\n      imgSrc:[],\r\n      logoImageUrl:'',\r\n      shareStatus:false\r\n    }\r\n  },\r\n  created() {\r\n    this.articleId = this.$route.query.articleId\r\n    this.account = this._localAjax().account\r\n    this.getArticleDetail()\r\n    this.isIPhoneX()\r\n  },\r\n  mounted() {\r\n    // var a = document.getElementsByTagName(\"html\")\r\n    // console.log(a)\r\n    waterMark('.article',1);\r\n   \r\n    \r\n  },\r\n  methods: {\r\n    browser() {\r\n      let flag;\r\n      let sUserAgent = navigator.userAgent.toLowerCase();\r\n      let bIsIpad = sUserAgent.match(/ipad/i) == \"ipad\";\r\n      let bIsIphoneOs = sUserAgent.match(/iphone os/i) == \"iphone os\";\r\n      let bIsMidp = sUserAgent.match(/midp/i) == \"midp\";\r\n      let bIsUc7 = sUserAgent.match(/rv:1.2.3.4/i) == \"rv:1.2.3.4\";\r\n      let bIsUc = sUserAgent.match(/ucweb/i) == \"ucweb\";\r\n      let bIsAndroid = sUserAgent.match(/android/i) == \"android\";\r\n      let bIsCE = sUserAgent.match(/windows ce/i) == \"windows ce\";\r\n      let bIsWM = sUserAgent.match(/windows mobile/i) == \"windows mobile\";\r\n      if (!(bIsIpad || bIsIphoneOs || bIsMidp || bIsUc7 || bIsUc || bIsAndroid || bIsCE || bIsWM)){\r\n        //alert('pc')\r\n        flag=false\r\n      }else{\r\n        //alert('phone')\r\n        flag=true\r\n      }\r\n      return flag\r\n    },\r\n    showImage(e){\r\n      console.log(e.target.nodeName.toLowerCase());\r\n      if(e.target.nodeName.toLowerCase()==='img'){\r\n          console.log(e.target.src);\r\n          if(this.imgSrc.length>0){\r\n            let index=this.imgSrc.indexOf(e.target.src)\r\n            if(index>-1){\r\n              console.log(index);\r\n              let that = this\r\n               this.browser();\r\n            /*   if(this.browser()){ */\r\n               /*  var UIPhotoViewer=api.require('UIPhotoViewer');\r\n                alert(UIPhotoViewer);\r\n                UIPhotoViewer.open({\r\n                    images: that.imgSrc,\r\n                    bgColor: '#000',\r\n                    activeIndex:index\r\n                }, function(ret, err) {\r\n                    if (ret) {\r\n                        alert(JSON.stringify(ret));\r\n                    } else {\r\n                        alert(JSON.stringify(err));\r\n                    }\r\n                }); */\r\n              /* } */\r\n              \r\n            }else{\r\n              this.activeImg=0;\r\n            }\r\n          }\r\n      }\r\n    },\r\n    //获取文章详情\r\n    getArticleDetail() {\r\n      const id = this.articleId\r\n      indexModel.getArticleDetail(id, this.account).then(res => {\r\n        this.articleDetails = res.data\r\n        this.logoImageUrl = res.data.logoImageUrl\r\n        if(res.data.remark) {\r\n          let temp = res.data.remark\r\n          this.myhtml = changeImgStyle(b64DecodeUnicode(temp))\r\n          this.myhtml = changeVedioStyle(this.myhtml)\r\n          let imgReg=/<img.*?(?:>|\\/>)/gi;\r\n          let srcReg=/src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i;\r\n          let arr=this.myhtml.match(imgReg);\r\n          if(arr){\r\n            for(let i=0;i<arr.length;i++){\r\n              this.imgSrc.push(arr[i].match(srcReg)[1]);\r\n            }\r\n          }\r\n          \r\n        }\r\n        this.collection = res.data.collect\r\n      })\r\n    },\r\n    // //收藏\r\n    // collect() {\r\n    //   let id = this.articleId\r\n    //   indexModel.collect(1, id, this.account).then(res => {\r\n    //     console.log('res')\r\n    //   })\r\n    // },\r\n    // //取消收藏\r\n    // cancelCollect() {\r\n    //   let id = this.articleId\r\n    //   indexModel.remove(1, id, this.account).then(res => {\r\n    //     console.log('canclecollect')\r\n    //   })\r\n    // },\r\n    // // 切换收藏按钮\r\n    // changeCollectBtn() {\r\n    //   this.collection = !this.collection\r\n    //   if(this.collection) {\r\n    //     //收藏接口\r\n    //     this.collect()\r\n    //   }else {\r\n    //     //移除收藏接口\r\n    //     this.cancelCollect()\r\n    //   }\r\n    // },\r\n    //分享的样式\r\n    isIPhoneX (){\r\n      let phone = this.phoneSize()\r\n      if(phone === 'iphonex') {\r\n        this.top = '11vw'\r\n      }else if(phone === 'iphone') {\r\n        this.top = '6vw'\r\n      }else {\r\n        this.top = '6vw'\r\n      }\r\n    },\r\n    // 分享文章\r\n    shareChoiceBtn () {\r\n      // 显示弹出窗\r\n      this.shareStatus = true\r\n      \r\n    },\r\n    // 点击取消按钮\r\n    centerShare(val) {\r\n      this.shareStatus = val\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.article {\r\n  // padding: 4.26vw;\r\n  text-align: center;\r\n  padding-top: 20vw;\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  \r\n  // width: 100vw;\r\n  // overflow: hidden;\r\n\r\n  .collentBtn {\r\n      position: fixed;\r\n      right: 4.26vw;\r\n      top: 0;\r\n      z-index: 99;\r\n    }\r\n  .shareBtn {\r\n     position: fixed;\r\n      right: 4.26vw;\r\n      top: 0;\r\n      z-index: 99;\r\n  }\r\n  .titleBar {\r\n    .title {\r\n      color: #353535;\r\n      font-size: 5.33vw;\r\n      width: 80vw;\r\n      text-align: center;\r\n      margin: 0 auto;\r\n      font-weight: bold;\r\n      margin-bottom:1.4vw;\r\n      img{\r\n          display: inline-block;\r\n          width: 4.8vw;\r\n          height: 4.8vw;\r\n         // background: red;\r\n          vertical-align:-3px;\r\n          margin-right:2px;\r\n          background-repeat: no-repeat;\r\n          background-position: center center;\r\n          background-size: 4.8vw 4.8vw;\r\n      }\r\n    }\r\n    span {\r\n      color: #909090;\r\n      font-size: 3.73vw;\r\n    }\r\n  }\r\n  .cont {\r\n    text-align: left;\r\n    word-wrap: break-word !important;\r\n    width: 100vw;\r\n    overflow: hidden;\r\n    padding: 4.26vw;\r\n    box-sizing: border-box;\r\n    h2,p {\r\n      color: #363636;\r\n      font-size: 3.73vw;\r\n    }\r\n  }\r\n    \r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/msManage/articleDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article paddingTop\"},[_c('banner',{attrs:{\"title\":'文章详情'}}),_vm._v(\" \"),_c('shareBtn',{staticClass:\"shareBtn\",style:({'top': _vm.top}),attrs:{\"remark\":_vm.articleDetails.keyWords,\"shareTitle\":_vm.articleDetails.title,\"shareStatus\":_vm.shareStatus,\"collection\":_vm.collection},on:{\"centerShare\":_vm.centerShare},nativeOn:{\"touchend\":function($event){return _vm.shareChoiceBtn($event)}}}),_vm._v(\" \"),_c('div',{staticClass:\"titleBar\"},[_c('div',{staticClass:\"title\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.logoImageUrl!==''),expression:\"logoImageUrl!==''\"}],attrs:{\"src\":_vm.logoImageUrl}}),_vm._v(_vm._s(_vm.articleDetails.title))]),_vm._v(\" \"),(_vm.articleDetails.author)?_c('div',{staticStyle:{\"color\":\"#909090\",\"font-size\":\"14px\"}},[_vm._v(\"\\n      作者：\"+_vm._s(_vm.articleDetails.author)+\"  \\n      \"),(_vm.articleDetails.createTime)?_c('span',[_vm._v(_vm._s(_vm.articleDetails.createTime.split(' ')[0].split('-').join('.')))]):_vm._e()]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"cont\",domProps:{\"innerHTML\":_vm._s(_vm.myhtml)},on:{\"click\":function($event){$event.stopPropagation();return _vm.showImage($event)}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f6e259f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/msManage/articleDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f6e259f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./articleDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./articleDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./articleDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f6e259f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./articleDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6f6e259f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/msManage/articleDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}