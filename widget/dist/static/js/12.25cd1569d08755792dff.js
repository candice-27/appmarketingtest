webpackJsonp([12],{"2zRq":function(t,e){},"6kAq":function(t,e,a){"use strict";var s=a("BvhE").Base64,n={name:"planTime",props:["list"],data:function(){return{}},created:function(){console.log(this.list)},filters:{formatStr:function(t){return s.decode(t.planName)}},methods:{go:function(t){this.$router.push({path:"/newWorkPlan",query:{id:t}})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"planTimeList"},[t._l(t.list,function(e,n){return s("li",{key:n,on:{click:function(a){return t.go(e.id)}}},[s("span",[t._v(t._s(e.startTime.split(" ")[1]))]),t._v(" "),s("div",[s("p",[t._v(t._s(t._f("formatStr")(e)))]),t._v(" "),s("img",{staticClass:"icon",attrs:{src:a("4ral"),alt:""}})])])}),t._v(" "),t.list&&t.list.length?t._e():s("li",{staticClass:"nonePlan"},[t._v("\n       当前日期暂无工作计划 \n    ")])],2)},staticRenderFns:[]};var r=a("C7Lr")(n,i,!1,function(t){a("HtXF")},"data-v-5b3173be",null);e.a=r.exports},"7gbc":function(t,e){},EmnV:function(t,e){},HtXF:function(t,e){},IWhB:function(t,e){},MRVI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("3cXf"),n=a.n(s),i=(a("xd7I"),a("7LQH"),{name:"workHeader",props:["title"],data:function(){return{fix:"",top:""}},mounted:function(){this.isIPhoneX()},methods:{isIPhoneX:function(){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?(812==screen.height&&375==screen.width||896==screen.height&&414==screen.width)&&(this.fix="fix",this.top="6"):this.top="20px"}}}),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"workHeader paddingTop20",style:{"padding-top":this.top+"vw"}},[e("div",{class:""+this.fix}),this._v(" "),e("h2",[this._v(this._s(this.title))])])},staticRenderFns:[]};var o=a("C7Lr")(i,r,!1,function(t){a("IWhB")},"data-v-3597132e",null).exports,c=a("TVmP"),l={name:"module",props:["obj"],data:function(){return{}},mounted:function(){},created:function(){console.log(this._localAjax().typename)},methods:{}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"module"},[e("div",{style:{background:"url(./static/images/work/"+this.obj.icon+".png)",backgroundSize:"100%"}}),this._v(" "),e("h3",[this._v(this._s(this.obj.title))])])},staticRenderFns:[]};var h={name:"workModules",props:[],components:{Module:a("C7Lr")(l,u,!1,function(t){a("sFEZ")},"data-v-897af4ac",null).exports},data:function(){return{list:[{title:"公告",icon:"noticeIcon"},{title:"日报",icon:"dailyReportIcon"},{title:"员工",icon:"employee"},{title:"门店",icon:"store"},{title:"订单查询",icon:"orderSearchIcon"},{title:"4S认证",icon:"star"}]}},mounted:function(){},created:function(){},methods:{routerTo:function(t){switch(console.log("success1",t),t){case 0:this.$router.push({path:"/noticeList"});break;case 1:this._getPosition(this._localAjax().typename)?this.$router.push({path:"/storeDailyReport"}):this.$router.push({path:"/dailyReport"});break;case 2:this.$router.push({path:"/employeeList"});break;case 3:this.$router.push({path:"/shopList"});break;case 4:this.$router.push({path:"/orderSearch"});break;case 5:this.$router.push({path:"/index4s"});break;default:return}},judge:function(t){return 2===t?"Store Manager"===this._localAjax().typename:3!==t||("Boss&Consultant"===this._localAjax().typename||"Boss&Manager"===this._localAjax().typename||"Dealer Boss"===this._localAjax().typename)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"workModules"},t._l(t.list,function(e,s){return a("Module",{directives:[{name:"show",rawName:"v-show",value:t.judge(s),expression:"judge(index)"}],key:"workModule"+s,tag:"li",attrs:{obj:e},nativeOn:{click:function(e){return t.routerTo(s)}}})}),1)},staticRenderFns:[]};var f=a("C7Lr")(h,d,!1,function(t){a("XMMg")},"data-v-26aa6004",null).exports,p=a("aA9S"),m=a.n(p),v=a("4YfN"),D=a.n(v),y=(a("vGYV"),a("QXtj")),g=a("PxBZ"),_=a("0xDb"),k=a("HVJf"),w=new _.a,x={name:"daily",props:[],components:{TimeSelect:y.a,DailyUl:g.a},data:function(){return{dailyList:{cus:0,cusBusiness:0,guestSingleValue:0,opp:0,tourist:0,trackRecord:0,turnoverRatio:0,volumeBusiness:0},tabList:[],isShow:!1,status:""}},computed:D()({},Object(k.d)({dateInterVal:function(t){return t.common.dateInterVal}})),watch:{dateInterVal:function(t){this.getData(t)}},mounted:function(){},created:function(){this.getUser()},methods:{changeStatus:function(t){this.status=t;var e=this.tabList.map(function(e,a){return e.status=a===t,e});this.tabList=e,this.initData()},changeDateInterVal:function(t){this.getData(t)},getDailyData:function(t){var e=this;w.getDailyReport(t).then(function(t){t.data&&(e.dailyList=t.data)}).catch(function(a){510===a&&e.getDailyData(t)})},getDailyStoreReport:function(t){var e=this;w.getDailyStoreReport(t).then(function(t){t.data&&e.isShow&&e.tabList[0].status&&(e.dailyList=t.data)}).catch(function(a){510===a&&e.getDailyStoreReport(t)})},getUser:function(){var t=new Date,e=[t.getFullYear(),t.getMonth()+1,t.getDate()],a=e[0],s=e[1],n=e[2];this.curDay=a+"-"+s+"-"+n,"Store Manager"===this._localAjax().typename?(this.isShow=!0,this.status=0,this.tabList=[{name:"门店数据",status:!0},{name:"个人数据",status:!1}],this.initData()):(this.isShow=!1,"Boss&Consultant"===this._localAjax().typename||"Boss&Manager"===this._localAjax().typename||"Dealer Boss"===this._localAjax().typename?this.getDailyData({startDate:this.curDay,endDate:this.curDay,QueryYourself:0}):this.getDailyData({startDate:this.curDay,endDate:this.curDay,QueryYourself:1}))},getData:function(t){if(this.isShow&&this.tabList[0].status)this.getParamsAjax(t);else if("Boss&Consultant"===this._localAjax().typename||"Boss&Manager"===this._localAjax().typename||"Dealer Boss"===this._localAjax().typename){var e=m()({},{QueryYourself:0},t);this.getDailyData(e)}else{var a=m()({},{QueryYourself:1},t);this.getDailyData(a)}},getParamsAjax:function(t){var e=m()({},{QueryYourself:0},t);this.getDailyData(e)},initData:function(){this.isShow&&this.tabList[0].status?this.initParamsData():"Boss&Consultant"===this._localAjax().typename||"Boss&Manager"===this._localAjax().typename||"Dealer Boss"===this._localAjax().typename?this.getDailyData({startDate:this.curDay,endDate:this.curDay,QueryYourself:0}):this.getDailyData({startDate:this.curDay,endDate:this.curDay,QueryYourself:1})},initParamsData:function(){this.getDailyData({startDate:this.curDay,endDate:this.curDay,QueryYourself:0})}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dailyBox"},[t.isShow?a("ul",{staticClass:"dailyTab"},t._l(t.tabList,function(e,s){return a("li",{key:s,class:e.status?"on":"",on:{click:function(e){return t.changeStatus(s)}}},[t._v(t._s(e.name))])}),0):t._e(),t._v(" "),a("div",{staticClass:"dailyBj",class:t.isShow?"dailyOn":""},[a("div",{staticClass:"daily"},[a("TimeSelect",{key:t.status,staticClass:"time",on:{changeDateInterVal:t.changeDateInterVal}}),t._v(" "),a("DailyUl",{staticClass:"dailyUI",attrs:{list:t.dailyList}})],1)])])},staticRenderFns:[]};var C=a("C7Lr")(x,L,!1,function(t){a("fZuh")},"data-v-611aaf86",null).exports,b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("span",{staticClass:"left"},[t._v(t._s(t.title))]),t._v(" "),a("span",{staticClass:"mid"},[t._v(t._s(t.mid))]),t._v(" "),a("span",{staticClass:"right"},[t._t("default")],2)])},staticRenderFns:[]};var S=a("C7Lr")({props:["title","mid"],name:"myTitle",data:function(){return{}},components:{},methods:{}},b,!1,function(t){a("avjS")},"data-v-c0fdfaf4",null).exports,j=a("um0r"),P=(new _.a,{props:["dateList"],name:"weekDay",data:function(){return{startDate:"",endDate:"",nowDay:"",dayIndex:"",year:null,month:null,day:null,oneDayLong:864e5,week:{},list:[],activeDay:""}},created:function(){this.getDate()},methods:{ChangeTime:function(t){var e=new Date(t).getFullYear(),a=new Date(t).getMonth()+1,s=new Date(t).getDate();return e+"-"+(a>9?a:"0"+a)+"-"+(s>9?s:"0"+s)},getDate:function(){this.year=(new Date).getFullYear(),this.month=(new Date).getMonth()+1,this.day=(new Date).getDate(),this.dayIndex=(new Date).getDay(),this.activeDay=this.year+"-"+(this.month>9?this.month:"0"+this.month)+"-"+(this.day>9?this.day:"0"+this.day),this.startDate=(new Date).getTime()-this.dayIndex*this.oneDayLong,this.endDate=(new Date).getTime()+(6-this.dayIndex)*this.oneDayLong,this.week={startDate:this.ChangeTime(this.startDate),endDate:this.ChangeTime(this.endDate)},this.getWeekList(this.startDate),this.$emit("getWeekParams",this.week),this.$emit("getSelectDate",this.activeDay)},getWeekList:function(t){for(var e=[],a=0;a<7;a++){var s=this.ChangeTime(t+a*this.oneDayLong);e.push(s)}this.list=e},getSelectDate:function(t){this.activeDay=t,this.$emit("getSelectDate",t)},compareDate:function(t){return-1!=this.dateList.map(function(t,e){return t.dateTime}).indexOf(t)}}}),I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"weekDay"},t._l(t.list,function(e,s){return a("li",{key:s,class:t.compareDate(""+e)?"hasPlan":""},[a("span",{class:e===t.activeDay?"active":"",attrs:{id:e},on:{click:function(a){return t.getSelectDate(e)}}},[t._v("\n      "+t._s(parseInt(e.split("-")[2]))+"\n    ")])])}),0)},staticRenderFns:[]};var M=a("C7Lr")(P,I,!1,function(t){a("7gbc")},"data-v-1303fdbc",null).exports,$=a("6kAq"),A=new _.a,B={name:"planModule",data:function(){return{selectDate:"",list:[],dateList:[],bottom:""}},components:{mytitle:S,weekHeader:j.a,weekDay:M,planTime:$.a},created:function(){},methods:{more:function(){this.$router.push({path:"/workPlan"})},getSelectDate:function(t){this.selectDate!==t&&(this.selectDate=t,this.getPlanList({startDate:t,endDate:t}))},newPlan:function(){this.$router.push({path:"/newWorkPlan"})},getPlanList:function(t){var e=this;A.getPlanList(t).then(function(a){console.log(a),t.startDate===t.endDate?a.data.length>0?e.list=a.data[0].dataList:e.list=[]:a.data.length>0?e.dateList=a.data:e.dateList=[]}).catch(function(a){510===a&&e.getPlanList(t)})},getWeekParams:function(t){this.getPlanList(t)},isIphoneX:function(){var t=this.phoneSize();this.bottom="iphonex"===t?"28vw":"32vw"}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"planBox"},[a("div",{staticClass:"plan"},[a("mytitle",{attrs:{title:"工作计划",mid:""+t.selectDate.split("-").join(".")}},[a("span",{on:{click:t.more}},[t._v("更多")])]),t._v(" "),a("weekHeader"),t._v(" "),a("weekDay",{attrs:{dateList:t.dateList},on:{getSelectDate:t.getSelectDate,getWeekParams:t.getWeekParams}}),t._v(" "),a("p",[t._v("点击日期查看工作")])],1),t._v(" "),a("div",{staticClass:"planList"},[a("planTime",{attrs:{list:t.list}}),t._v(" "),a("button",{staticClass:"newPlan",style:{bottom:t.bottom},attrs:{type:"button"},on:{click:t.newPlan}})],1)])},staticRenderFns:[]};var T=a("C7Lr")(B,R,!1,function(t){a("2zRq")},"data-v-5aa65ba2",null).exports,F=a("QS/x"),E=(new _.a,{name:"work",components:{WorkHeader:o,Footer:c.a,WorkModules:f,Daily:C,planModule:T},props:[],data:function(){return{}},created:function(){Object(F.a)()},mounted:function(){},methods:{changeToken:function(){var t=JSON.parse(localStorage.getItem("token"));t.access_token="1234567891234567891234567",t.refresh_token="2e0ce02f-6076-43d2-b935-5e329faedd0",localStorage.setItem("token",n()(t))}}}),W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"work"},[e("WorkHeader",{attrs:{title:"工作"}}),this._v(" "),e("WorkModules"),this._v(" "),e("Footer",{staticStyle:{"z-index":"10"}}),this._v(" "),e("Daily"),this._v(" "),e("planModule")],1)},staticRenderFns:[]};var V=a("C7Lr")(E,W,!1,function(t){a("uu5I")},"data-v-06e78235",null);e.default=V.exports},XMMg:function(t,e){},avjS:function(t,e){},fZuh:function(t,e){},sFEZ:function(t,e){},um0r:function(t,e,a){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weekHeader"},[a("span",[t._v("日")]),t._v(" "),a("span",[t._v("一")]),t._v(" "),a("span",[t._v("二")]),t._v(" "),a("span",[t._v("三")]),t._v(" "),a("span",[t._v("四")]),t._v(" "),a("span",[t._v("五")]),t._v(" "),a("span",[t._v("六")])])}]};var n=a("C7Lr")({props:[],name:"weekHeader",data:function(){return{}},components:{},methods:{}},s,!1,function(t){a("EmnV")},"data-v-06bb7a0c",null);e.a=n.exports},uu5I:function(t,e){}});