webpackJsonp([94],{"1YYq":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Dd8w"),c=a.n(o),r=(a("mtWM"),a("7+uW")),s=a("/ocq"),i=a("vGYV"),n=a("JFlM"),u=a("t7k9"),h=a("NYxO"),m=a("X9U8"),S=a("Ueg1"),l=a("cFe5"),d=a("7m0P"),v=a("YV7O"),D=a("bNyG");r.default.use(s.a),r.default.use(h.a);var y={name:"customerSource",components:{Bar:S.a,chartsTit:l.a,RouterLink:d.a,mybanner:v.a,SelectComponent:m.a,noData:D.a},data:function(){return{ajaxData:{},customerSourceData:{},areaCustomerSourceData:{},title:"客户来源报表",endTime:i.a.getLocalTime("end"),cityMsg:"",key1:!1,cusSourcechanrtDom1:"",cusSourcechanrtDom2:"",i:0,customerSourceShow:!1,areaCustomerSourceShow:!1}},created:function(){var e=[localStorage.getItem("ajaxData"),localStorage.getItem("cityMsg")],t=e[0],a=e[1];this.cityMsg=a?JSON.parse(a):{},this.ajaxData=JSON.parse(t)},mounted:function(){this.getcustomerSourceData(this.endTime,this.cityMsg.cityName,this.cityMsg.cityLevel),this.getareaCustomerSourceData(this.endTime),Object(u.i)(".barBox")},computed:c()({test:function(){}},Object(h.d)({citySelect:function(e){return e.select.citySelect},startTimeSelect:function(e){return e.select.startTimeSelect},endTimeSelect:function(e){return e.select.endTimeSelect}})),watch:{citySelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&this.getcustomerSourceData(this.endTime,this.citySelect.cityName,this.citySelect.cityLevel)},endTimeSelect:function(){this.endTimeSelect&&""!=this.endTimeSelect&&(this.getcustomerSourceData(this.endTimeSelect,this.citySelect.cityName,this.citySelect.cityLevel),this.getareaCustomerSourceData(this.endTimeSelect))},customerSourceData:function(){this.key1&&this.customerSourceData.series&&(this.customerSourceShow=Object(n.c)(this.customerSourceData.series),Object(n.b)(this,"customerSource","horizontal"),this.cusSourcechanrtDom1=n.a)},areaCustomerSourceData:function(){console.log(3333333);var e="areaCustomerSource";if(this[e+"Data"].series&&(this[e+"Show"]=Object(n.c)(this[e+"Data"].series),console.log(22222221,Object(n.c)(this[e+"Data"].series)),Object(n.b)(this,e,"horizontal","","","","","",!0),this.cusSourcechanrtDom2=n.a,this.i>1))try{this.cusSourcechanrtDom2.resize()}catch(e){console.log(e)}}},beforeDestroy:function(){this.cusSourcechanrtDom1&&this.cusSourcechanrtDom1.dispose(),this.cusSourcechanrtDom2&&this.cusSourcechanrtDom2.dispose()},methods:c()({},Object(h.c)(["setHomeTit","setHomeText","setHomeArr"]),{getcustomerSourceData:function(e,t,a){var o=this;i.a.loading("open");var c=this;i.a.getAjax("/v1/app/report/customer/source",{cityLevel:a,cityName:t,date:e,tenantId:this.ajaxData.tenantId}).then(function(e){i.a.loading("close"),e&&(o.key1=!0,e=e.data,c.customerSourceData=e)})},getareaCustomerSourceData:function(e){var t=this;this.i+=1,i.a.loading("open");var a=this;i.a.getAjax("/v1/app/report/customer/source/shop",{date:e,tenantId:this.ajaxData.tenantId}).then(function(e){i.a.loading("close"),e&&(t.key2=!0,e=e.data,a.areaCustomerSourceData=e)})},chartsEvent:function(e){e.componentType}})},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"customerSource paddingTop"},[a("mybanner",{attrs:{title:e.title}}),e._v(" "),a("SelectComponent"),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"客户来源-整体"}},[a("h6",[e._v("单位：人次")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.customerSourceShow,expression:"!customerSourceShow"}],ref:"customerSourceContainer"}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.customerSourceShow,expression:"customerSourceShow"}]})],1),e._v(" "),a("div",{staticClass:"barBox"},[a("chartsTit",{attrs:{text:"客户来源-各店"}},[a("h6",[e._v("单位：人次")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.areaCustomerSourceShow,expression:"!areaCustomerSourceShow"}],ref:"areaCustomerSourceContainer"}),e._v(" "),a("noData",{directives:[{name:"show",rawName:"v-show",value:e.areaCustomerSourceShow,expression:"areaCustomerSourceShow"}]})],1)],1)},staticRenderFns:[]},f=a("VU/8")(y,p,!1,null,null,null);t.default=f.exports}});
//# sourceMappingURL=94.2b2a2b3eb7e07f3c34ca.js.map