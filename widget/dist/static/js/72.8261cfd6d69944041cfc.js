webpackJsonp([72],{"7iL6":function(t,e){},CZfl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=i("0xDb"),o=i("t7k9"),a=i("YV7O"),l=i("uISu"),n=new c.a,r={components:{CollectBtn:l.a,Banner:a.a},data:function(){return{isBegin:!0,articleId:"",collection:!1,myhtml:"",articleDetails:"",top:"",account:"",imgSrc:[],logoImageUrl:""}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,this.getArticleDetail(),this.isIPhoneX()},mounted:function(){Object(o.i)(".article",1)},methods:{browser:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),c="midp"==t.match(/midp/i),o="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),a="ucweb"==t.match(/ucweb/i),l="android"==t.match(/android/i),n="windows ce"==t.match(/windows ce/i),r="windows mobile"==t.match(/windows mobile/i);return!!(e||i||c||o||a||l||n||r)},showImage:function(t){if(console.log(t.target.nodeName.toLowerCase()),"img"===t.target.nodeName.toLowerCase()&&(console.log(t.target.src),this.imgSrc.length>0)){var e=this.imgSrc.indexOf(t.target.src);if(e>-1){console.log(e);this.browser()}else this.activeImg=0}},getArticleDetail:function(){var t=this,e=this.articleId;n.getArticleDetail(e,this.account).then(function(e){if(t.articleDetails=e.data,t.logoImageUrl=e.data.logoImageUrl,e.data.remark){var i=e.data.remark;t.myhtml=Object(o.d)(Object(o.a)(i)),t.myhtml=Object(o.e)(t.myhtml);var c=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,a=t.myhtml.match(/<img.*?(?:>|\/>)/gi);if(a)for(var l=0;l<a.length;l++)t.imgSrc.push(a[l].match(c)[1])}t.collection=e.data.collect})},collect:function(){var t=this.articleId;n.collect(1,t,this.account).then(function(t){console.log("res")})},cancelCollect:function(){var t=this.articleId;n.remove(1,t,this.account).then(function(t){console.log("canclecollect")})},changeCollectBtn:function(){this.collection=!this.collection,this.collection?this.collect():this.cancelCollect()},isIPhoneX:function(){var t=this.phoneSize();this.top="iphonex"===t?"11vw":"6vw"}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article paddingTop"},[i("banner",{attrs:{title:"文章详情"}}),t._v(" "),i("collect-btn",{staticClass:"collentBtn",style:{top:t.top},attrs:{collection:t.collection},nativeOn:{touchend:function(e){return t.changeCollectBtn(e)}}}),t._v(" "),i("div",{staticClass:"titleBar"},[i("div",{staticClass:"title"},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.logoImageUrl,expression:"logoImageUrl!==''"}],attrs:{src:t.logoImageUrl}}),t._v(t._s(t.articleDetails.title))]),t._v(" "),t.articleDetails.author?i("div",{staticStyle:{color:"#909090","font-size":"14px"}},[t._v("\n      作者："+t._s(t.articleDetails.author)+"  \n      "),t.articleDetails.createTime?i("span",[t._v(t._s(t.articleDetails.createTime.split(" ")[0].split("-").join(".")))]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.myhtml)},on:{click:function(e){return e.stopPropagation(),t.showImage(e)}}})],1)},staticRenderFns:[]};var h=i("C7Lr")(r,s,!1,function(t){i("7iL6")},"data-v-cce5bd22",null);e.default=h.exports}});