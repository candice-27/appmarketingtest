webpackJsonp([54],{A30q:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAKCAYAAADVTVykAAAArUlEQVQ4T2NkGGDACLKfXdpMjeHf/3aG///dwO5hZNz1n/Ff9a9nZ29gcx811TOCDGP89/8EAwODIJpl7/8zMVr8fHrqFrI4tdUzskuarmVkYAjC5tP/DAzrfj4/HYziACqrZ2SXMPnMyMjIg9UB//9/+fniDC+KA6isnoADGD79fHGan3gHkK5+EETBQCdClGzI8N+d4T/jXwZGhr3/Gf9VEcyGVFAPLgcGEgAAFDa/ls74CWMAAAAASUVORK5CYII="},CZfl:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),a=i.n(s),c=i("0xDb"),n=i("t7k9"),o=i("YV7O"),l=i("HVJf"),r=new c.a,h={props:["collection","sharetitle","remark"],data:function(){return{isShow:!1,articleId:"",account:"",collectionText:"收藏",collectImg:"./static/images/shoucang.png",collectStatus:this.collection,pageUrl:"",list:[{name:"微信好友",title:"weixin",image:"./static/images/weixin.png"},{name:"微信朋友圈",title:"pengyouquan",image:"./static/images/pengyouquan.png"},{name:"QQ好友",title:"QQ",image:"./static/images/QQ1.png"}]}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,console.log(this.articleId,this.account),this.pageUrl="https://mobiletest.derucci.net/web/marketing/#/articleDetails?articleId="+this.articleId+"&musi=1"},computed:a()({},Object(l.d)({imgUrl:function(t){return t.share.imgUrl}})),mounted:function(){this.title=this.sharetitle},methods:{shareBtn:function(){this.isShow=!this.isShow},centerShare:function(){this.isShow=!1},collect:function(){var t=this.articleId;r.collect(1,t,this.account).then(function(t){console.log("res")})},cancelCollect:function(){var t=this.articleId;r.remove(1,t,this.account).then(function(t){console.log("canclecollect")})},shareTo:function(t){switch(t){case"weixin":this.sharewx("session"),this.isShow=!1;break;case"pengyouquan":this.sharewx("timeline"),this.isShow=!1;break;case"weibo":console.log(t),this.sharewb(),this.isShow=!1;break;case"QQ":console.log(this.imgUrl),this.shareQQ(),this.isShow=!1;break;case"shoucang":this.collectStatus=!this.collectStatus,this.collectStatus?(this.collectImg="./static/images/yishoucang.png",this.collectionText="取消收藏",this.collect()):(this.collectImg="./static/images/shoucang.png",this.collectionText="收藏",this.cancelCollect()),console.log(t)}},sharewx:function(t){api.require("wx").shareWebpage({apiKey:"",scene:t,title:this.sharetitle,description:this.remark,thumb:this.imgUrl,contentUrl:this.pageUrl},function(t,e){t.status||alert("分享失败")})},sharewb:function(){api.require("weiboPlus").shareWebPage({text:this.sharetitle,title:this.sharetitle,description:this.remark,thumb:this.imgUrl,contentUrl:this.pageUrl},function(t,e){t.status||(alert(e.code),alert("分享失败"))})},shareQQ:function(){api.require("QQPlus").shareNews({url:this.pageUrl,title:this.sharetitle,description:this.remark,imgUrl:this.imgUrl,type:"QFriend"},function(t,e){t.status||alert("分享失败")})}},watch:{isShow:function(){this.$emit("centerShare",!1)},collection:function(){this.collection&&(this.collectStatus=!0,this.collectImg="./static/images/yishoucang.png",this.collectionText="取消收藏")}}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"share-btn"},[s("div",{staticClass:"btn",on:{click:t.shareBtn}},[s("img",{staticClass:"moreImg",attrs:{src:i("A30q"),alt:""}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"shareList"},[s("span",{staticClass:"shareTitle"},[t._v("分享到")]),t._v(" "),s("ul",{staticClass:"iconList"},[t._l(t.list,function(e,i){return s("li",{key:i,on:{click:function(i){return t.shareTo(e.title)}}},[s("i",{staticClass:"icon"},[s("img",{attrs:{src:e.image,alt:""}})]),t._v(" "),s("span",{},[t._v(t._s(e.name))])])}),t._v(" "),s("li",{on:{click:function(e){return t.shareTo("shoucang")}}},[s("i",{staticClass:"icon"},[s("img",{attrs:{src:t.collectImg,alt:""}})]),t._v(" "),s("span",{},[t._v(t._s(t.collectionText))])])],2),t._v(" "),s("div",{staticClass:"cencer",on:{click:t.centerShare}},[s("span",[t._v("取消")])])])])},staticRenderFns:[]};var m=i("C7Lr")(h,u,!1,function(t){i("ZIyM")},null,null).exports,g=(i("uISu"),new c.a),d={components:{shareBtn:m,Banner:o.a},data:function(){return{isBegin:!0,articleId:"",collection:!1,myhtml:"",articleDetails:"",top:"",account:"",imgSrc:[],logoImageUrl:"",status:!0}},created:function(){this.articleId=this.$route.query.articleId,this.account=this._localAjax().account,this.getArticleDetail(),this.isIPhoneX(),this.sharePage()},mounted:function(){Object(n.i)(".article",1)},methods:a()({},Object(l.c)(["setImgUrl"]),{browser:function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),s="midp"==t.match(/midp/i),a="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),c="ucweb"==t.match(/ucweb/i),n="android"==t.match(/android/i),o="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);return!!(e||i||s||a||c||n||o||l)},showImage:function(t){if(console.log(t.target.nodeName.toLowerCase()),"img"===t.target.nodeName.toLowerCase()&&(console.log(t.target.src),this.imgSrc.length>0)){var e=this.imgSrc.indexOf(t.target.src);if(e>-1){console.log(e);this.browser()}else this.activeImg=0}},getArticleDetail:function(){var t=this,e=this.articleId;g.getArticleDetail(e,this.account).then(function(e){if(t.articleDetails=e.data,t.logoImageUrl=e.data.logoImageUrl,t.setImgUrl(e.data.image),e.data.remark){var i=e.data.remark;t.myhtml=Object(n.d)(Object(n.a)(i)),t.myhtml=Object(n.e)(t.myhtml);var s=/src=[\'\"]?([^\'\"]*)[\'\"]?/i,a=t.myhtml.match(/<img.*?(?:>|\/>)/gi);if(a)for(var c=0;c<a.length;c++)t.imgSrc.push(a[c].match(s)[1])}t.collection=e.data.collect})},sharePage:function(){-1===window.location.href.indexOf("musi")||(this.status=!1)},isIPhoneX:function(){var t=this.phoneSize();this.top="iphonex"===t?"11vw":"6vw"}})},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"article paddingTop"},[i("Banner",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],attrs:{title:"文章详情"}}),t._v(" "),i("shareBtn",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"shareBtn",style:{top:t.top},attrs:{remark:t.articleDetails.keyWords,sharetitle:t.articleDetails.title,collection:t.collection}}),t._v(" "),i("div",{staticClass:"titleBar"},[i("div",{staticClass:"title"},[i("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.logoImageUrl,expression:"logoImageUrl!==''"}],attrs:{src:t.logoImageUrl}}),t._v("\n      "+t._s(t.articleDetails.title)+"\n    ")]),t._v(" "),t.articleDetails.author?i("div",{staticStyle:{color:"#909090","font-size":"14px"}},[t._v("\n      作者："+t._s(t.articleDetails.author)+"  \n      "),t.articleDetails.createTime?i("span",[t._v(t._s(t.articleDetails.createTime.split(" ")[0].split("-").join(".")))]):t._e()]):t._e()]),t._v(" "),i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.myhtml)},on:{click:t.showImage}})],1)},staticRenderFns:[]};var w=i("C7Lr")(d,p,!1,function(t){i("oJo5")},"data-v-77c8fb1d",null);e.default=w.exports},ZIyM:function(t,e){},oJo5:function(t,e){}});