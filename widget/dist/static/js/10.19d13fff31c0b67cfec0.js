webpackJsonp([10],{"/FaG":function(t,e,s){"use strict";var r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"rec_content border-bottom"},[s("div",{staticClass:"left-box"},[s("div",{staticClass:"now_score"},[s("span",{staticClass:"num",style:{color:t.activeColor}},[t._v(t._s(t.item.score))]),t._v(" "),s("span",{staticClass:"fen"},[t._v("分")])]),t._v(" "),s("div",{staticClass:"all_score",style:{border:"1px solid "+t.activeColor}},[s("span",{style:{color:t.activeColor}},[t._v("总分"+t._s(t.item.total))])])]),t._v(" "),s("div",{staticClass:"center-box"},[s("h1",{staticClass:"title"},[t._v(t._s(t.item.name))]),t._v(" "),s("ul",{staticClass:"details"},[s("li",[s("span",{staticClass:"circle"}),t._v(" "),s("span",[t._v("检查人: "+t._s(t.item.inspector||"-"))])]),t._v(" "),s("li",[s("span",{staticClass:"circle"}),t._v(" "),s("span",[t._v("检查时间: "+t._s(t.item.inspectTime||"-"))])])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-box"},[e("img",{attrs:{src:s("LKws"),alt:""}})])}]};var a={components:{RecConten:s("C7Lr")({props:["item"],data:function(){return{activeColor:""}},mounted:function(){this.getActiviColor()},methods:{getActiviColor:function(){this.$route.query&&this.$route.query.color&&(this.activeColor="#F88675")}}},r,!1,function(t){s("NYA1")},"data-v-3b1cc41e",null).exports},props:["checkCategories"],data:function(){return{list:[1,2,3,4,5]}},methods:{toCheckDetails:function(t){var e=this.$route.query;e.name=t.name,e.categoryId=t.categoryId,e.total=t.total,"AttestDetail"==this.$route.name?(e.id=t.id,this.$router.push({path:"/attest-item",query:e})):this.$router.push({name:"itemDetails",query:e})}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"recordContent"},t._l(t.checkCategories,function(e,r){return s("rec-conten",{key:e+r,attrs:{item:e},nativeOn:{click:function(s){return t.toCheckDetails(e)}}})}),1)},staticRenderFns:[]};var n=s("C7Lr")(a,i,!1,function(t){s("CGsB")},"data-v-48103bb2",null);e.a=n.exports},B3GA:function(t,e){},CGsB:function(t,e){},NYA1:function(t,e){},QwFt:function(t,e){},V4Nv:function(t,e,s){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"record_header",style:{"margin-top":this.top+"vw"}},[e("div",{staticClass:"back_icon",on:{click:this.goBack}},[e("img",{attrs:{src:s("LKws"),alt:""}})]),this._v(" "),e("div",{staticClass:"title"},[this._v("检查详情")])])},staticRenderFns:[]};var a=s("C7Lr")({data:function(){return{top:""}},mounted:function(){this.isIPhoneX()},methods:{goBack:function(){this.$router.go(-1)},isIPhoneX:function(){"iphonex"===this.phoneSize()&&(this.top="-5.86")}}},r,!1,function(t){s("QwFt")},"data-v-2f517240",null);e.a=a.exports},"W+pZ":function(t,e,s){"use strict";var r={props:{score:0},mounted:function(){var t=this.$refs.circle;t.width=this.toVw(180),t.height=this.toVw(180);var e=t.getContext("2d");this.drawRing(e,.75*Math.PI,this.score)},watch:{score:function(t){console.log(t);var e=this.$refs.circle;e.width=this.toVw(180),e.height=this.toVw(180);var s=e.getContext("2d");this.drawRing(s,.75*Math.PI,t)}},methods:{toVw:function(t){return t*window.innerWidth/375},draw:function(t){var e=this.toVw(60),s=this.toVw(13);t.beginPath(),t.arc(this.toVw(90),this.toVw(90),e,.75*Math.PI,2.25*Math.PI,!1),t.lineCap="round",t.lineWidth=s,t.strokeStyle="#ccc",t.stroke()},drawRing:function(t,e,s){var r=this.toVw(60);this.draw(t),t.beginPath();var a=(s/100*1.5+.75)*Math.PI;t.arc(this.toVw(90),this.toVw(90),r,e,a,!1);var i=t.createRadialGradient(0,0,this.toVw(200),0,this.toVw(200),0);this.score>80?(i.addColorStop(0,"#0055E3"),i.addColorStop(1,"#0FACF5")):(i.addColorStop(0,"#FF6F5D"),i.addColorStop(1,"#FFB90A")),t.strokeStyle=i,t.lineCap="round",t.stroke(),t.closePath()}}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{ref:"circle"})},staticRenderFns:[]};var i={props:["score","star"],components:{CircleCavans:s("C7Lr")(r,a,!1,function(t){s("f8cT")},"data-v-d06313e4",null).exports},data:function(){return{textColor:""}},computed:{scoreArr:function(){return(this.score+"").split("")},RightStyle:function(){return{transform:"rotate("+3.3*this.score+"deg)",borderColor:this.score>=80?"#007aff":"#F88675"}},activeColor:function(){return this.score>=80?"#007aff":"#F88675"}},methods:{}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("div",{staticClass:"circleProgress"},[s("div",{staticClass:"circle"},[s("CircleCavans",{attrs:{score:t.score}})],1),t._v(" "),s("div",{staticClass:"num_box"},[s("p",t._l(t.scoreArr,function(e,r){return s("span",{key:r,staticClass:"num",class:{num1:0!=r&&100!=t.score,fail:t.score<80}},[t._v(t._s(e))])}),0),t._v(" "),s("p",{staticClass:"num_star",class:t.score>=80?"on_star":"un_star"},[t._v(t._s(t.score>=80?"合格":"不合格")+" ")])])])])},staticRenderFns:[]};var c={components:{circleProgress:s("C7Lr")(i,n,!1,function(t){s("aKBU")},"data-v-3cbdcf58",null).exports},props:["starData","score","cycle","shopName"],data:function(){return{}},methods:{}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"score_wrapper"},[s("circleProgress",{attrs:{score:t.score,star:t.starData}}),t._v(" "),s("div",{staticClass:"shop-name"},[t._v(t._s(t.$route.query.shopName))]),t._v(" "),s("div",{staticClass:"time"},[s("p",[t._v("第"+t._s(t.cycle)+"月")])])],1)},staticRenderFns:[]};var l=s("C7Lr")(c,o,!1,function(t){s("yGj8")},"data-v-21ec212b",null);e.a=l.exports},aKBU:function(t,e){},f8cT:function(t,e){},oCW4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("lC5x"),a=s.n(r),i=s("J0Oq"),n=s.n(i),c=s("V4Nv"),o=s("yqbN"),l=s("W+pZ"),u=s("/FaG"),h=s("PR0l"),v=s("wSez"),d=(s("7Adc"),{components:{starHeader:c.a,starNav:o.a,CircleView:l.a,recordContent:u.a},data:function(){return{top:"",height:"",headerHeight:"",starTop:"",starData:"",starList:[],activeIndex:0,score:0,cycle:0,checkCategories:[],shopName:""}},created:function(){var t=this.$route.query;this._initData(t)},mounted:function(){this.isIPhoneX()},methods:{_getCheckLogInfo:function(t){var e=this;return n()(a.a.mark(function s(){var r,i;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(h.d)(t);case 2:r=s.sent,r.code,r.msg,i=r.checkLogInfo,e.score=i.score,e.cycle=i.cycle,e.checkCategories=i.checkCategories;case 9:case"end":return s.stop()}},s,e)}))()},_initData:function(t){var e=this;return n()(a.a.mark(function s(){var r,i,n,c;return a.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(h.u)(t);case 2:if(r=s.sent,i=r.code,n=r.msg,c=r.data,0==i){s.next=9;break}return Object(v.Toast)(n),s.abrupt("return");case 9:e.score=c.getTotal||0,e.shopName=c.shopName||"",c.gradeList.map(function(t){t.score=t.getTotal,t.inspector=t.createByName,t.inspectTime=t.createTime}),e.checkCategories=c.gradeList,c.starList.map(function(s,r){s.name=["","一星","二星","三星","四星","五星"][s.starLevel],s.starLevelId==t.starLevelId&&(e.activeIndex=r)}),e.starList=c.starList;case 15:case"end":return s.stop()}},s,e)}))()},changeStar:function(t){this.starData=t.name;var e=this.$route.query;e.starLevelId=t.starLevelId,this._initData(e)},isIPhoneX:function(){"iphonex"===this.phoneSize()&&(this.top="-5.86",this.starTop="20",this.headerHeight=29.5)}}}),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details_wrapper",style:{"margin-top":t.top+"vw"}},[s("div",{staticClass:"details_header",style:{height:t.headerHeight+"vw"}},[s("star-header"),t._v(" "),s("star-nav",{staticClass:"star_nav",attrs:{starList:t.starList,activeIndex:t.activeIndex},on:{changeStar:t.changeStar}})],1),t._v(" "),s("div",{staticClass:"details_content",style:{"margin-top":t.top+"vw,height:"+t.height}},[s("circle-view",{attrs:{starData:t.starData,score:t.score,cycle:t.cycle,shopName:t.shopName}}),t._v(" "),s("div",{staticClass:"line"}),t._v(" "),s("record-content",{attrs:{checkCategories:t.checkCategories}})],1)])},staticRenderFns:[]};var p=s("C7Lr")(d,f,!1,function(t){s("B3GA")},"data-v-27c8a751",null);e.default=p.exports},pPT9:function(t,e){},yGj8:function(t,e){},yqbN:function(t,e,s){"use strict";var r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"starNav_wapper"},t._l(t.starList,function(e,r){return s("li",{key:e+r,staticClass:"starNav_title",style:t.activeStyle(r),on:{click:function(s){return t.selectStar(e,r)}}},[s("span",[t._v(t._s(e.name))]),t._v(" "),s("span",{staticClass:"text"},[t._v("|")])])}),0)},staticRenderFns:[]};var a=s("C7Lr")({props:["starList","activeIndex"],data:function(){return{list:["五星","四星","三星","二星","一星"],activeStar:-1,timeoutId:null,activeColor:{color:"#007aff"}}},created:function(){this.setStar(),this.setActivityColor()},methods:{activeStyle:function(t){return-1==this.activeStar&&0==t?this.activeColor:this.activeStar==t?this.activeColor:void 0},setActivityColor:function(){var t=this.$route.query&&this.$route.query.color;t&&(this.activeColor={color:t})},setStar:function(){var t=this.list.length;this.star?this.list=this.list.slice(t-this.star):this.list=this.list.slice(t-1)},selectStar:function(t,e){this.activeStar=e,this.$emit("changeStar",t)}}},r,!1,function(t){s("pPT9")},"data-v-6c8fdae5",null);e.a=a.exports}});