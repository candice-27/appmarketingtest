webpackJsonp([86],{MLZF:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("4YfN"),a=s.n(n),i=(s("xd7I"),s("YV7O")),r=s("ga7s"),c=s("w/tL"),o=(s("wSez"),s("HVJf")),u=(s("vGYV"),s("CNcc")),d=s("0xDb"),l=s("pPmT"),h=new d.a,p={data:function(){return{key:"",hasRecord:!1,id:"",url:"",top:"",list:[]}},components:{mybanner:i.a,searchInput:r.a,searchRadioList:c.a},computed:a()({},Object(o.d)({plan:function(t){return t.plan.plan}})),created:function(){},mounted:function(){this.isIPhoneX()},methods:a()({},Object(o.c)("plan",["setSearchList"]),{isIPhoneX:function(t){!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&(812==screen.height&&375==screen.width||896==screen.height&&414==screen.width?this.top="6":this.top="0")},updateVal:function(t){this.$set(this.plan,"customerId",t);var e=this.filterList(t);this.$set(this.plan,"customerName",e),this.$set(this.plan,"opportunityId",""),this.$set(this.plan,"goodsName","")},search:function(){var t=this;Object(l.a)(function(){if(""!==t.key){var e=void 0;e=u.a.testPhone(t.key)?{phone:t.key}:{userName:t.key},h.getCustomerList(e).then(function(e){t.list=e.data,e.data.length>0?t.hasRecord=!0:t.hasRecord=!1}).catch(function(e){510===e&&t.search()})}},300)()},filterList:function(t){var e="";return this.list.map(function(s,n){s.customerId===t&&(console.log(s.username),e=s.username)}),e}})},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"address"},[s("mybanner",{staticStyle:{background:"#fff",border:"border:1px solid #e1e1e1"},attrs:{title:"选择客户"}}),t._v(" "),s("search-input",{style:{marginTop:t.top+"vw"},attrs:{placeholder:"请输入客户名称或手机号搜索客户"},on:{input:t.search},model:{value:t.key,callback:function(e){t.key="string"==typeof e?e.trim():e},expression:"key"}}),t._v(" "),s("div",{staticClass:"list"},[t.hasRecord?s("search-radio-list",{key:t.key,ref:"search",attrs:{idName:"customerId",options:t.list,name:"1"},on:{change:t.updateVal},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"item"},[t._v(t._s(e.info.username))])]}}],null,!1,3635542823)}):s("div",{staticClass:"no-record"},[t._v("暂无记录")])],1)],1)},staticRenderFns:[]};var m=s("C7Lr")(p,f,!1,function(t){s("cvDY")},"data-v-62f2c344",null);e.default=m.exports},cvDY:function(t,e){}});