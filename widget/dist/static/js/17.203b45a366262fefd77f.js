webpackJsonp([17],{M3ZO:function(t,i){},Mlbe:function(t,i){},VGYq:function(t,i,s){"use strict";var e=s("Dd8w"),a=s.n(e),n=s("vGYV"),r=s("NYxO"),c={props:["changeStatus","reset"],data:function(){return{list:["综合","最新发布","价格↑","价格↓","收藏数"],showDownList:!1}},computed:a()({},Object(r.d)({downList:function(t){return t.productNavList.downList},downListVal:function(t){return t.productNavList.downListVal},filterParmas:function(t){return t.filterParmas.filterParmas}})),watch:{changeStatus:function(){this.changeStatus&&(this.showDownList=!1,this.reset(!1))}},created:function(){this.initList(),this.filterParmas.st>0&&this.hasCash()},methods:a()({},Object(r.c)(["setDownList","setDownListVal"]),{clickSelf:function(){this.showDownList=!this.showDownList},initList:function(){this.downList.length||(this.setDownList(n.a.btnList(this.list,0)),this.setDownListVal())},showList:function(){this.showDownList=!this.showDownList},toggleList:function(t){this.downList[t].status?this.showDownList=!this.showDownList:(this.setDownList(n.a.btnList(this.list,t)),this.setDownListVal(),this.showDownList=!this.showDownList)},hasCash:function(){var t=this.filterParmas.st;this.setDownList(n.a.btnList(this.list,t)),this.setDownListVal()}})},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"sortList"},[e("div",{staticClass:"all",on:{click:t.showList}},[e("span",[t._v(t._s(t.downListVal))]),t._v(" "),e("img",{attrs:{src:s("eDl4"),alt:""}})]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.showDownList,expression:"showDownList"}],staticClass:"downList",on:{click:function(i){return i.target!==i.currentTarget?null:t.clickSelf(i)}}},t._l(t.downList,function(i,a){return e("li",{key:a,class:{active:i.status},on:{click:function(i){return t.toggleList(a)}}},[e("span",[t._v(t._s(i.name))]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:i.status,expression:"item.status"}],staticClass:"selected",attrs:{src:s("p6jp")}})])}),0)])},staticRenderFns:[]};var l=s("VU/8")(c,o,!1,function(t){s("M3ZO")},"data-v-08bf57bf",null);i.a=l.exports},bcbw:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAYAAADkgu3FAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowODI1NjIzMEVBMTUxMUU4OTI5M0U0REU1NkYyQjJGRiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowODI1NjIzMUVBMTUxMUU4OTI5M0U0REU1NkYyQjJGRiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA4MjU2MjJFRUExNTExRTg5MjkzRTRERTU2RjJCMkZGIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA4MjU2MjJGRUExNTExRTg5MjkzRTRERTU2RjJCMkZGIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+rc8NDAAAAQdJREFUeNpiTEtLu81AW7Bp5syZxSxAhgqNLbICEUxA/IKGlnwB4giYRTE0tCgJGGwPYRbtBeIeGliyEGjJahiHCUqXAvEVKlryBIjTkAWYkNjhVLQoCuibX7gsugbEhVSwpBtoyWF0QSY0/gQg3kOBJVeAlpRhk2DCIgYKwk9kWhSCSwKbRe+AOJYMS3KAvrlJikXgYgOIZ5FgyU6gJVPxKWDCI5cJxLeIsOQjEEcTUoTPon9AHAil8YEYoG/eUmIRLMkX4JGfArRkCzFhy0SEmhV45BYTG4nEWCSAR46fmhYxUaifNIWUgiFj0dAMOkYc4muA+BgtLdoIxA5AHAotfogCAAEGACQhOhYgjaHVAAAAAElFTkSuQmCC"},eDl4:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABA0lEQVQ4T8WSsUvDYBDF3yUQHbMayeifoOCiOElwzqgEk9zWSXDOrlO3fFH4lk6ZBTfp4tL+A3V2cIub4AeetFTRNJW0Gbz13v14d+8IHYs6zoOY+QnAzpqgCaVp2iOi/pqA3mwFZr4FcL4i5EYplc4AQRBs+L7/AGC/JeSxqqqjsizfv4/IzFsARgC2/4KIyLMxZldr/TLV/UohjuM927aHADaXQN6I6CDP8/FXfyHGJEnOLMvSdTgAEZHToigGP+GNf8DM1wAuai6ulFKXdWeNgDAMbdd174joeD5w73neSZZlH60AU1EURa7jOEMRgTHmUGv92nSX7q/cMvelsv938An0h0S52QXASAAAAABJRU5ErkJggg=="},ktza:function(t,i){},ntGP:function(t,i){},sBbH:function(t,i,s){"use strict";var e=s("Dd8w"),a=s.n(e),n=(s("vGYV"),s("TYi7")),r=s("NYxO"),c=(s("0xDb"),{props:["time"],data:function(){return{filterStatus:!1,list:[],price1:"",price2:"",showBrand:!0}},computed:a()({},Object(r.d)({listVal:function(t){return t.leftNavList.listVal},filterList:function(t){return t.productNavList.filterList},filterVal:function(t){return t.productNavList.filterVal},initlist:function(t){return t.leftNavList.initlist},filterParmas:function(t){return t.filterParmas.filterParmas},price:function(t){return t.productNavList.price},searchParmas:function(t){return t.searchParmas.searchParmas}})),watch:{time:function(){var t=this;this.$nextTick(function(){t.initBrand(),t.reset()})}},created:function(){this.initFilter()},mounted:function(){this.stopMove()},methods:a()({},Object(r.c)(["setFilterList","getFilterVal","resetFilterList","setPrice","setSearchBrandList"]),{initFilter:function(){"number"==typeof this.$route.query.index?(this.list=this.$store.state.leftNavList.initlist.slice(1),this.list=Object(n.a)(this.list,-1),this.resetFilterList(this.list),this.setPrice({price1:"",price2:""}),this.initBrand()):(this.getBrand(),this.price1=this.price.price1,this.price2=this.price.price2)},stopMove:function(){this.$refs.filter.addEventListener("touchmove",function(t){t.preventDefault()},!0)},getBrand:function(){var t=this.filterParmas.brand,i=void 0;this.filterList.forEach(function(s,e){s.name==t&&(i=e)}),this.list=Object(n.a)(this.filterList,i),this.setFilterList(this.list)},initBrand:function(){!this.filterParmas.brand||this.searchParmas.key?this.showBrand=!0:this.showBrand=!1},showFilter:function(){this.filterStatus=!0},hideBox:function(){this.filterStatus=!1},chooseVal:function(t){this.list[t].status?this.list[t].status=!1:this.list=Object(n.a)(this.list,t),this.setFilterList(this.list),this.getFilterVal()},changePrice:function(){this.price1>0&&""===this.price2?this.getPrice(this.price1,this.price2):this.price2>0&&""===this.price1?this.getPrice(this.price1,this.price2):this.price2&&parseInt(this.price1)>parseInt(this.price2)?(this.price2="",this.$refs.inputPrice2.focus()):this.getPrice(this.price1,this.price2)},reset:function(){this.resetFilterList(this.list),this.getFilterVal(),this.price1="",this.price2="",this.getPrice(this.price1,this.price2)},confirm:function(){this.filterStatus=!1},getPrice:function(t,i){var s={price1:t,price2:i};this.setPrice(s)}})}),o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"filter",staticClass:"filter"},[e("div",{staticClass:"icon",on:{click:t.showFilter}},[e("span",{staticClass:"line"},[t._v("|")]),t._v(" "),e("span",[t._v("筛选")]),t._v(" "),e("img",{attrs:{src:s("bcbw"),alt:"筛选"}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.filterStatus,expression:"filterStatus"}],staticClass:"filter-box",on:{click:function(i){return i.target!==i.currentTarget?null:t.hideBox(i)}}},[e("div",{staticClass:"contain right"},[e("dl",{directives:[{name:"show",rawName:"v-show",value:t.showBrand,expression:"showBrand"}]},[e("dt",[t._v("品牌")]),t._v(" "),t._l(t.filterList,function(i,s){return e("dd",{key:s,class:{active:i.status},on:{click:function(i){return t.chooseVal(s)}}},[t._v("\n          "+t._s(i.name)+"\n        ")])})],2),t._v(" "),e("div",{staticClass:"price"},[e("p",[t._v("价格区间")]),t._v(" "),e("div",{staticClass:"inp_box"},[e("span",[t._v("\n              ¥"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price1,expression:"price1"}],ref:"inputPrice1",attrs:{type:"number",maxlength:"8"},domProps:{value:t.price1},on:{change:t.changePrice,input:function(i){i.target.composing||(t.price1=i.target.value)}}})]),t._v("\n             - \n            "),e("span",[t._v("\n              ¥"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.price2,expression:"price2"}],ref:"inputPrice2",attrs:{type:"number",maxlength:"8"},domProps:{value:t.price2},on:{change:t.changePrice,input:function(i){i.target.composing||(t.price2=i.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"btn"},[e("button",{staticClass:"reset",on:{click:t.reset}},[t._v("重置")]),t._v(" "),e("button",{staticClass:"confirm",on:{click:t.confirm}},[t._v("完成")])])])])])},staticRenderFns:[]};var l=s("VU/8")(c,o,!1,function(t){s("ntGP")},"data-v-5f12613b",null);i.a=l.exports},uMnK:function(t,i,s){"use strict";var e=new(s("0xDb").a),a={props:["list"],data:function(){return{like:"",account:"",num:""}},watch:{list:function(){this.setCollect()}},mounted:function(){this.setCollect(),this.account=this._localAjax().account},methods:{changLike:function(){this.like?this.cancleCollect():this.collect()},getLabel:function(t){if(t)return this.list.label.split("、")},collect:function(){var t=this,i=this.getParmas();e.galleryCollect(i).then(function(i){1==i.status&&(t.like=!t.like,t.num+=1)})},cancleCollect:function(){var t=this,i=this.getParmas();e.galleryCancelCollect(i).then(function(i){1==i.status&&(t.like=!t.like,t.num-=1)})},getParmas:function(){return{id:this.list.id,account:this.account,type:3}},setCollect:function(){this.like=this.list.collect,this.num=this.list.collections}}},n={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"waterfall"},[e("div",{staticClass:"img_icon",style:{backgroundImage:"url("+t.list.image+")"}}),t._v(" "),e("div",{staticClass:"text_box"},[e("p",{staticClass:"title"},[t._v(t._s(t.list.goodsName))]),t._v(" "),e("div",{staticClass:"type"},t._l(t.getLabel(t.list.label),function(i,s){return e("div",{key:s,staticClass:"type_icon"},[t._v("\n        "+t._s(i)+"\n      ")])}),0),t._v(" "),e("p",{staticClass:"price"},[t._v("¥"+t._s(Math.round(100*t.list.price)/100))]),t._v(" "),e("div",{staticClass:"like_btn",on:{click:function(i){return i.preventDefault(),t.changLike(i)}}},[t.like?e("img",{attrs:{src:s("k91F"),alt:"收藏"}}):e("img",{attrs:{src:s("ZdSg"),alt:"未收藏"}}),t._v(" "),e("span",[t._v(t._s(t.num))])])])])},staticRenderFns:[]};var r=s("VU/8")(a,n,!1,function(t){s("Mlbe")},"data-v-e4fd7618",null);i.a=r.exports},yI2R:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("Dd8w"),a=s.n(e),n=s("Au9i"),r=s("7+uW"),c=s("0xDb"),o=s("NYxO"),l=(s("TYi7"),s("vGYV"),s("y5y3")),h=s("VGYq"),u=s("sBbH"),d=s("Jear"),p=s("uMnK");r.default.component(n.Loadmore.name,n.Loadmore);var f=new c.a,v={components:{Search:l.a,SortList:h.a,MFilter:u.a,MList:d.a,WList:p.a},data:function(){return{marginTop:"",paddingTop:"",searchVal:"",matchTxt:!1,unMatchTxt:!0,type:!0,changeStatus:!1,key:!0,list:[],searchTurn:!0,obj:{brand:"",key:"",st:0,rp:"",account:"",category:"",page:1,limit:10},time:0,allLoaded:!1}},beforeRouteEnter:function(t,i,s){"/gallery"===i.path||"/productList"===i.path?s(function(t){t.$set(t.obj,"account",t._localAjax().account),t.setSearchParmas(t.obj)}):s(function(t){var i=10*t.searchParmas.page;t.setParmas("page",1),t.setParmas("limit",i),t.searchVal=t.searchParmas.key,t.searchKey(t.searchParmas),t.listenScrollTop()})},watch:{searchVal:function(){""===this.searchVal&&(this.matchTxt=!1,this.unMatchTxt=!0)}},computed:a()({},Object(o.d)({downListVal:function(t){return t.productNavList.downListVal},filterVal:function(t){return t.productNavList.filterVal},price:function(t){return t.productNavList.price},searchParmas:function(t){return t.searchParmas.searchParmas},initParmas:function(t){return t.searchParmas.initParmas},searchScroll:function(t){return t.searchScroll.searchScroll}})),created:function(){this.isIPhoneX()},methods:a()({},Object(o.c)(["setSearchParmas","setDownList","setDownListVal","resetFilterList","setSearchScroll"]),{recordScrollPosition:function(t){this.setSearchScroll(t.target.scrollTop)},listenScrollTop:function(){var t=this;this.$refs.searchLoadMore.addEventListener("scroll",this.recordScrollPosition,!0),this.$nextTick(function(){t.$refs.searchLoadMore.scrollTop=t.searchScroll})},search:function(t){13==t.keyCode&&this.searchVal&&(this.time+=1,this.list=[],this.setSearchScroll(0),this.initSearch(t.target.value))},initSearch:function(t){this.searchTurn=!1,this.$set(this.obj,"brand",""),this.$set(this.obj,"st",""),this.$set(this.obj,"rp",""),this.$set(this.obj,"category",""),this.$set(this.obj,"page",1),this.$set(this.obj,"limit",10),this.$set(this.obj,"key",t),this.setDownList(this.$store.state.productNavList.list),this.setDownListVal(),this.setSearchParmas(this.obj),this.searchKey(this.searchParmas)},setParmas:function(t,i){this.obj=this.searchParmas,this.$set(this.obj,t,i),this.setSearchParmas(this.obj)},searchKey:function(t){var i=this;f.fliterList(t).then(function(t){1==t.status&&t.data.list.length?(i.list=i.list.concat(t.data.list),i.matchTxt=!0,i.unMatchTxt=!0,i.allLoaded=!1,i.listenScrollTop()):(i.matchTxt=!1,i.unMatchTxt=!1,i.list=[]),i.searchTurn=!0})},deleteVal:function(t){this.searchVal=t,this.list=[]},cancleBtn:function(){this.$router.go(-1)},changeSortListStatus:function(){this.changeStatus=!0},reset:function(t){this.changeStatus=t},changStyle:function(){var t=this;this.changeStatus=!0,this.key&&(this.key=!1,setTimeout(function(){t.type=!t.type,t.key=!0},200))},getPrice:function(){return""===this.price.price2?this.price.price1+"":this.price.price1+"-"+this.price.price2},loadBottom:function(){this.$refs.searchLoad.onBottomLoaded(),this.pullDownData()},pullDownData:function(){this.allLoaded=!0;var t=this.list.length/10+1;Math.floor(t)<t?this.allLoaded=!0:(this.setParmas("page",t),this.setParmas("limit",10),this.searchKey(this.obj))},isIPhoneX:function(){var t=this.phoneSize();"iphonex"===t?(this.marginTop={marginTop:"-5.86vw"},this.paddingTop={paddingTop:"11vw"}):(this.marginTop="",this.paddingTop={paddingTop:"5vw"})}})},m={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"search",style:t.marginTop},[s("div",{staticClass:"search_box",style:t.paddingTop},[s("button",{staticClass:"cancle",on:{click:t.cancleBtn}}),t._v(" "),s("Search",{staticClass:"searchComp",attrs:{deleteVal:t.deleteVal},nativeOn:{keypress:function(i){return t.search(i)}},model:{value:t.searchVal,callback:function(i){t.searchVal="string"==typeof i?i.trim():i},expression:"searchVal"}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.matchTxt,expression:"matchTxt"}],staticClass:"matchTxt"},[s("div",{ref:"searchLoadMore",staticClass:"productList"},[s("mt-loadmore",{ref:"searchLoad",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded,"auto-fill":!1}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.type,expression:"!type"}],staticClass:"m-list"},t._l(t.list,function(t,i){return s("div",{key:i},[s("router-link",{attrs:{to:{name:"productDetails",query:{id:t.id}}}},[s("m-list",{attrs:{list:t}})],1)],1)}),0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.type,expression:"type"}],staticClass:"list"},t._l(t.list,function(t,i){return s("div",{key:i,staticClass:"item"},[s("router-link",{attrs:{to:{name:"productDetails",query:{id:t.id}}}},[s("w-list",{attrs:{list:t}})],1)],1)}),0)])],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.unMatchTxt,expression:"!unMatchTxt"}],staticClass:"search_nothing"},[s("p",[t._v("未找到相关产品")])])])},staticRenderFns:[]};var g=s("VU/8")(v,m,!1,function(t){s("ktza")},"data-v-77256a54",null);i.default=g.exports}});
//# sourceMappingURL=17.203b45a366262fefd77f.js.map