webpackJsonp([13],{"4M9/":function(t,e){},"5/EX":function(t,e){},PQ3G:function(t,e){},"PY+m":function(t,e){},Un5g:function(t,e){},YXRw:function(t,e){},Yb9t:function(t,e,s){"use strict";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"header class"+(parseInt(t.storeClass)+1)},[s("div",{staticClass:"headerBox"},[s("button",{attrs:{type:"button"},on:{click:t.back}})]),t._v(" "),99!=t.storeClass?s("h3",[t._v(t._s(t.starText))]):t._e()])},staticRenderFns:[]};var a=s("C7Lr")({props:["storeClass","href"],data:function(){return{}},computed:{starText:function(){return["一星认证","二星认证","三星认证","四星认证","五星认证"][this.storeClass]}},methods:{back:function(){this.href?this.$router.replace(this.href):this.$router.back()}}},n,!1,function(t){s("Un5g")},"data-v-e2fae078",null);e.a=a.exports},b8BC:function(t,e){},cAFD:function(t,e){},dJjw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("4YfN"),a=s.n(n),r=s("lC5x"),o=s.n(r),i=s("J0Oq"),c=s.n(i),l=s("Yb9t"),u={props:{shops:{type:Array,default:function(){return[{name:""}]}}},data:function(){return{selectIndex:sessionStorage.getItem("selectIndex")||0,storeSelectShow:!1}},created:function(){var t=this;this.$nextTick(function(){document.onclick=function(){t.storeSelectShow=!1}})},methods:{showStoreList:function(){this.storeSelectShow=!this.storeSelectShow},bindSelect:function(t,e){this.selectIndex=t,sessionStorage.setItem("selectIndex",t),this.storeSelectShow=!1,this.$emit("onGetStoreId",e,t)}}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"storeSelect "+(t.storeSelectShow?"on":"")},[s("h3",[s("span",{on:{click:function(e){return e.stopPropagation(),t.showStoreList(e)}}},[t._v(t._s(t.shops[t.selectIndex]&&t.shops[t.selectIndex].name))])]),t._v(" "),s("ul",{on:{click:function(e){t.storeSelectShow=!1}}},t._l(t.shops,function(e,n){return s("li",{key:"shops"+n,on:{click:function(s){return s.stopPropagation(),t.bindSelect(n,e)}}},[s("span",[t._v(t._s(e.name))])])}),0)])},staticRenderFns:[]};var d=s("C7Lr")(u,p,!1,function(t){s("PQ3G")},"data-v-477779d6",null).exports,h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"contentBox"},[e("div",{staticClass:"border-bottom"},[e("p",{staticClass:"title"},[this._v(this._s(this.title))])]),this._v(" "),e("div",{staticClass:"content-box"},[this._t("default")],2)])},staticRenderFns:[]};var C=s("C7Lr")({props:["title"],data:function(){return{}}},h,!1,function(t){s("cAFD")},"data-v-5c578ada",null).exports,v={props:["type","storeClass","index","iconData","hasNew","row"],data:function(){return{storeClassCN:this.getClassCN()}},methods:{toCheck:function(){this.index+1<=this.storeClass?(console.log("跳转"+(this.index+1)),this.$router.push({path:"/starCheck"})):console.log("未达等级")},getClassCN:function(){switch(this.index){case 0:this.storeClassCN="一";break;case 1:this.storeClassCN="二";break;case 2:this.storeClassCN="三";break;case 3:this.storeClassCN="四";break;default:this.storeClassCN="五"}}},mounted:function(){this.getClassCN()}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return"dailyCheck"===t.type?s("div",{class:"iconBox_wrapper "+(t.row?"row":"")},[s("div",{staticClass:"starImg",style:{background:"url(./static/images/4s/starCheck/star"+(t.index+1<=t.storeClass?t.index+1+"Bg":t.index+1+"Bg_no")+".png) center center / 100% 100%  no-repeat"}},[t._v(t._s(t.index+1))]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.storeClassCN+"星检查"))])]):"gradeReport"===t.type?s("div",{staticClass:"iconBox_wrapper"},[s("div",{staticClass:"starImg",style:{background:"url("+t.iconData.icon+") no-repeat,url("+t.iconData.bgIcon+")",backgroundSize:"40% auto,100% 100%",backgroundPosition:"center"}},["tips"===t.hasNew?s("div",{staticClass:"tips_icon"}):t._e(),t._v(" "),isNaN(t.hasNew)||0===t.hasNew?t._e():s("div",{staticClass:"news_icon"},[s("span",[t._v(t._s(t.hasNew))])])]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.iconData.text))])]):s("div",{staticClass:"iconBox_wrapper"},[s("div",{staticClass:"starImg",style:{background:"url(./static/images/4s/starCheck/config.png) no-repeat",backgroundSize:"100% 100%",backgroundPosition:"center"}}),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s("配置权限"))])])},staticRenderFns:[]};var g=s("C7Lr")(v,f,!1,function(t){s("b8BC")},"data-v-7ad92f96",null).exports,m={props:["shopId","shops","hasNew"],components:{ContentBox:C,iconBox:g},data:function(){return{storeClass:2,data:{icon:"./static/images/4s/star_re.png",bgIcon:"./static/images/4s/starCheck.png",text:"星级检查",link:"starCheckW",shops:[]}}},methods:{handleClick:function(t){if("supervisor"!=localStorage.getItem("certPositionType")){var e=this.shops[sessionStorage.getItem("selectIndex")||0].starLevel;this.$router.push({path:"/starCheck",query:{shopId:this.shopId,starLevel:e}})}else this.$router.push({path:"/leader-check"})}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dailyCheck"},[s("ContentBox",{staticClass:"wrapper",attrs:{title:"日常检查"}},[s("div",{staticClass:"iconBox-wrapper"},[s("iconBox",{attrs:{type:"gradeReport",iconData:t.data,hasNew:t.hasNew},nativeOn:{click:function(e){return t.handleClick(t.data.link)}}})],1)])],1)},staticRenderFns:[]};var _=s("C7Lr")(m,x,!1,function(t){s("PY+m")},"data-v-74f59565",null).exports,k=s("3cXf"),S=s.n(k),w={components:{ContentBox:C,IconBox:g},props:{storeType:{type:Object,default:{}}},data:function(){return{data1:{icon:"./static/images/4s/starCheck/write.png",bgIcon:"./static/images/4s/starCheck/btnBg.png",text:"检查记录",link:"recordJxs"},data2:{icon:"./static/images/4s/star_re.png",bgIcon:"./static/images/4s/starResult.png",text:"评星结果",link:"judgeStar"}}},methods:{handleClick:function(t){"{}"==S()(this.storeType)?this.$router.push({name:t}):this.$router.push({path:"/record",query:this.storeType})}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ContentBox",{staticClass:"wrapper",attrs:{title:"评分报表"}},[s("div",{staticClass:"iconBox-wrapper"},[s("div",{staticClass:"icon-box"},[s("iconBox",{attrs:{type:"gradeReport",iconData:t.data1},nativeOn:{click:function(e){return t.handleClick(t.data1.link)}}})],1)])])],1)},staticRenderFns:[]};var I=s("C7Lr")(w,b,!1,function(t){s("4M9/")},"data-v-888edee6",null).exports,y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return"gradeReport"===t.type?s("div",{staticClass:"iconBox_wrapper"},[s("div",{staticClass:"starImg",style:{background:"url(./static/images/4s/starCheck/write.png) no-repeat, url(./static/images/4s/starCheck/btnBg.png) no-repeat",backgroundSize:"40% auto, 100% 100%",backgroundPosition:"center"}}),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.title))])]):s("div",{staticClass:"iconBox_wrapper"},[s("div",{staticClass:"starImg",style:{background:"url(./static/images/4s/starCheck/"+t.icon+".png) no-repeat, url(./static/images/4s/starCheck/config.png) no-repeat",backgroundSize:"40% auto, 100% 100%",backgroundPosition:"center"}}),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.title))])])},staticRenderFns:[]};var B={components:{ContentBox:C,iconBox1:s("C7Lr")({props:["type","storeClass","title","icon"],data:function(){return{}},methods:{},mounted:function(){}},y,!1,function(t){s("p69I")},"data-v-578e8c84",null).exports},data:function(){return{}}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"moduleConfig"},[e("ContentBox",{staticClass:"wrapper",attrs:{title:"模块配置"}},[e("div",{staticClass:"iconBox-wrapper"},[e("iconBox1",{attrs:{icon:"lock",title:"权限配置"}})],1)])],1)},staticRenderFns:[]};var R=s("C7Lr")(B,N,!1,function(t){s("YXRw")},"data-v-507c0ff6",null).exports,L={components:{ContentBox:C,IconBox:g},data:function(){return{iconList:[{icon:"./static/images/4s/atest.png",bgIcon:"./static/images/4s/starCheck.png",text:"星级认证",link:"starAtest"},{icon:"./static/images/4s/star_re.png",bgIcon:"./static/images/4s/starResult.png",text:"认证进度",link:"ApplyRecord"}],certPositionType:localStorage.getItem("supervisor")}},computed:{comListData:function(){return"supervisor"==localStorage.getItem("certPositionType")?(this.iconList.splice(0,1),this.iconList):this.iconList}},methods:{handleClick:function(t){this.$router.push({name:t})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ContentBox",{staticClass:"wrapper",attrs:{title:"星级认证"}},[s("div",{staticClass:"iconBox-wrapper"},[s("div",{staticClass:"icon-box"},t._l(t.comListData,function(e){return s("iconBox",{key:e.text,attrs:{type:"gradeReport",iconData:e},nativeOn:{click:function(s){return t.handleClick(e.link)}}})}),1)])])],1)},staticRenderFns:[]};var D=s("C7Lr")(L,$,!1,function(t){s("5/EX")},"data-v-13e73198",null).exports,P=s("PR0l"),T=s("wSez"),G=s("HVJf"),F={components:{Header:l.a,StoreSelect:d,DailyCheck:_,GradeReport:I,ModuleConfig:R,starAttestation:D},data:function(){return{soreClass:98,shops:[{name:""}],categories:[],shopId:0,storeType:{},hasNew:0,certPositionType:localStorage.getItem("certPositionType")}},created:function(){var t=this;return c()(o.a.mark(function e(){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.certPositionType,t._GradeShopsCount(s),"Dealer Boss"!=s&&"supervisor"!=s){e.next=4;break}return e.abrupt("return");case 4:t._initData();case 5:case"end":return e.stop()}},e,t)}))()},computed:a()({},Object(G.d)({shopsSelectIndex:function(t){return t.eggRecordDetails.shopsSelectIndex}})),methods:a()({},Object(G.c)(["setShopId","setShops","setShopsSelectIndex"]),{_initData:function(){var t=this;return c()(o.a.mark(function e(){var s,n,a,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.o)();case 2:if(s=e.sent,n=s.code,a=s.msg,r=s.shops,0==n){e.next=9;break}return Object(T.Toast)({message:a,position:"middle",duration:2e3}),e.abrupt("return");case 9:r&&r.length>0&&(t.shops=r,i=t.shopsSelectIndex||0,t.shopId=r[i].id,t.setShopId(r[i].id),t.soreClass=r[i].starLevel,t.storeType={shopName:r[i].name,shopId:r[i].id},t.setShops(r),t._getGradeCategoriesCount(r[i].id));case 10:case"end":return e.stop()}},e,t)}))()},_GradeShopsCount:function(t){var e=this;return c()(o.a.mark(function s(){var n,a;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if("supervisor"!=t){s.next=6;break}return s.next=3,Object(P.v)();case 3:n=s.sent,a=n.notGradeCount,e.hasNew=a;case 6:case"end":return s.stop()}},s,e)}))()},onGetStoreId:function(t,e){this._getGradeCategoriesCount(t.id),this.setShopId(t.id),this.shopId=t.id,this.soreClass=t.starLevel,this.storeType={shopName:t.name,shopId:t.id},this.setShopsSelectIndex(e)},_getGradeCategoriesCount:function(t){var e=this;return c()(o.a.mark(function s(){var n,a;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(P.r)({shopId:t});case 2:n=s.sent,a=n.notGradeCount,e.hasNew=a;case 5:case"end":return s.stop()}},s,e)}))()}})},E={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index"},[s("Header",{attrs:{storeClass:t.soreClass,href:"/work"}}),t._v(" "),s("StoreSelect",{directives:[{name:"permission",rawName:"v-permission",value:["Store Manager","Sleep Consultant"],expression:"['Store Manager','Sleep Consultant']"}],attrs:{shops:t.shops},on:{onGetStoreId:t.onGetStoreId}}),t._v(" "),s("DailyCheck",{directives:[{name:"permission",rawName:"v-permission",value:["Store Manager","Sleep Consultant","supervisor"],expression:"['Store Manager','Sleep Consultant','supervisor']"}],attrs:{shopId:t.shopId,shops:t.shops,hasNew:t.hasNew}}),t._v(" "),s("starAttestation",{directives:[{name:"permission",rawName:"v-permission",value:["Dealer Boss","supervisor"],expression:"['Dealer Boss','supervisor']"}]}),t._v(" "),s("GradeReport",{attrs:{storeType:t.storeType}})],1)},staticRenderFns:[]};var O=s("C7Lr")(F,E,!1,function(t){s("tFJf")},"data-v-2bfa1fe5",null);e.default=O.exports},p69I:function(t,e){},tFJf:function(t,e){}});