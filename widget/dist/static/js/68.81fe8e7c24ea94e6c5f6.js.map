{"version":3,"sources":["webpack:///src/components/msManage/service/eggListComp.vue","webpack:///./src/components/msManage/service/eggListComp.vue?f36f","webpack:///./src/components/msManage/service/eggListComp.vue","webpack:///src/pages/msManage/policy.vue","webpack:///./src/pages/msManage/policy.vue?4790","webpack:///./src/pages/msManage/policy.vue"],"names":["indexModel","utils","vue_esm","component","mint_ui_common","name","eggListComp","props","data","allLoaded","list","page","limit","typeId","key","noData","account","computed","extends_default","Object","vuex_esm","parmas","state","treeList","listScroll","loadmore","msManageList","artList","listAllScroll","watch","this","hasData","getId","console","log","hasList","length","getInitList","obj","getCategoriesId","setType","getArticlesList","getList","listenScrollTop","initGetData","created","_localAjax","mounted","$route","query","type","initData","methods","recordScrollPosition","e","id","target","scrollTop","scroll","setListAllScroll","_this","$refs","myScroll","addEventListener","getScroll","$nextTick","forEach","item","setListScroll","initSrcoll","classify","$set","_this2","getArticles","then","res","saveList","_this3","concat","categoryId","name1","name2","subCateId","subCate2Id","setMsManageList","temp1","toArticle","index","$router","push","path","articleId","loadBottom","load","onBottomLoaded","pullDownData","len","Math","floor","service_eggListComp","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","bottom-method","bottom-all-loaded","auto-fill","_l","on","click","$event","preventDefault","directives","rawName","value","logoImageUrl","expression","src","_v","_s","title","_e","createTime","author","image","alt","staticRenderFns","msManage_service_eggListComp","__webpack_require__","normalizeComponent","ssrContext","policy","components","eggTreeListComp","listComp","banner","paddingTop","hasSubData","init","hasSub","initTop","initParmas","initTitile","isIPhoneX","setParmas","getParmas","val","getStatus","subCateList","map","phone","phoneSize","msManage_policy","style","class","policy_Component","policy_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/68.81fe8e7c24ea94e6c5f6.js","sourcesContent":["<template>\r\n  <div class=\"listComp\"  ref='myScroll'>\r\n    <ul>\r\n    <mt-loadmore :bottom-method=\"loadBottom\" :bottom-all-loaded=\"allLoaded\" ref=\"load\" :auto-fill=\"false\"> \r\n      <li v-for=\"(item, index) in artList\" :key=\"index\" @click.prevent=\"toArticle(index)\" >\r\n        <div class=\"list_left\">\r\n          <h1><img v-show=\"item.logoImageUrl!==''\" :src=\"item.logoImageUrl\"/>{{item.title}}</h1>\r\n          <div class=\"list_bottom\">\r\n            <span v-if=\"item.top\" class=\"top\">置顶</span>\r\n            <span class=\"time\">{{item.createTime}}&nbsp;&nbsp;{{item.author}}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"list_right\">\r\n          <img :src=\"item.image\" alt=\"\" class=\"img\">\r\n        </div>\r\n      </li>\r\n    </mt-loadmore>\r\n    </ul>\r\n    <div class=\"search_nothing\" v-show=\"noData\">\r\n      <p>很抱歉，没有找到相关内容</p>\r\n      <div class=\"search_bg\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState,mapMutations} from 'vuex'\r\nimport {IndexModel} from '../../../utils/index'\r\nimport mango from '../../../js'\r\nconst indexModel = new IndexModel()\r\nimport { Loadmore } from 'mint-ui'\r\nVue.component(Loadmore.name, Loadmore)\r\nimport Vue from 'vue'\r\nexport default {\r\n  props: ['id'],\r\n  data() {\r\n    return {\r\n      allLoaded:false,\r\n      list: [],\r\n      page: 1,\r\n      //limit: 5,\r\n      limit:10,\r\n      typeId: '',\r\n      key: false,\r\n      noData: false,\r\n      account: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      parmas: state => state.treeList.parmas,\r\n      listScroll: state => state.loadmore.listScroll,\r\n      msManageList: state => state.loadmore.msManageList,\r\n      artList: state => state.loadmore.artList,\r\n      listAllScroll: state => state.loadmore.listAllScroll\r\n      // baseUrl: state => state.treeList.baseUrl\r\n    })\r\n  },\r\n  watch: {\r\n    parmas() {\r\n      this.hasData()\r\n      if(this.key) {\r\n        let temp = 0\r\n        let parmas = this.getId()\r\n        console.log('00',parmas);\r\n        // if(this.parmas.name1 && !this.parmas.name2) {\r\n        //   temp = this.hasList(this.parmas.name1)\r\n        // }else if(this.parmas.name1 && this.parmas.name2){\r\n        //   temp = this.hasList(this.parmas.name2)\r\n        // }\r\n         temp = this.hasList(parmas)\r\n        if(temp === this.msManageList.length) {\r\n          this.getInitList([])\r\n          let obj = this.getCategoriesId(1,10)\r\n          obj = this.setType(obj)\r\n          this.getArticlesList(obj)\r\n        }else {\r\n          this.getList(parmas)\r\n          this.allLoaded = false\r\n        }\r\n        this.listenScrollTop()\r\n      }else {\r\n        this.initGetData()\r\n        this.key = true\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.account = this._localAjax().account\r\n  },\r\n  mounted() {\r\n    if(this.$route.query.type === 1) {\r\n      this.initData()\r\n      return\r\n    }else {\r\n      this.listenScrollTop()\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'setListScroll',\r\n      'getList', \r\n      'setMsManageList',\r\n      'getInitList',\r\n      'getScroll',\r\n      'setListAllScroll',\r\n      'initSrcoll',\r\n      'setBaseUrl'\r\n    ]),\r\n    //获取滚动条高度\r\n    recordScrollPosition(e) {\r\n      let id = this.getId()\r\n      if(e.target.scrollTop === 0) {\r\n        return\r\n      }\r\n      let obj = {\r\n        id: id,\r\n        scroll: e.target.scrollTop\r\n      }\r\n      this.setListAllScroll(obj)\r\n    },\r\n    //监听滚动条高度\r\n    listenScrollTop() {\r\n      let id = this.getId()\r\n      this.$refs.myScroll.addEventListener('scroll',this.recordScrollPosition,false);\r\n      this.getScroll(id)\r\n      // console.log('scrpll',this.listScroll)\r\n      this.$nextTick(() => {\r\n        this.$refs.myScroll.scrollTop = this.listScroll; \r\n      })\r\n    },\r\n    //判断二级分类有没有数据\r\n    hasData() {\r\n      let id = this.getId()\r\n      let list\r\n      this.msManageList.forEach(item => {\r\n        if(item[0].id === id) {\r\n          list = item[1].list\r\n        }\r\n      })\r\n      if(list && list.length) {\r\n        this.noData = false\r\n      }else {\r\n        this.noData = true\r\n      }\r\n    },\r\n    //初始化数据\r\n    initData() {\r\n      this.setListScroll(0);\r\n      this.$refs.myScroll.scrollTop = this.listScroll\r\n      this.initSrcoll([])\r\n    },\r\n    //区分金管家服务和学院\r\n    setType(obj) {\r\n      this.typeId = this.$route.query.classify\r\n      console.log(123,this.typeId)\r\n      if(this.typeId) {\r\n        if(this.typeId === '1') {\r\n          this.$set(obj, 'classify', 1)\r\n        }else if(this.typeId === '2') {\r\n          this.$set(obj, 'classify', 2)\r\n        }\r\n        return obj\r\n      }\r\n    },\r\n    //初始请求\r\n    initGetData() {\r\n      let obj = this.getCategoriesId(1, 10)\r\n      obj = this.setType(obj)\r\n      indexModel.getArticles(obj).then(res => {\r\n        // this.setBaseUrl(res.baseUrl)\r\n        this.saveList(res.data)\r\n        this.getInitList(res.data)\r\n        this.listenScrollTop()\r\n        if(res.data && res.data.length < 10) {\r\n          this.allLoaded = true\r\n        }\r\n        this.hasData()\r\n      })\r\n    },\r\n    //获取文章列表\r\n    getArticlesList(obj) {\r\n      let parmas = this.getId()\r\n      console.log('w',parmas);\r\n      indexModel.getArticles(obj).then(res => {\r\n        if(res.data) {\r\n          if(res.data.length) {\r\n            // this.setBaseUrl(res.baseUrl)\r\n            this.allLoaded = false\r\n            this.list = this.artList.concat(res.data)\r\n            this.saveList(this.list)\r\n            this.getList(parmas)\r\n            this.listenScrollTop()\r\n          }else {\r\n            // this.saveList()\r\n            this.getList(parmas)\r\n            this.allLoaded = true\r\n          }\r\n        }\r\n      })\r\n    },\r\n    //获取一二三级id参数\r\n    getCategoriesId(page, limit){\r\n      const categoryId = this.$route.query.id\r\n      let obj = {}\r\n      console.log('www',this.parmas);\r\n      if(this.parmas.name1 && !this.parmas.name2) {\r\n        let subCateId = this.parmas.name1\r\n        obj = {\r\n          'categoryId': categoryId,\r\n          'subCateId': subCateId,\r\n          'account': this.account,\r\n          'page': page,\r\n          'limit':limit\r\n          }\r\n          console.log('234',obj);\r\n      }else if(this.parmas.name1 && this.parmas.name2) {\r\n        let subCateId = this.parmas.name1\r\n        let subCate2Id = this.parmas.name2\r\n        obj = {\r\n          'categoryId': categoryId,\r\n          'subCateId': subCateId,\r\n          'subCate2Id': subCate2Id,\r\n          'account':this.account,\r\n          'page': page,\r\n          'limit':limit\r\n          }\r\n      }else {\r\n        obj = {\r\n          'categoryId': categoryId,\r\n          'account':this.account,\r\n          'page': page,\r\n          'limit':limit\r\n        }\r\n      }\r\n      return obj\r\n    },\r\n    //获取id\r\n    getId() {\r\n      if(this.parmas.name2) {\r\n        return this.parmas.name2\r\n      }else{\r\n        return this.parmas.name1\r\n      }\r\n    },\r\n    //数据存到vuex\r\n    saveList(list) {\r\n      let id = this.getId()\r\n      let data = [\r\n        {id: id},\r\n        {list: list}\r\n      ]\r\n      this.setMsManageList(data)\r\n      this.hasData()\r\n    },\r\n    //判断vuex是否已存储list\r\n    hasList(id) {\r\n      let temp1 = 0\r\n      this.msManageList.forEach(item => {\r\n        if(item[0].id == id) {\r\n          temp1 -= 1 \r\n        }else {\r\n          temp1 += 1\r\n        }\r\n      });\r\n      return temp1\r\n    },\r\n    //跳转到文章详情\t\r\n    toArticle(index) {\r\n      this.$router.push({\r\n        path: '/articleDetails',\r\n        query: {\r\n          articleId: this.artList[index].id,\r\n          name: this.$route.query.name}})\r\n    },\r\n     //下拉刷新\r\n    loadBottom() {\r\n      this.$refs.load.onBottomLoaded();\r\n      this.pullDownData()\r\n    },\r\n    //下拉加载数据\r\n    pullDownData() {\r\n      this.allLoaded = true\r\n      console.log('artlist',this.artList.length);\r\n      let len = (this.artList.length)/10 + 1\r\n      if(Math.floor(len) < len) {\r\n        this.allLoaded = true\r\n      }else {\r\n        this.page = len\r\n        console.log(this.page);\r\n        let obj = this.getCategoriesId(this.page, this.limit)\r\n        obj = this.setType(obj);\r\n        this.getArticlesList(obj);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.listComp {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  overflow: scroll; \r\n  box-sizing: border-box;\r\n  -webkit-overflow-scrolling: touch;\r\n  padding-bottom: 44vw;\r\n  background: #f8f8f8;\r\n  li {\r\n    width: 100vw;\r\n    height: 26.66vw;\r\n    box-shadow:0px 1px 1px 0px rgba(136,136,136,0.1);\r\n    padding: 4.4vw;\r\n    box-sizing: border-box;\r\n    margin-bottom: 2.4vw;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .list_left {\r\n      flex: 0.8;\r\n      height: 20.66vw;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-content: space-between;\r\n      h1 {\r\n        color: #363636;\r\n        font-size: 4.8vw;\r\n        //font-weight: bold;\r\n        flex: 0.8;\r\n        line-height: 1.5em;\r\n        img{\r\n              display: inline-block;\r\n              width: 4.8vw;\r\n              height: 4.8vw;\r\n              background: red;\r\n              vertical-align:-3px;\r\n              margin-right:2px;\r\n              background-repeat: no-repeat;\r\n              background-position: center center;\r\n              background-size: 4.8vw 4.8vw;\r\n          }\r\n      }\r\n      .list_bottom {\r\n        flex: 0.2;\r\n        font-size: 3.73vw;\r\n        .top {\r\n          color: #ff2d55;\r\n        }\r\n        .time {\r\n          color: #909090;\r\n        }\r\n      }\r\n    }\r\n    .list_right {\r\n      flex: 0.25;\r\n      width: 21.33vw;\r\n      height: 21.33vw;\r\n      border:1px solid rgba(225,225,225,1);\r\n       .img {\r\n        width: 21.33vw;\r\n        height: 21.33vw;\r\n      }\r\n    }\r\n  }\r\n .search_nothing {\r\n    // border-top: 1px solid #ccc;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    p {\r\n      width: 100%;\r\n      font-size: 4.8vw;\r\n      color: #42596c;\r\n      font-weight: bold;\r\n      background:linear-gradient(0deg,rgba(63,186,230,1) 0%, rgba(172,208,218,1) 100%);\r\n      -webkit-background-clip:text;\r\n      -webkit-text-fill-color:transparent;\r\n      text-align: center;\r\n      position: absolute;\r\n      top: 20.06vw;\r\n      left: 0;\r\n    }\r\n    .search_bg {\r\n      background: url(../../../assets/imgs/search_nothing.png) no-repeat center;\r\n      width: 100%;\r\n      height: 129.6vw;\r\n      background-size: 100% 100%;\r\n      box-sizing: border-box;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/msManage/service/eggListComp.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"myScroll\",staticClass:\"listComp\"},[_c('ul',[_c('mt-loadmore',{ref:\"load\",attrs:{\"bottom-method\":_vm.loadBottom,\"bottom-all-loaded\":_vm.allLoaded,\"auto-fill\":false}},_vm._l((_vm.artList),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){$event.preventDefault();return _vm.toArticle(index)}}},[_c('div',{staticClass:\"list_left\"},[_c('h1',[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.logoImageUrl!==''),expression:\"item.logoImageUrl!==''\"}],attrs:{\"src\":item.logoImageUrl}}),_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"list_bottom\"},[(item.top)?_c('span',{staticClass:\"top\"},[_vm._v(\"置顶\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(item.createTime)+\"  \"+_vm._s(item.author))])])]),_vm._v(\" \"),_c('div',{staticClass:\"list_right\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.image,\"alt\":\"\"}})])])}),0)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noData),expression:\"noData\"}],staticClass:\"search_nothing\"},[_c('p',[_vm._v(\"很抱歉，没有找到相关内容\")]),_vm._v(\" \"),_c('div',{staticClass:\"search_bg\"})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ac602ce\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/msManage/service/eggListComp.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ac602ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./eggListComp.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./eggListComp.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./eggListComp.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ac602ce\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./eggListComp.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1ac602ce\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/msManage/service/eggListComp.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"policy paddingTop\">\r\n    <banner :title=\"title\"/>\r\n    <!-- list为传入参数，getparmas为组件点击得到的选项-->\r\n    <div class='treeList'>\r\n      <treeList :style=\"{'paddingTop':`${paddingTop}vw`}\"\r\n        :getParmas='getParmas' \r\n        :getStatus='getStatus'/>\r\n    </div>\r\n    <listComp :class=\"listComp\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations,mapState} from 'vuex'\r\nimport treeList from '../../components/msManage/service/eggTreeListComp'\r\nimport listComp from '../../components/msManage/service/eggListComp'\r\nimport banner from '../../components/banner'\r\nimport {isIPhoneX} from '../../utils/msManage'\r\nexport default {\r\n  components:{ treeList,listComp,banner },\r\n  data() {\r\n    return {\r\n      listComp: 'listComp',\r\n      title: '',\r\n      paddingTop: '',\r\n      hasSubData: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      list: state => state.treeList.list,\r\n      parmas: state => state.treeList.parmas\r\n    })\r\n  },\r\n  watch: {\r\n    parmas() {\r\n      this.init()\r\n    },\r\n    list() {\r\n      this.hasSub()\r\n      if(this.hasSubData) {\r\n        this.listComp = 'listComp'\r\n      }else {\r\n        this.initTop()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    // this.getCategoriesList()\r\n    this.initParmas()\r\n    this.initTitile()\r\n    this.isIPhoneX()\r\n  },\r\n  mounted() {\r\n    // this.initTop()\r\n    this.init()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setParmas']),\r\n    //判断传进来的一级参数\r\n    initTitile() {\r\n      this.title = this.$route.query.name\r\n    },\r\n    //初始化列表的active状态\r\n    initParmas() {\r\n      if(this.$route.query.type === 1) {    //type从acticle传回来变成字符串1\r\n        this.setParmas({})\r\n      }\r\n    },\r\n    //获取每一级的参数name\r\n    getParmas(val) {\r\n      this.setParmas(val)\r\n    },\r\n    //获取子级状态设置css\r\n    getStatus(val) {\r\n      if(!val) {\r\n        this.listComp = 'listComp1'\r\n      }else {\r\n        this.listComp = 'listComp'\r\n      }\r\n    },\r\n    //初始化列表的高度设置css\r\n    initTop() {\r\n      if(this.list.length) {\r\n        if(this.list[0].subCateList) {\r\n          this.listComp = 'listComp'\r\n        }else if(!this.list[0].subCateList) {\r\n          if(this.parmas.name1 && this.parmas.name2) {\r\n            this.listComp = 'listComp'\r\n          }else {\r\n            this.listComp = 'listComp1'\r\n          }\r\n        }\r\n      }\r\n    },\r\n    init() {\r\n      if(!this.parmas.name1) {\r\n        this.listComp = 'listComp0'\r\n      }\r\n    },\r\n    //判断是否有二级参数\r\n    hasSub() {\r\n      if(this.parmas && !this.parmas.name1) {\r\n        return\r\n      }\r\n      this.list.map((item, index) => {\r\n        if(item.id === this.parmas.name1) {\r\n          if(item.subCateList && item.subCateList.length) {\r\n            this.hasSubData = true\r\n            return\r\n          }\r\n        }\r\n      })\r\n    },\r\n    isIPhoneX (){\r\n      let phone = this.phoneSize()\r\n      if(phone === 'iphonex') {\r\n        this.paddingTop = '22'\r\n      }else if(phone === 'iphone') {\r\n        this.paddingTop = '16'\r\n      }else {\r\n        this.paddingTop = '16'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.policy {\r\n  position: relative;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n  // margin-bottom: 10vw;\r\n  .treeList {\r\n    padding-top: 16vw;\r\n  }\r\n  .listComp {\r\n    position: absolute;\r\n    top: 39vw;\r\n    left: 0;\r\n  }\r\n   .listComp1 {\r\n    position: absolute;\r\n    top: 28vw;\r\n    left: 0;\r\n  }\r\n   .listComp0 {\r\n    position: absolute;\r\n    top: 16vw;\r\n    left: 0;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/msManage/policy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"policy paddingTop\"},[_c('banner',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{staticClass:\"treeList\"},[_c('treeList',{style:({'paddingTop':(_vm.paddingTop + \"vw\")}),attrs:{\"getParmas\":_vm.getParmas,\"getStatus\":_vm.getStatus}})],1),_vm._v(\" \"),_c('listComp',{class:_vm.listComp})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-dc0d2b00\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/msManage/policy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-dc0d2b00\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./policy.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./policy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./policy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-dc0d2b00\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./policy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-dc0d2b00\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/msManage/policy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}