{"version":3,"sources":["webpack:///src/components/mySelect/followSelect.vue","webpack:///./src/components/mySelect/followSelect.vue?2857","webpack:///./src/components/mySelect/followSelect.vue","webpack:///src/pages/Personal/intention/followRecord.vue","webpack:///./src/pages/Personal/intention/followRecord.vue?9994","webpack:///./src/pages/Personal/intention/followRecord.vue"],"names":["vue_esm","component","mint_ui_common","name","utils","mySelect_followSelect","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","click","open","_v","_s","label","directives","rawName","value","expression","attrs","type","readonly","placeholder","domProps","input","$event","$emit","target","src","__webpack_require__","alt","_e","position","model","callback","$$v","popupVisible","slots","showToolbar","value-key","change","onValuesChange","cancel","update","staticRenderFns","components_mySelect_followSelect","normalizeComponent","props","data","flex","values","className","textAlign","arr","mounted","methods","picker","getValues","ssrContext","followRecord_indexModel","followRecord","form","follow","time","residentTime","report","nextTime","plan","selectIcon","oppId","isClear","path","components","mybanner","banner","Btn","yanInput","yanTextarea","followSelect","dateSelect","upload","filesUpload","durationSelect","watch","$route","to","from","computed","extends_default","Object","vuex_esm","activated","meta","isUseCache","query","valid","js","tip","compareTimeStamp","remarkReg","reg","length","substring","test","changeStr","str","replace","_this","formData","FormData","Files","i","append","obj","updateParams","keys","key","push","console","log","updateTrackrecord","then","res","code","setFiles","setPicVal","$router","back","msg","catch","reject","tempObj","temp","opportunity.oppId","record.source","record.residentTime","record.followDate","record.nextDate","record.situation","record.plan","updateTime","anotherVal","$set","updateNextTime","updateResidentTime","updateFollow","beforeRouteEnter","next","vm","indexTimeB","Date","intention_followRecord","staticStyle","background","title","_b","showIcon","formInfo","day","duration","maxlength","trim","ref","picLen","clear","followRecord_Component","followRecord_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/67.db13d1e23b841e9712ca.js","sourcesContent":["<template>\r\n  <div class=\"inputBox\">\r\n      <label @click=\"open\">\r\n          <span>{{label}}<span class=\"yan-red\" v-show=\"required\">*</span></span>\r\n          <input  type=\"text\" :value=\"value\" readonly  :placeholder=\"placeholder\" @input=\"$emit('input',$event.target.value)\">\r\n      </label>\r\n      <div class=\"icon-right\" v-if=\"showIcon\">\r\n        <img src=\"../../assets/imgs/rightside.png\" alt=\"\">\r\n      </div>\r\n      <mt-popup v-model=\"popupVisible\" position=\"bottom\">\r\n        <mt-picker :slots=\"slots\" @change=\"onValuesChange\" :showToolbar=\"true\" value-key='name'>\r\n          <div class=\"btn-group\">\r\n              <div @click=\"cancel\">取消</div>\r\n              <div @click=\"update\">确定</div>\r\n            </div>\r\n        </mt-picker>\r\n      </mt-popup>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport { Popup, Picker } from 'mint-ui';\r\nVue.component(Picker.name, Picker);\r\nVue.component(Popup.name, Popup);\r\nimport {IndexModel} from '../../utils'\r\nconst indexModel=new IndexModel()\r\nexport default {\r\n  props:['value','label','placeholder','showIcon','required'],\r\n  data(){\r\n    return{\r\n      popupVisible:false,\r\n      slots:[\r\n        {\r\n          flex: 1,\r\n          values: ['到店沟通','电话沟通','微信沟通'],\r\n          className: 'slot1',\r\n          textAlign: 'center'\r\n        }\r\n      ],\r\n      arr:[]\r\n    }\r\n  },\r\n  mounted(){\r\n  },\r\n  methods:{\r\n    onValuesChange(picker,values){\r\n      this.arr=picker.getValues();\r\n      //console.log(this.arr);\r\n    },\r\n    open(){\r\n      this.popupVisible=true;\r\n    },\r\n    cancel(){\r\n      this.popupVisible=false;\r\n    },\r\n    update(){\r\n      this.$emit('update',this.arr);\r\n      this.popupVisible=false;\r\n    }\r\n   \r\n  }\r\n \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.inputBox{\r\n  font-size: 4vw;\r\n  color:#363636;\r\n  height:12vw;\r\n  line-height: 12vw;\r\n  padding-right:4.266vw;\r\n  display:flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  label{\r\n    width:100%;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    span{\r\n      display: inline-block;\r\n      width:22.4vw;\r\n    }\r\n    .yan-red{\r\n      display: inline;\r\n      color:#FB222B;\r\n    }\r\n    \r\n  }\r\n  input:-moz-input-placeholder{\r\n    font-size: 4vw;\r\n    color:#909090;\r\n  }\r\n  input::-moz-input-placeholder{\r\n    font-size: 4vw;\r\n    color:#909090;\r\n  }\r\n  input::-ms-input-placeholder{\r\n    font-size: 4vw;\r\n    color:#909090;\r\n  }\r\n  input::-webkit-input-placeholder{\r\n    font-size: 4vw;\r\n    color:#909090;\r\n  }\r\n  input{\r\n    color:#363636;\r\n    font-size: 4vw;\r\n    flex: 1;\r\n  }\r\n  .icon-right{\r\n    margin-left:2.133vw;\r\n    //padding-right:4.266vw;\r\n    img{\r\n      width: 1.86vw;\r\n      height: 3.06vw;\r\n    }\r\n  }\r\n  .btn-group{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    flex-direction: row;\r\n    //padding:0 4.266vw;\r\n    div{\r\n      //flex:1;\r\n      color:#26a2ff;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/mySelect/followSelect.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"inputBox\"},[_c('label',{on:{\"click\":_vm.open}},[_c('span',[_vm._v(_vm._s(_vm.label)),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.required),expression:\"required\"}],staticClass:\"yan-red\"},[_vm._v(\"*\")])]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"readonly\":\"\",\"placeholder\":_vm.placeholder},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input',$event.target.value)}}})]),_vm._v(\" \"),(_vm.showIcon)?_c('div',{staticClass:\"icon-right\"},[_c('img',{attrs:{\"src\":require(\"../../assets/imgs/rightside.png\"),\"alt\":\"\"}})]):_vm._e(),_vm._v(\" \"),_c('mt-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.popupVisible),callback:function ($$v) {_vm.popupVisible=$$v},expression:\"popupVisible\"}},[_c('mt-picker',{attrs:{\"slots\":_vm.slots,\"showToolbar\":true,\"value-key\":\"name\"},on:{\"change\":_vm.onValuesChange}},[_c('div',{staticClass:\"btn-group\"},[_c('div',{on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('div',{on:{\"click\":_vm.update}},[_vm._v(\"确定\")])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fd0c8ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/mySelect/followSelect.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fd0c8ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./followSelect.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./followSelect.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./followSelect.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fd0c8ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./followSelect.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fd0c8ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/mySelect/followSelect.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"addAdress\">\r\n      <mybanner :title=\"title\" style=\"background:#f8f8f8\">\r\n        <button type=\"button\" @click=\"update\">保存</button>\r\n      </mybanner>\r\n      <ul class=\"list\">\r\n        <li>\r\n          <follow-select v-bind=\"formInfo.follow\" v-model=\"form.follow\" @update=\"updateFollow\" :showIcon=\"selectIcon\" class=\"li_border\"/>\r\n        </li>\r\n        <li>\r\n          <date-select day='end' v-bind=\"formInfo.time\" v-model=\"form.time\" @update=\"updateTime\" :showIcon=\"selectIcon\" class=\"li_border\"/>\r\n        </li>\r\n        <li>\r\n          <duration-select v-bind=\"formInfo.duration\" v-model=\"form.residentTime\"  @update=\"updateResidentTime\" :showIcon=\"selectIcon\"/>\r\n        </li>\r\n      </ul>\r\n      <yan-textarea v-bind=\"formInfo.report\" :maxlength='300' v-model.trim=\"form.report\"/>\r\n      <div class=\"next\">\r\n         <date-select v-bind=\"formInfo.nextTime\" v-model=\"form.nextTime\"  @update=\"updateNextTime\" :showIcon=\"selectIcon\"/>\r\n      </div>\r\n      <yan-textarea v-bind=\"formInfo.plan\" :maxlength='300' v-model.trim=\"form.plan\"/>\r\n      <p class=\"title\">附件图片</p>\r\n      <upload ref=\"upload\" picLen='5' :clear=\"isClear\" :path=\"path\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from 'vue'\r\nimport mybanner from '../../../components/banner'\r\nimport Btn from '../../../components/personal/Btn'\r\nimport yanInput from '../../../components/yanInput'\r\nimport yanTextarea from '../../../components/yanTextarea'\r\nimport followSelect from '../../../components/mySelect/followSelect'\r\nimport dateSelect from '../../../components/mySelect/dateSelect'\r\nimport upload from '../../../components/upload/filesUpload'\r\nimport durationSelect from '../../../components/mySelect/durationSelect'\r\nimport { Picker, Toast } from 'mint-ui';\r\nimport { mapState, mapMutations } from 'vuex'\r\nVue.component(Picker.name, Picker);\r\nimport { IndexModel } from '../../../utils'\r\nconst indexModel=new IndexModel();\r\nimport mango from '../../../js'\r\nexport default {\r\n  data () {\r\n    return {\r\n      form:{\r\n       follow:'到店沟通',\r\n       time:'',\r\n       residentTime:'',\r\n       report:'',\r\n       nextTime:'',\r\n       plan:''\r\n      },\r\n      selectIcon:true,\r\n      oppId:'',\r\n      isClear:true,\r\n      path:'/followRecord'\r\n    }\r\n  },\r\n  components:{\r\n     mybanner,\r\n     Btn,\r\n     yanInput,\r\n     yanTextarea,\r\n     followSelect,\r\n     dateSelect,\r\n     upload,\r\n     durationSelect\r\n  },\r\n  watch:{\r\n    $route(to,from){\r\n      // if(from.name===\"intention\"){\r\n      //   this.$route.meta.keepAlive=false;\r\n      //   this.setFiles([]);\r\n      //   this.setPicVal([]);\r\n      // }\r\n      // if(from.name===\"/previewImg\"){\r\n      //    this.$route.meta.keepAlive=true;\r\n      // }\r\n    }\r\n  },\r\n  computed:{\r\n    ...mapState('followRecord',[\r\n      'title',\r\n      'formInfo'\r\n    ]),\r\n    ...mapState(['Files'])\r\n  },\r\n  // created(){\r\n  //   console.log(\"created\");\r\n  //  this.oppId=this.$route.query.oppId;\r\n  //  this.setFiles([]);\r\n  //  this.setPicVal([]);\r\n  // },\r\n  activated(){\r\n    if(!this.$route.meta.isUseCache){\r\n       this.oppId=this.$route.query.oppId;\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapMutations(['setFiles','setPicVal']),\r\n    valid(){\r\n      if(this.form.oppId===''){\r\n        mango.tip('意向ID不能为空');\r\n        return false;\r\n      }\r\n      if(this.form.follow===''){\r\n        mango.tip('请选择跟进方式');\r\n        return false;\r\n      }\r\n      if(this.form.time===''){\r\n        mango.tip('请选择跟进时间');\r\n        return false;\r\n      }\r\n      if(this.form.residentTime===''){\r\n        mango.tip('请选择跟进时长');\r\n        return false;\r\n      }\r\n      if(this.form.report===''){\r\n        mango.tip('请填写本次跟进情况');\r\n        return false;\r\n      }\r\n      // if(this.form.nextTime===''){\r\n      //   mango.tip('请选择下次跟进时间');\r\n      //   return false;\r\n      // }\r\n      // if(this.form.plan===''){\r\n      //   mango.tip('请填写下一步跟进计划');\r\n      //   return false;\r\n      // }\r\n      if(this.form.nextTime){\r\n        if(!mango.compareTimeStamp(this.form.time,this.form.nextTime)){\r\n          if(this.form.time!==this.form.nextTime){\r\n            mango.tip('下次跟进时间不能小于当前跟进时间');\r\n            return false;\r\n          }  \r\n        }\r\n      }\r\n      let remarkReg=/[\\ud800-\\udbff][\\udc00-\\udfff]/g;\r\n      let reg=/^[\\u4E00-\\u9FA5a-zA-Z0-9\\s]{1,}$/;\r\n      if(this.form.report.length>300){\r\n        this.form.report=this.form.report.substring(0,300);\r\n        mango.tip('跟进情况不能超过300字');\r\n        return false;\r\n      }\r\n      if(remarkReg.test(this.form.report)){\r\n        this.form.report=this.changeStr(this.form.report)\r\n        mango.tip('跟进情况不支持表情');\r\n        return false;\r\n      }\r\n      if(!reg.test(this.form.report)){\r\n        mango.tip('跟进情况不支持特殊符号');\r\n        return false;\r\n      }\r\n      if(this.form.plan.length>300){\r\n        this.form.plan=this.form.plan.substring(0,300);\r\n        mango.tip('跟进计划不能超过300字');\r\n        return false;\r\n      }\r\n      if(this.form.plan!==''&&remarkReg.test(this.form.plan)){\r\n        this.form.plan=this.changeStr(this.form.plan)\r\n        mango.tip('跟进计划不支持表情');\r\n        return false;\r\n      }\r\n       if(this.form.plan!==''&&!reg.test(this.form.plan)){\r\n        mango.tip('跟进计划不支持特殊符号');\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    changeStr(str){\r\n      let string = str.replace(/[\\ud800-\\udbff][\\udc00-\\udfff]/g,'')\r\n      return string\r\n    },\r\n   update(){\r\n      if(this.valid()){\r\n        let formData=new FormData();\r\n        if(this.Files.length>0){\r\n          for(let i=0;i<this.Files.length;i++){\r\n              formData.append('record.dataFile',this.Files[i]);\r\n          }\r\n        }\r\n        let obj=this.updateParams(this.form);\r\n        let keys=[];\r\n        for(let key in obj){\r\n          formData.append(key,obj[key])\r\n          keys.push(key)\r\n        }\r\n        console.log(keys);\r\n        console.log(obj);\r\n        indexModel.updateTrackrecord(formData,keys,obj).then(res => {\r\n          if(res.code===0){\r\n            mango.tip(\"提交成功\");\r\n            this.setFiles([]);\r\n            this.setPicVal([]);\r\n            this.isClear=true;\r\n            this.form.follow='';\r\n            this.form.time='';\r\n            this.form.residentTime='';\r\n            this.form.nextTime='';\r\n            this.form.report='';\r\n            this.form.plan='';\r\n            this.$router.back(-1);\r\n          }else{\r\n            mango.tip(res.msg);\r\n            this.setFiles([]);\r\n            this.setPicVal([]);\r\n            this.isClear=true;\r\n            this.form.follow='';\r\n            this.form.time='';\r\n            this.form.residentTime='';\r\n            this.form.nextTime='';\r\n            this.form.report='';\r\n            this.form.plan='';\r\n          };\r\n        }).catch((reject) => {\r\n          if (reject === 510) {\r\n            this.update()\r\n          }\r\n        })\r\n      }\r\n     \r\n   },\r\n   updateParams(obj){\r\n    let tempObj={};\r\n    let temp={\r\n      'opportunity.oppId':this.oppId,\r\n      'record.source':obj.follow,\r\n      'record.residentTime':obj.residentTime,\r\n      'record.followDate':obj.time,\r\n      'record.nextDate':obj.nextTime,\r\n      'record.situation':obj.report,\r\n      'record.plan':obj.plan\r\n    }\r\n    for(let key in temp){\r\n      if(temp[key]||temp[key]===0){\r\n        tempObj[key]=temp[key]\r\n      }\r\n    }\r\n    return tempObj   \r\n   },\r\n   //选择更新跟进时间\r\n   updateTime(value,anotherVal){\r\n     this.$set(this.form,'time',anotherVal);\r\n   },\r\n   //选择更新下次跟进\r\n   updateNextTime(value,anotherVal){\r\n     this.$set(this.form,'nextTime',anotherVal);\r\n   },\r\n   //选择更新留店时长\r\n   updateResidentTime(value){\r\n    console.log(value);\r\n    if(!value){\r\n      this.form.residentTime='0分钟';\r\n    }else{\r\n      this.form.residentTime=value;\r\n    }\r\n   \r\n   },\r\n   //选择跟进\r\n   updateFollow(arr){\r\n    this.form.follow=arr[0];\r\n   }\r\n      \r\n  },\r\n  beforeRouteEnter(to,from,next){\r\n    if(!to.meta.isUseCache){\r\n      next(vm => {\r\n        vm.setFiles([]);\r\n        vm.setPicVal([]);\r\n        vm.isClear=true;\r\n        vm.form.follow='到店沟通';\r\n        vm.form.time=mango.indexTimeB(new Date())[1];\r\n        vm.form.residentTime='';\r\n        vm.form.nextTime='';\r\n        vm.form.report='';\r\n        vm.form.plan='';\r\n      })\r\n    }else{\r\n      next();\r\n    }\r\n   \r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n .addAdress{\r\n   width:100vw;\r\n   min-height: 100vh;\r\n   position: relative;\r\n   box-sizing: border-box;\r\n  padding-top:16.466vw;\r\n  .list{\r\n    width:100vw;\r\n    border-bottom: 1px solid #e1e1e1;\r\n    background: #fff;\r\n    li{\r\n      padding-left:4.266vw;\r\n      .li_border{\r\n        border-bottom: 1px solid #e1e1e1;\r\n        padding-left:none;\r\n      }\r\n    }\r\n  }\r\n  .next{\r\n    width:100vw;\r\n    padding-left:4.266vw;\r\n    border-top: 1px solid #e1e1e1;\r\n    border-bottom: 1px solid #e1e1e1;\r\n    box-sizing: border-box;\r\n    background: #fff;\r\n  }\r\n  .title{\r\n    color:#363636;\r\n    font-size:4vw;\r\n    padding:0 4.266vw;\r\n  }\r\n\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Personal/intention/followRecord.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addAdress\"},[_c('mybanner',{staticStyle:{\"background\":\"#f8f8f8\"},attrs:{\"title\":_vm.title}},[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.update}},[_vm._v(\"保存\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"list\"},[_c('li',[_c('follow-select',_vm._b({staticClass:\"li_border\",attrs:{\"showIcon\":_vm.selectIcon},on:{\"update\":_vm.updateFollow},model:{value:(_vm.form.follow),callback:function ($$v) {_vm.$set(_vm.form, \"follow\", $$v)},expression:\"form.follow\"}},'follow-select',_vm.formInfo.follow,false))],1),_vm._v(\" \"),_c('li',[_c('date-select',_vm._b({staticClass:\"li_border\",attrs:{\"day\":\"end\",\"showIcon\":_vm.selectIcon},on:{\"update\":_vm.updateTime},model:{value:(_vm.form.time),callback:function ($$v) {_vm.$set(_vm.form, \"time\", $$v)},expression:\"form.time\"}},'date-select',_vm.formInfo.time,false))],1),_vm._v(\" \"),_c('li',[_c('duration-select',_vm._b({attrs:{\"showIcon\":_vm.selectIcon},on:{\"update\":_vm.updateResidentTime},model:{value:(_vm.form.residentTime),callback:function ($$v) {_vm.$set(_vm.form, \"residentTime\", $$v)},expression:\"form.residentTime\"}},'duration-select',_vm.formInfo.duration,false))],1)]),_vm._v(\" \"),_c('yan-textarea',_vm._b({attrs:{\"maxlength\":300},model:{value:(_vm.form.report),callback:function ($$v) {_vm.$set(_vm.form, \"report\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.report\"}},'yan-textarea',_vm.formInfo.report,false)),_vm._v(\" \"),_c('div',{staticClass:\"next\"},[_c('date-select',_vm._b({attrs:{\"showIcon\":_vm.selectIcon},on:{\"update\":_vm.updateNextTime},model:{value:(_vm.form.nextTime),callback:function ($$v) {_vm.$set(_vm.form, \"nextTime\", $$v)},expression:\"form.nextTime\"}},'date-select',_vm.formInfo.nextTime,false))],1),_vm._v(\" \"),_c('yan-textarea',_vm._b({attrs:{\"maxlength\":300},model:{value:(_vm.form.plan),callback:function ($$v) {_vm.$set(_vm.form, \"plan\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.plan\"}},'yan-textarea',_vm.formInfo.plan,false)),_vm._v(\" \"),_c('p',{staticClass:\"title\"},[_vm._v(\"附件图片\")]),_vm._v(\" \"),_c('upload',{ref:\"upload\",attrs:{\"picLen\":\"5\",\"clear\":_vm.isClear,\"path\":_vm.path}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-086079dd\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Personal/intention/followRecord.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-086079dd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./followRecord.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./followRecord.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./followRecord.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-086079dd\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./followRecord.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-086079dd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Personal/intention/followRecord.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}